(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

// 3rd party libs

require("./lib/angular.min.js");
require("./lib/angular-sanitize.min.js");
require("./lib/angular-animate.min.js");
require("./lib/angular-animate.min.js");
require("./lib/angular-route.min.js");
require("./lib/angular-mocks.js");

// main application imports

require("./slides");
require("./quiz");
require("./datasources");
require("./ime");

// angular startup

var app = angular.module("quizzer", [
    "ngAnimate",
    "ngSanitize",
    "ngRoute",
    "app.quiz",
    "app.slides",
    "app.sources",
    "app.ime"
]);

var config = function($interpolateProvider, $locationProvider, $routeProvider) {

    $interpolateProvider.startSymbol('{$');
    $interpolateProvider.endSymbol('$}');
    $locationProvider.html5Mode(true);

    $routeProvider.when("/conjugation", {
        templateUrl : "/static/partials/conjugation.html",
        controller : "SlideController",
        controllerAs : "slides"
    });

}

app.config(config);

},{"./datasources":3,"./ime":6,"./lib/angular-animate.min.js":7,"./lib/angular-mocks.js":8,"./lib/angular-route.min.js":9,"./lib/angular-sanitize.min.js":10,"./lib/angular.min.js":11,"./quiz":15,"./slides":18}],2:[function(require,module,exports){
"use strict";


// given a string a, and a string transform, returns the transformed a.
// example transforms : "a>b", "a>b,b>c", ">a", "a>", "a>b|b>c"

// Why not regex? Because I also need to present the transformations to
// laymen users as a guide on how it was mechanicall conjugated.

var T = function(w, t) {

    var segs  = t.split("|");

    // for each | delimited part

    for(var s = 0; s < segs.length; s++) {

        var parts = segs[s].split(",");

        // for each , delimited part

        for(var p = 0; p < parts.length; p++) {

            var changed = false;
            var oper = parts[p];

            // perform the > operation

            if(oper.contains(">")) {

                var befr = oper.split(">")[0];
                var aftr = oper.split(">")[1];

                if(w.endsWith(befr)){
                    w = w.substring(0, w.length - befr.length) + aftr;
                    changed = true;
                }

            }

            // break after the first change

            if(changed) {
                break;
            }

        }

    }

    return w;

}

// the conjugations

var godan_conjugations = function() {
        
    this.dict = "",
    this.stem = "u>",
    this.ta   = "nu>nda,mu>nda,bu>nda,ru>tta,u>tta,tsu>tta,ku>ita,gu>ida,su>shita",
    this.te   = "nu>nde,mu>nde,bu>nde,ru>tte,u>tte,tsu>tte,ku>ite,gu>ide,su>shite",

    this.indicative = {

        present : {
            positive : { plain : "", formal : "u>imasu" },
            negative : { plain : "u>anai", formal : "u>imasen" }
        },

        past : {
            positive : { plain : this.ta, formal : "u>imashita" },
            negative : { plain : "u>anakatta", formal : "u>imasen deshita" }
        }

    };

    this.potential = {

        present : {
            positive : { plain : "u>eru", formal : "u>emasu" },
            negative : { plain : "u>enai", formal : "u>emasen" }
        }

    }; 

    this.causative = {

        present : {
            positive : { plain : "u>aseru", formal : "u>asemasu" },
            negative : { plain : "u>asenai", formal : "u>asemasen" }
        }

    };

    this.imperative = {

        present : {
            positive : { plain : "u>e", formal : this.te+"|>kudasai" },
            negative : { plain : ">na", formal : "u>anai kudasai" }
        }

    };

    this.progressive = {

        present : {
            positive : { plain : this.te+"|>iru", formal : this.te+"|>imasu" },
            negative : { plain : "", formal : this.te+"|>imasen" }
        },

        past : {
            positive : { plain : this.te+"|>ita", formal : this.te+"|>imashita" },
            negative : { plain : "", formal : this.te+"|>imasen deshita" }
        }

    };

    this.presumptive_probable = {

        present : {
            positive : { plain : "> daro", formal : "> desho" },
            negative : { plain : "u>anai|> daro", formal : "u>anai|> desho" }
        },

        past : {
            positive : { plain : this.ta+"|> daro", formal : this.ta+"|> desho"},
            negative : { plain : "u>anakatta|> daro", formal : "u>anakatta|> desho" }
        }

    };

	this.presumptive_intent = {

        present : {
            positive : { plain : "u>o", formal : "u>masho" }
        }

    };

};

var ichidan_conjugations = function() {
        
    this.dict = "",
    this.stem = "ru>",
    this.ta   = "ru>ta",
    this.te   = "ru>te",

    this.indicative = {

        present : {
            positive : { plain : "", formal : "ru>masu" },
            negative : { plain : "ru>nai", formal : "ru>masen" }
        },

        past : {
            positive : { plain : "ru>ta", formal : "ru>mashita" },
            negative : { plain : "ru>nakatta", formal : "ru>masen deshita" }
        }

    };

    this.potential = {

        present : {
            positive : { plain : "ru>rareru", formal : "ru>raremasu" },
            negative : { plain : "ru>rarenai", formal : "ru>raremasen" }
        }

    }; 

    this.causative = {

        present : {
            positive : { plain : "ru>saseru", formal : "ru>sasemasu" },
            negative : { plain : "ru>sasenai", formal : "ru>sasemasen" }
        }

    };

    this.imperative = {

        present : {
            positive : { plain : "ru>ro", formal : "ru>te|>kudasai" },
            negative : { plain : ">na", formal : "ru>nai|>de kudasai" }
        }

    };

    this.progressive = {

        present : {
            positive : { plain : "ru>te|>iru", formal : "ru>te|>imasu" },
            negative : { plain : "", formal : "ru>te|>imasen" }
        },

        past : {
            positive : { plain : "ru>te|>ita", formal : "ru>te|>imashita" },
            negative : { plain : "", formal : "ru>te|>imasen deshita" }
        }

    };

    this.presumptive_probable = {

        present : {
            positive : { plain : "> daro", formal : "ru>nai daro" },
            negative : { plain : "> desho", formal : "ru>nai desho" }
        },

        past : {
            positive : { plain : "ru>ta|> daro", formal : "ru>ta|> desho" },
            negative : { plain : "ru>nakatta|> daro", formal : "ru>nakatta|> desho" }
        }

    };

    this.presumptive_intent = {

        present : {
            positive : { plain : "ru>yo", formal : "ru> masho" }
        }

    };

};

var ConjugationService = function() {

    return {

    	godan_conjugations : new godan_conjugations(),
        ichidan_conjugations : new ichidan_conjugations(),

    	conjugate : function(w, c) {
    		return T(w, c);
    	},

        all : function() {
            return [{
                item : "HODOR?",
                question : "What's that hodor?",
                answers : ["HODOR", "HODOR", "HODOR"],
                explanation : "HODOR",
                example : "HODOR"
            }, {
                item : "BRODOR?",
                question : "What's that brodor?",
                answers : ["BRODOR"],
                explanation : "BRODOR",
                example : "BRODOR"
            }];
        },

        checkAnswer : function(question, ans) {
            var normalisedAns = ans.replace(" ", "\\W*");
            return question.answers.filter(
                function(f){ return f.match(normalisedAns) !== null }
            ).length > 0;
        }
    };

};

angular.module("app.sources").factory("ConjugationService", ConjugationService);

module.exports = ConjugationService;

},{}],3:[function(require,module,exports){

angular.module("app.sources", []);

module.exports.ConjugationService = require("./conjugation.js");
module.exports.ParticleService = require("./particles.js");

},{"./conjugation.js":2,"./particles.js":4}],4:[function(require,module,exports){
"use strict";

var ParticleService = function() {

    return {

        all : function() {
            return [{
                item : "に",
                question : "What's that particle?",
                answers : ["time", "destination", "direction"],
                explanation : "に can be thought of as the 'target' of a verb. It can come after time, destination",
                example : "にほん <strong>に</strong> いきます / went to Japan"
            },{
                item : "で",
                question : "What's that particle?",
                answers : ["place", "at", "by way of"],
                explanation : "で denotes the 'how' or 'where' of a verb",
                example : "くるま <strong>で</strong> いきます / to go by car"
            },{
                item : "は",
                question : "What's that particle?",
                answers : ["topic marker", "topic"],
                explanation : "は is the Topic Marker, it places emphasis on what came before it",
                example : "牛 <strong>は</strong> たべます / I ate the cow"
            },{
                item : "にほん <span class='light'>?</span> いきます",
                question : "What's that particle?",
                answers : ["に"],
                explanation : "に can be thought of as the 'target' of a verb. It can come after time, destination, direction",
                ime: true
            }];
        },

        checkAnswer : function(question, ans) {
            var normalisedAns = ans.replace(" ", "\\W*");
            return question.answers.filter(
                function(f){ return f.match(normalisedAns) !== null }
            ).length > 0;
        }

    }
};

angular.module("app.sources").service("ParticleService", ParticleService);

module.exports = ParticleService;

},{}],5:[function(require,module,exports){
"use strict";

var wanakana = require("../lib/wanakana.js");

var ImeDirective = function() {

    return {
        restrict: "AC",
        link: function(scope, elem, attrs) {

            elem.bind("keypress", function(event){
                if(event.which == 13){
                    scope.$apply(function() {
                        if(scope.quiz.answered){
                            scope.quiz.next();
                        } else {
                            scope.quiz.attempt();
                        }
                    });
                }
            });

            scope.$watch("quiz.questions.current", function(n, o){
                wanakana.unbind(elem[0]);
                if(scope.finished && scope.quiz.questions.current.ime){
                    wanakana.bind(elem[0]);
                }
            });

        }
    };
};

angular.module("app.ime").directive("ngIme", ImeDirective);

module.exports = ImeDirective;

},{"../lib/wanakana.js":12}],6:[function(require,module,exports){

angular.module("app.ime", []);

module.exports.ImeDirective = require("./directives.js");

},{"./directives.js":5}],7:[function(require,module,exports){
/*
 AngularJS v1.5.0
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(D,r,Va){'use strict';function ya(a,b,c){if(!a)throw Ka("areq",b||"?",c||"required");return a}function za(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;ba(a)&&(a=a.join(" "));ba(b)&&(b=b.join(" "));return a+" "+b}function La(a){var b={};a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from);return b}function X(a,b,c){var d="";a=ba(a)?a:a&&R(a)&&a.length?a.split(/\s+/):[];s(a,function(a,g){a&&0<a.length&&(d+=0<g?" ":"",d+=c?b+a:a+b)});return d}function Ma(a){if(a instanceof I)switch(a.length){case 0:return[];
case 1:if(1===a[0].nodeType)return a;break;default:return I(oa(a))}if(1===a.nodeType)return I(a)}function oa(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1==c.nodeType)return c}}function Na(a,b,c){s(b,function(b){a.addClass(b,c)})}function Oa(a,b,c){s(b,function(b){a.removeClass(b,c)})}function U(a){return function(b,c){c.addClass&&(Na(a,b,c.addClass),c.addClass=null);c.removeClass&&(Oa(a,b,c.removeClass),c.removeClass=null)}}function ka(a){a=a||{};if(!a.$$prepared){var b=a.domOperation||
Q;a.domOperation=function(){a.$$domOperationFired=!0;b();b=Q};a.$$prepared=!0}return a}function fa(a,b){Aa(a,b);Ba(a,b)}function Aa(a,b){b.from&&(a.css(b.from),b.from=null)}function Ba(a,b){b.to&&(a.css(b.to),b.to=null)}function V(a,b,c){var d=b.options||{};c=c.options||{};var e=(d.addClass||"")+" "+(c.addClass||""),g=(d.removeClass||"")+" "+(c.removeClass||"");a=Pa(a.attr("class"),e,g);c.preparationClasses&&(d.preparationClasses=ca(c.preparationClasses,d.preparationClasses),delete c.preparationClasses);
e=d.domOperation!==Q?d.domOperation:null;Ca(d,c);e&&(d.domOperation=e);d.addClass=a.addClass?a.addClass:null;d.removeClass=a.removeClass?a.removeClass:null;b.addClass=d.addClass;b.removeClass=d.removeClass;return d}function Pa(a,b,c){function d(a){R(a)&&(a=a.split(" "));var b={};s(a,function(a){a.length&&(b[a]=!0)});return b}var e={};a=d(a);b=d(b);s(b,function(a,b){e[b]=1});c=d(c);s(c,function(a,b){e[b]=1===e[b]?null:-1});var g={addClass:"",removeClass:""};s(e,function(b,c){var d,e;1===b?(d="addClass",
e=!a[c]):-1===b&&(d="removeClass",e=a[c]);e&&(g[d].length&&(g[d]+=" "),g[d]+=c)});return g}function G(a){return a instanceof r.element?a[0]:a}function Qa(a,b,c){var d="";b&&(d=X(b,"ng-",!0));c.addClass&&(d=ca(d,X(c.addClass,"-add")));c.removeClass&&(d=ca(d,X(c.removeClass,"-remove")));d.length&&(c.preparationClasses=d,a.addClass(d))}function la(a,b){var c=b?"-"+b+"s":"";ha(a,[ia,c]);return[ia,c]}function pa(a,b){var c=b?"paused":"",d=Y+"PlayState";ha(a,[d,c]);return[d,c]}function ha(a,b){a.style[b[0]]=
b[1]}function ca(a,b){return a?b?a+" "+b:a:b}function Da(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};s(c,function(a,b){var c=e[a];if(c){var C=c.charAt(0);if("-"===C||"+"===C||0<=C)c=Ra(c);0===c&&(c=null);d[b]=c}});return d}function Ra(a){var b=0;a=a.split(/\s*,\s*/);s(a,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));a=parseFloat(a)||0;b=b?Math.max(a,b):a});return b}function qa(a){return 0===a||null!=a}function Ea(a,b){var c=S,d=a+"s";b?c+="Duration":d+=" linear all";
return[c,d]}function Fa(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function Ga(a,b,c){s(c,function(c){a[c]=Z(a[c])?a[c]:b.style.getPropertyValue(c)})}var Q=r.noop,Ha=r.copy,Ca=r.extend,I=r.element,s=r.forEach,ba=r.isArray,R=r.isString,ra=r.isObject,P=r.isUndefined,Z=r.isDefined,Ia=r.isFunction,sa=r.isElement,S,ta,Y,ua;P(D.ontransitionend)&&
Z(D.onwebkittransitionend)?(S="WebkitTransition",ta="webkitTransitionEnd transitionend"):(S="transition",ta="transitionend");P(D.onanimationend)&&Z(D.onwebkitanimationend)?(Y="WebkitAnimation",ua="webkitAnimationEnd animationend"):(Y="animation",ua="animationend");var ma=Y+"Delay",va=Y+"Duration",ia=S+"Delay";D=S+"Duration";var Ka=r.$$minErr("ng"),Sa={transitionDuration:D,transitionDelay:ia,transitionProperty:S+"Property",animationDuration:va,animationDelay:ma,animationIterationCount:Y+"IterationCount"},
Ta={transitionDuration:D,transitionDelay:ia,animationDuration:va,animationDelay:ma};r.module("ngAnimate",[]).directive("ngAnimateSwap",["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,d,e,g,H){var A,C;b.$watchCollection(e.ngAnimateSwap||e["for"],function(e){A&&a.leave(A);C&&(C.$destroy(),C=null);if(e||0===e)C=b.$new(),H(C,function(b){A=b;a.enter(b,null,d)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,
c,d){function e(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var g=d.ngAnimateChildren;r.isString(g)&&0===g.length?c.data("$$ngAnimateChildren",!0):(e(a(g)(b)),d.$observe("ngAnimateChildren",e))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a);c()}function c(){if(d.length){for(var b=d.shift(),H=0;H<b.length;H++)b[H]();e||a(function(){e||c()})}}var d,e;d=b.queue=[];b.waitUntilQuiet=function(b){e&&e();e=a(function(){e=null;b();c()})};return b}]).provider("$$animateQueue",
["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);s(a,function(a){b[a]=!0});return b}function c(a,c){if(a&&c){var d=b(c);return a.split(" ").some(function(a){return d[a]})}}function d(a,b,c,d){return g[a].some(function(a){return a(b,c,d)})}function e(a,b){var c=0<(a.addClass||"").length,d=0<(a.removeClass||"").length;return b?c&&d:c||d}var g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(a,b,c){return!b.structural&&e(b)});g.skip.push(function(a,
b,c){return!b.structural&&!e(b)});g.skip.push(function(a,b,c){return"leave"==c.event&&b.structural});g.skip.push(function(a,b,c){return c.structural&&2===c.state&&!b.structural});g.cancel.push(function(a,b,c){return c.structural&&b.structural});g.cancel.push(function(a,b,c){return 2===c.state&&b.structural});g.cancel.push(function(a,b,d){a=b.addClass;b=b.removeClass;var e=d.addClass;d=d.removeClass;return P(a)&&P(b)||P(e)&&P(d)?!1:c(a,d)||c(b,e)});this.$get=["$$rAF","$rootScope","$rootElement","$document",
"$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(b,c,g,m,M,r,u,na,v,z){function K(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0;b()})}}function J(a,b,c){var f=G(b),d=G(a),h=[];(a=x[c])&&s(a,function(a){y.call(a.node,f)?h.push(a.callback):"leave"===c&&y.call(a.node,d)&&h.push(a.callback)});return h}function h(a,f,h){function l(c,f,d,h){g(function(){var c=J(y,a,f);c.length&&b(function(){s(c,function(b){b(a,d,h)})})});c.progress(f,
d,h)}function x(b){var c=a,f=n;f.preparationClasses&&(c.removeClass(f.preparationClasses),f.preparationClasses=null);f.activeClasses&&(c.removeClass(f.activeClasses),f.activeClasses=null);Ja(a,n);fa(a,n);n.domOperation();k.complete(!b)}var n=Ha(h),z,y;if(a=Ma(a))z=G(a),y=a.parent();var n=ka(n),k=new u,g=K();ba(n.addClass)&&(n.addClass=n.addClass.join(" "));n.addClass&&!R(n.addClass)&&(n.addClass=null);ba(n.removeClass)&&(n.removeClass=n.removeClass.join(" "));n.removeClass&&!R(n.removeClass)&&(n.removeClass=
null);n.from&&!ra(n.from)&&(n.from=null);n.to&&!ra(n.to)&&(n.to=null);if(!z)return x(),k;h=[z.className,n.addClass,n.removeClass].join(" ");if(!Ua(h))return x(),k;var C=0<=["enter","move","leave"].indexOf(f),w=!L||m[0].hidden||E.get(z);h=!w&&B.get(z)||{};var v=!!h.state;w||v&&1==h.state||(w=!q(a,y,f));if(w)return x(),k;C&&xa(a);w={structural:C,element:a,event:f,addClass:n.addClass,removeClass:n.removeClass,close:x,options:n,runner:k};if(v){if(d("skip",a,w,h)){if(2===h.state)return x(),k;V(a,h,w);
return h.runner}if(d("cancel",a,w,h))if(2===h.state)h.runner.end();else if(h.structural)h.close();else return V(a,h,w),h.runner;else if(d("join",a,w,h))if(2===h.state)V(a,w,{});else return Qa(a,C?f:null,n),f=w.event=h.event,n=V(a,h,w),h.runner}else V(a,w,{});(v=w.structural)||(v="animate"===w.event&&0<Object.keys(w.options.to||{}).length||e(w));if(!v)return x(),N(a),k;var M=(h.counter||0)+1;w.counter=M;t(a,1,w);c.$$postDigest(function(){var b=B.get(z),c=!b,b=b||{},d=0<(a.parent()||[]).length&&("animate"===
b.event||b.structural||e(b));if(c||b.counter!==M||!d){c&&(Ja(a,n),fa(a,n));if(c||C&&b.event!==f)n.domOperation(),k.end();d||N(a)}else f=!b.structural&&e(b,!0)?"setClass":b.event,t(a,2),b=r(a,f,b.options),b.done(function(b){x(!b);(b=B.get(z))&&b.counter===M&&N(G(a));l(k,f,"close",{})}),k.setHost(b),l(k,f,"start",{})});return k}function xa(a){a=G(a).querySelectorAll("[data-ng-animate]");s(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate")),c=B.get(a);if(c)switch(b){case 2:c.runner.end();
case 1:B.remove(a)}})}function N(a){a=G(a);a.removeAttribute("data-ng-animate");B.remove(a)}function k(a,b){return G(a)===G(b)}function q(a,b,c){c=I(m[0].body);var f=k(a,c)||"HTML"===a[0].nodeName,d=k(a,g),h=!1,l,e=E.get(G(a));for((a=a.data("$ngAnimatePin"))&&(b=a);b&&b.length;){d||(d=k(b,g));var x=b[0];if(1!==x.nodeType)break;a=B.get(x)||{};if(!h){x=E.get(x);if(!0===x&&!1!==e){e=!0;break}else!1===x&&(e=!1);h=a.structural}if(P(l)||!0===l)a=b.data("$$ngAnimateChildren"),Z(a)&&(l=a);if(h&&!1===l)break;
f||(f=k(b,c));if(f&&d)break;if(!d&&(a=b.data("$ngAnimatePin"))){b=a;continue}b=b.parent()}return(!h||l)&&!0!==e&&d&&f}function t(a,b,c){c=c||{};c.state=b;a=G(a);a.setAttribute("data-ng-animate",b);c=(b=B.get(a))?Ca(b,c):c;B.put(a,c)}var B=new M,E=new M,L=null,f=c.$watch(function(){return 0===na.totalPendingRequests},function(a){a&&(f(),c.$$postDigest(function(){c.$$postDigest(function(){null===L&&(L=!0)})}))}),x={},l=a.classNameFilter(),Ua=l?function(a){return l.test(a)}:function(){return!0},Ja=U(v),
y=Node.prototype.contains||function(a){return this===a||!!(this.compareDocumentPosition(a)&16)};return{on:function(a,b,c){b=oa(b);x[a]=x[a]||[];x[a].push({node:b,callback:c})},off:function(a,b,c){function f(a,b,c){var d=oa(b);return a.filter(function(a){return!(a.node===d&&(!c||a.callback===c))})}var d=x[a];d&&(x[a]=1===arguments.length?null:f(d,b,c))},pin:function(a,b){ya(sa(a),"element","not an element");ya(sa(b),"parentElement","not an element");a.data("$ngAnimatePin",b)},push:function(a,b,c,f){c=
c||{};c.domOperation=f;return h(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!L;else if(sa(a)){var f=G(a),d=E.get(f);1===c?b=!d:E.put(f,!b)}else b=L=!!a;return b}}}]}]).provider("$$animation",["$animateProvider",function(a){function b(a){return a.data("$$animationRunner")}var c=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,e,g,H,A,C){function m(a){function b(a){if(a.processed)return a;a.processed=!0;var d=
a.domNode,N=d.parentNode;e.put(d,a);for(var k;N;){if(k=e.get(N)){k.processed||(k=b(k));break}N=N.parentNode}(k||c).children.push(a);return a}var c={children:[]},d,e=new A;for(d=0;d<a.length;d++){var g=a[d];e.put(g.domNode,a[d]={domNode:g.domNode,fn:g.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var b=[],c=[],d;for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var e=0,t=[];for(d=0;d<c.length;d++){var g=c[d];0>=a&&(a=e,e=0,b.push(t),t=[]);t.push(g.fn);g.children.forEach(function(a){e++;
c.push(a)});a--}t.length&&b.push(t);return b}(c)}var M=[],r=U(a);return function(u,A,v){function z(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];s(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)});return b}function K(a){var b=[],c={};s(a,function(a,f){var d=G(a.element),h=0<=["enter","move"].indexOf(a.event),d=a.structural?z(d):[];if(d.length){var e=h?"to":"from";s(d,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||
{};c[b][e]={animationID:f,element:I(a)}})}else b.push(a)});var d={},h={};s(c,function(c,e){var l=c.from,t=c.to;if(l&&t){var g=a[l.animationID],E=a[t.animationID],k=l.animationID.toString();if(!h[k]){var z=h[k]={structural:!0,beforeStart:function(){g.beforeStart();E.beforeStart()},close:function(){g.close();E.close()},classes:J(g.classes,E.classes),from:g,to:E,anchors:[]};z.classes.length?b.push(z):(b.push(g),b.push(E))}h[k].anchors.push({out:l.element,"in":t.element})}else l=l?l.animationID:t.animationID,
t=l.toString(),d[t]||(d[t]=!0,b.push(a[l]))});return b}function J(a,b){a=a.split(" ");b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var h=a[d];if("ng-"!==h.substring(0,3))for(var e=0;e<b.length;e++)if(h===b[e]){c.push(h);break}}return c.join(" ")}function h(a){for(var b=c.length-1;0<=b;b--){var d=c[b];if(g.has(d)&&(d=g.get(d)(a)))return d}}function xa(a,c){a.from&&a.to?(b(a.from.element).setHost(c),b(a.to.element).setHost(c)):b(a.element).setHost(c)}function N(){var a=b(u);!a||"leave"===A&&v.$$domOperationFired||
a.end()}function k(b){u.off("$destroy",N);u.removeData("$$animationRunner");r(u,v);fa(u,v);v.domOperation();E&&a.removeClass(u,E);u.removeClass("ng-animate");t.complete(!b)}v=ka(v);var q=0<=["enter","move","leave"].indexOf(A),t=new H({end:function(){k()},cancel:function(){k(!0)}});if(!c.length)return k(),t;u.data("$$animationRunner",t);var B=za(u.attr("class"),za(v.addClass,v.removeClass)),E=v.tempClasses;E&&(B+=" "+E,v.tempClasses=null);var L;q&&(L="ng-"+A+"-prepare",a.addClass(u,L));M.push({element:u,
classes:B,event:A,structural:q,options:v,beforeStart:function(){u.addClass("ng-animate");E&&a.addClass(u,E);L&&(a.removeClass(u,L),L=null)},close:k});u.on("$destroy",N);if(1<M.length)return t;e.$$postDigest(function(){var a=[];s(M,function(c){b(c.element)?a.push(c):c.close()});M.length=0;var c=K(a),d=[];s(c,function(a){d.push({domNode:G(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var c,d=a.close;if(b(a.anchors?a.from.element||a.to.element:a.element)){var f=h(a);f&&(c=f.start)}c?
(c=c(),c.done(function(a){d(!a)}),xa(a,c)):d()}})});C(m(d))});return t}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=Fa(),c=Fa();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,e,g,H,A,C,m,M){function r(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++K))+"-"+a.getAttribute("class")+"-"+b}function u(h,g,z,k){var q;0<b.count(z)&&(q=c.get(z),q||(g=X(g,"-stagger"),
e.addClass(h,g),q=Da(a,h,k),q.animationDuration=Math.max(q.animationDuration,0),q.transitionDuration=Math.max(q.transitionDuration,0),e.removeClass(h,g),c.put(z,q)));return q||{}}function na(a){J.push(a);m.waitUntilQuiet(function(){b.flush();c.flush();for(var a=A(),d=0;d<J.length;d++)J[d](a);J.length=0})}function v(c,e,g){e=b.get(g);e||(e=Da(a,c,Sa),"infinite"===e.animationIterationCount&&(e.animationIterationCount=1));b.put(g,e);c=e;g=c.animationDelay;e=c.transitionDelay;c.maxDelay=g&&e?Math.max(g,
e):g||e;c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration);return c}var z=U(e),K=0,J=[];return function(a,c){function d(){q()}function k(){q(!0)}function q(b){if(!(A||wa&&K)){A=!0;K=!1;f.$$skipPreparationClasses||e.removeClass(a,da);e.removeClass(a,ca);pa(l,!1);la(l,!1);s(m,function(a){l.style[a[0]]=""});z(a,f);fa(a,f);Object.keys(x).length&&s(x,function(a,b){a?l.style.setProperty(b,a):l.style.removeProperty(b)});if(f.onDone)f.onDone();ea&&ea.length&&a.off(ea.join(" "),
E);var c=a.data("$$animateCss");c&&(H.cancel(c[0].timer),a.removeData("$$animateCss"));D&&D.complete(!b)}}function t(a){p.blockTransition&&la(l,a);p.blockKeyframeAnimation&&pa(l,!!a)}function B(){D=new g({end:d,cancel:k});na(Q);q();return{$$willAnimate:!1,start:function(){return D},end:d}}function E(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-U,0)>=P&&b>=O&&(wa=!0,q())}function L(){function b(){if(!A){t(!1);s(m,
function(a){l.style[a[0]]=a[1]});z(a,f);e.addClass(a,ca);if(p.recalculateTimingStyles){ja=l.className+" "+da;ga=r(l,ja);F=v(l,ja,ga);$=F.maxDelay;n=Math.max($,0);O=F.maxDuration;if(0===O){q();return}p.hasTransitions=0<F.transitionDuration;p.hasAnimations=0<F.animationDuration}p.applyAnimationDelay&&($="boolean"!==typeof f.delay&&qa(f.delay)?parseFloat(f.delay):$,n=Math.max($,0),F.animationDelay=$,aa=[ma,$+"s"],m.push(aa),l.style[aa[0]]=aa[1]);P=1E3*n;R=1E3*O;if(f.easing){var d,g=f.easing;p.hasTransitions&&
(d=S+"TimingFunction",m.push([d,g]),l.style[d]=g);p.hasAnimations&&(d=Y+"TimingFunction",m.push([d,g]),l.style[d]=g)}F.transitionDuration&&ea.push(ta);F.animationDuration&&ea.push(ua);U=Date.now();var k=P+1.5*R;d=U+k;var g=a.data("$$animateCss")||[],L=!0;if(g.length){var B=g[0];(L=d>B.expectedEndTime)?H.cancel(B.timer):g.push(q)}L&&(k=H(c,k,!1),g[0]={timer:k,expectedEndTime:d},g.push(q),a.data("$$animateCss",g));if(ea.length)a.on(ea.join(" "),E);f.to&&(f.cleanupStyles&&Ga(x,l,Object.keys(f.to)),Ba(a,
f))}}function c(){var b=a.data("$$animateCss");if(b){for(var d=1;d<b.length;d++)b[d]();a.removeData("$$animateCss")}}if(!A)if(l.parentNode){var d=function(a){if(wa)K&&a&&(K=!1,q());else if(K=!a,F.animationDuration)if(a=pa(l,K),K)m.push(a);else{var b=m,c=b.indexOf(a);0<=a&&b.splice(c,1)}},g=0<Z&&(F.transitionDuration&&0===W.transitionDuration||F.animationDuration&&0===W.animationDuration)&&Math.max(W.animationDelay,W.transitionDelay);g?H(b,Math.floor(g*Z*1E3),!1):b();I.resume=function(){d(!0)};I.pause=
function(){d(!1)}}else q()}var f=c||{};f.$$prepared||(f=ka(Ha(f)));var x={},l=G(a);if(!l||!l.parentNode||!M.enabled())return B();var m=[],J=a.attr("class"),y=La(f),A,K,wa,D,I,n,P,O,R,U,ea=[];if(0===f.duration||!C.animations&&!C.transitions)return B();var w=f.event&&ba(f.event)?f.event.join(" "):f.event,V="",T="";w&&f.structural?V=X(w,"ng-",!0):w&&(V=w);f.addClass&&(T+=X(f.addClass,"-add"));f.removeClass&&(T.length&&(T+=" "),T+=X(f.removeClass,"-remove"));f.applyClassesEarly&&T.length&&z(a,f);var da=
[V,T].join(" ").trim(),ja=J+" "+da,ca=X(da,"-active"),J=y.to&&0<Object.keys(y.to).length;if(!(0<(f.keyframeStyle||"").length||J||da))return B();var ga,W;0<f.stagger?(y=parseFloat(f.stagger),W={transitionDelay:y,animationDelay:y,transitionDuration:0,animationDuration:0}):(ga=r(l,ja),W=u(l,da,ga,Ta));f.$$skipPreparationClasses||e.addClass(a,da);f.transitionStyle&&(y=[S,f.transitionStyle],ha(l,y),m.push(y));0<=f.duration&&(y=0<l.style[S].length,y=Ea(f.duration,y),ha(l,y),m.push(y));f.keyframeStyle&&
(y=[Y,f.keyframeStyle],ha(l,y),m.push(y));var Z=W?0<=f.staggerIndex?f.staggerIndex:b.count(ga):0;(w=0===Z)&&!f.skipBlocking&&la(l,9999);var F=v(l,ja,ga),$=F.maxDelay;n=Math.max($,0);O=F.maxDuration;var p={};p.hasTransitions=0<F.transitionDuration;p.hasAnimations=0<F.animationDuration;p.hasTransitionAll=p.hasTransitions&&"all"==F.transitionProperty;p.applyTransitionDuration=J&&(p.hasTransitions&&!p.hasTransitionAll||p.hasAnimations&&!p.hasTransitions);p.applyAnimationDuration=f.duration&&p.hasAnimations;
p.applyTransitionDelay=qa(f.delay)&&(p.applyTransitionDuration||p.hasTransitions);p.applyAnimationDelay=qa(f.delay)&&p.hasAnimations;p.recalculateTimingStyles=0<T.length;if(p.applyTransitionDuration||p.applyAnimationDuration)O=f.duration?parseFloat(f.duration):O,p.applyTransitionDuration&&(p.hasTransitions=!0,F.transitionDuration=O,y=0<l.style[S+"Property"].length,m.push(Ea(O,y))),p.applyAnimationDuration&&(p.hasAnimations=!0,F.animationDuration=O,m.push([va,O+"s"]));if(0===O&&!p.recalculateTimingStyles)return B();
if(null!=f.delay){var aa;"boolean"!==typeof f.delay&&(aa=parseFloat(f.delay),n=Math.max(aa,0));p.applyTransitionDelay&&m.push([ia,aa+"s"]);p.applyAnimationDelay&&m.push([ma,aa+"s"])}null==f.duration&&0<F.transitionDuration&&(p.recalculateTimingStyles=p.recalculateTimingStyles||w);P=1E3*n;R=1E3*O;f.skipBlocking||(p.blockTransition=0<F.transitionDuration,p.blockKeyframeAnimation=0<F.animationDuration&&0<W.animationDelay&&0===W.animationDuration);f.from&&(f.cleanupStyles&&Ga(x,l,Object.keys(f.from)),
Aa(a,f));p.blockTransition||p.blockKeyframeAnimation?t(O):f.skipBlocking||la(l,!1);return{$$willAnimate:!0,end:d,start:function(){if(!A)return I={end:d,cancel:k,resume:null,pause:null},D=new g(I),na(L),D}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,e,g,H,A){function C(a){return a.replace(/\bng-\S+\b/g,"")}function m(a,
b){R(a)&&(a=a.split(" "));R(b)&&(b=b.split(" "));return a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function M(c,e,g){function h(a){var b={},c=G(a).getBoundingClientRect();s(["width","height","top","left"],function(a){var d=c[a];switch(a){case "top":d+=D.scrollTop;break;case "left":d+=D.scrollLeft}b[a]=Math.floor(d)+"px"});return b}function A(){var c=C(g.attr("class")||""),d=m(c,q),c=m(q,c),d=a(k,{to:h(g),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?
d:null}function H(){k.remove();e.removeClass("ng-animate-shim");g.removeClass("ng-animate-shim")}var k=I(G(e).cloneNode(!0)),q=C(k.attr("class")||"");e.addClass("ng-animate-shim");g.addClass("ng-animate-shim");k.addClass("ng-anchor");v.append(k);var t;c=function(){var c=a(k,{addClass:"ng-anchor-out",delay:!0,from:h(e)});return c.$$willAnimate?c:null}();if(!c&&(t=A(),!t))return H();var B=c||t;return{start:function(){function a(){c&&c.end()}var b,c=B.start();c.done(function(){c=null;if(!t&&(t=A()))return c=
t.start(),c.done(function(){c=null;H();b.complete()}),c;H();b.complete()});return b=new d({end:a,cancel:a})}}}function r(a,b,c,e){var g=u(a,Q),m=u(b,Q),k=[];s(e,function(a){(a=M(c,a.out,a["in"]))&&k.push(a)});if(g||m||0!==k.length)return{start:function(){function a(){s(b,function(a){a.end()})}var b=[];g&&b.push(g.start());m&&b.push(m.start());s(k,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});d.all(b,function(a){c.complete(a)});return c}}}function u(c){var d=c.element,e=c.options||
{};c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===c.event&&(e.onDone=e.domOperation));e.preparationClasses&&(e.event=ca(e.event,e.preparationClasses));c=a(d,e);return c.$$willAnimate?c:null}if(!g.animations&&!g.transitions)return Q;var D=A[0].body;c=G(e);var v=I(c.parentNode&&11===c.parentNode.nodeType||D.contains(c)?c:D);U(H);return function(a){return a.from&&a.to?r(a.from,a.to,a.classes,a.anchors):u(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=
["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=ba(c)?c:c.split(" ");for(var d=[],e={},g=0;g<c.length;g++){var s=c[g],r=a.$$registeredAnimations[s];r&&!e[s]&&(d.push(b.get(r)),e[s]=!0)}return d}var g=U(d);return function(a,b,d,m){function r(){m.domOperation();g(a,m)}function D(a,b,d,e,f){switch(d){case "animate":b=[b,e.from,e.to,f];break;case "setClass":b=[b,z,K,f];break;case "addClass":b=[b,z,f];break;case "removeClass":b=[b,K,f];break;default:b=[b,f]}b.push(e);if(a=a.apply(a,
b))if(Ia(a.start)&&(a=a.start()),a instanceof c)a.done(f);else if(Ia(a))return a;return Q}function u(a,b,d,e,f){var g=[];s(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,k=function(a){g||(g=!0,(f||Q)(a),e.complete(!a))};e=new c({end:function(){k()},cancel:function(){k(!0)}});f=D(h,a,b,d,function(a){k(!1===a)});return e})});return g}function G(a,b,d,e,f){var g=u(a,b,d,e,f);if(0===g.length){var h,k;"beforeSetClass"===f?(h=u(a,"removeClass",d,e,"beforeRemoveClass"),k=u(a,"addClass",d,e,"beforeAddClass")):
"setClass"===f&&(h=u(a,"removeClass",d,e,"removeClass"),k=u(a,"addClass",d,e,"addClass"));h&&(g=g.concat(h));k&&(g=g.concat(k))}if(0!==g.length)return function(a){var b=[];g.length&&s(g,function(a){b.push(a())});b.length?c.all(b,a):a();return function(a){s(b,function(b){a?b.cancel():b.end()})}}}var v=!1;3===arguments.length&&ra(d)&&(m=d,d=null);m=ka(m);d||(d=a.attr("class")||"",m.addClass&&(d+=" "+m.addClass),m.removeClass&&(d+=" "+m.removeClass));var z=m.addClass,K=m.removeClass,J=e(d),h,I;if(J.length){var N,
k;"leave"==b?(k="leave",N="afterLeave"):(k="before"+b.charAt(0).toUpperCase()+b.substr(1),N=b);"enter"!==b&&"move"!==b&&(h=G(a,b,m,J,k));I=G(a,b,m,J,N)}if(h||I){var q;return{$$willAnimate:!0,end:function(){q?q.end():(v=!0,r(),fa(a,m),q=new c,q.complete(!0));return q},start:function(){function b(c){v=!0;r();fa(a,m);q.complete(c)}if(q)return q;q=new c;var d,e=[];h&&e.push(function(a){d=h(a)});e.length?e.push(function(a){r();a(!0)}):r();I&&e.push(function(a){d=I(a)});q.setHost({end:function(){v||((d||
Q)(void 0),b(void 0))},cancel:function(){v||((d||Q)(!0),b(!0))}});c.chain(e,b);return q}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(a.from&&a.to){var b=d(a.from),r=d(a.to);if(b||r)return{start:function(){function a(){return function(){s(d,function(a){a.end()})}}var d=[];b&&d.push(b.start());r&&
d.push(r.start());c.all(d,function(a){e.complete(a)});var e=new c({end:a(),cancel:a()});return e}}}else return d(a)}}]}])})(window,window.angular);


},{}],8:[function(require,module,exports){
/**
 * @license AngularJS v1.5.0
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window, angular, undefined) {

'use strict';

/**
 * @ngdoc object
 * @name angular.mock
 * @description
 *
 * Namespace from 'angular-mocks.js' which contains testing related code.
 */
angular.mock = {};

/**
 * ! This is a private undocumented service !
 *
 * @name $browser
 *
 * @description
 * This service is a mock implementation of {@link ng.$browser}. It provides fake
 * implementation for commonly used browser apis that are hard to test, e.g. setTimeout, xhr,
 * cookies, etc...
 *
 * The api of this service is the same as that of the real {@link ng.$browser $browser}, except
 * that there are several helper methods available which can be used in tests.
 */
angular.mock.$BrowserProvider = function() {
  this.$get = function() {
    return new angular.mock.$Browser();
  };
};

angular.mock.$Browser = function() {
  var self = this;

  this.isMock = true;
  self.$$url = "http://server/";
  self.$$lastUrl = self.$$url; // used by url polling fn
  self.pollFns = [];

  // TODO(vojta): remove this temporary api
  self.$$completeOutstandingRequest = angular.noop;
  self.$$incOutstandingRequestCount = angular.noop;


  // register url polling fn

  self.onUrlChange = function(listener) {
    self.pollFns.push(
      function() {
        if (self.$$lastUrl !== self.$$url || self.$$state !== self.$$lastState) {
          self.$$lastUrl = self.$$url;
          self.$$lastState = self.$$state;
          listener(self.$$url, self.$$state);
        }
      }
    );

    return listener;
  };

  self.$$applicationDestroyed = angular.noop;
  self.$$checkUrlChange = angular.noop;

  self.deferredFns = [];
  self.deferredNextId = 0;

  self.defer = function(fn, delay) {
    delay = delay || 0;
    self.deferredFns.push({time:(self.defer.now + delay), fn:fn, id: self.deferredNextId});
    self.deferredFns.sort(function(a, b) { return a.time - b.time;});
    return self.deferredNextId++;
  };


  /**
   * @name $browser#defer.now
   *
   * @description
   * Current milliseconds mock time.
   */
  self.defer.now = 0;


  self.defer.cancel = function(deferId) {
    var fnIndex;

    angular.forEach(self.deferredFns, function(fn, index) {
      if (fn.id === deferId) fnIndex = index;
    });

    if (angular.isDefined(fnIndex)) {
      self.deferredFns.splice(fnIndex, 1);
      return true;
    }

    return false;
  };


  /**
   * @name $browser#defer.flush
   *
   * @description
   * Flushes all pending requests and executes the defer callbacks.
   *
   * @param {number=} number of milliseconds to flush. See {@link #defer.now}
   */
  self.defer.flush = function(delay) {
    if (angular.isDefined(delay)) {
      self.defer.now += delay;
    } else {
      if (self.deferredFns.length) {
        self.defer.now = self.deferredFns[self.deferredFns.length - 1].time;
      } else {
        throw new Error('No deferred tasks to be flushed');
      }
    }

    while (self.deferredFns.length && self.deferredFns[0].time <= self.defer.now) {
      self.deferredFns.shift().fn();
    }
  };

  self.$$baseHref = '/';
  self.baseHref = function() {
    return this.$$baseHref;
  };
};
angular.mock.$Browser.prototype = {

/**
  * @name $browser#poll
  *
  * @description
  * run all fns in pollFns
  */
  poll: function poll() {
    angular.forEach(this.pollFns, function(pollFn) {
      pollFn();
    });
  },

  url: function(url, replace, state) {
    if (angular.isUndefined(state)) {
      state = null;
    }
    if (url) {
      this.$$url = url;
      // Native pushState serializes & copies the object; simulate it.
      this.$$state = angular.copy(state);
      return this;
    }

    return this.$$url;
  },

  state: function() {
    return this.$$state;
  },

  notifyWhenNoOutstandingRequests: function(fn) {
    fn();
  }
};


/**
 * @ngdoc provider
 * @name $exceptionHandlerProvider
 *
 * @description
 * Configures the mock implementation of {@link ng.$exceptionHandler} to rethrow or to log errors
 * passed to the `$exceptionHandler`.
 */

/**
 * @ngdoc service
 * @name $exceptionHandler
 *
 * @description
 * Mock implementation of {@link ng.$exceptionHandler} that rethrows or logs errors passed
 * to it. See {@link ngMock.$exceptionHandlerProvider $exceptionHandlerProvider} for configuration
 * information.
 *
 *
 * ```js
 *   describe('$exceptionHandlerProvider', function() {
 *
 *     it('should capture log messages and exceptions', function() {
 *
 *       module(function($exceptionHandlerProvider) {
 *         $exceptionHandlerProvider.mode('log');
 *       });
 *
 *       inject(function($log, $exceptionHandler, $timeout) {
 *         $timeout(function() { $log.log(1); });
 *         $timeout(function() { $log.log(2); throw 'banana peel'; });
 *         $timeout(function() { $log.log(3); });
 *         expect($exceptionHandler.errors).toEqual([]);
 *         expect($log.assertEmpty());
 *         $timeout.flush();
 *         expect($exceptionHandler.errors).toEqual(['banana peel']);
 *         expect($log.log.logs).toEqual([[1], [2], [3]]);
 *       });
 *     });
 *   });
 * ```
 */

angular.mock.$ExceptionHandlerProvider = function() {
  var handler;

  /**
   * @ngdoc method
   * @name $exceptionHandlerProvider#mode
   *
   * @description
   * Sets the logging mode.
   *
   * @param {string} mode Mode of operation, defaults to `rethrow`.
   *
   *   - `log`: Sometimes it is desirable to test that an error is thrown, for this case the `log`
   *            mode stores an array of errors in `$exceptionHandler.errors`, to allow later
   *            assertion of them. See {@link ngMock.$log#assertEmpty assertEmpty()} and
   *            {@link ngMock.$log#reset reset()}
   *   - `rethrow`: If any errors are passed to the handler in tests, it typically means that there
   *                is a bug in the application or test, so this mock will make these tests fail.
   *                For any implementations that expect exceptions to be thrown, the `rethrow` mode
   *                will also maintain a log of thrown errors.
   */
  this.mode = function(mode) {

    switch (mode) {
      case 'log':
      case 'rethrow':
        var errors = [];
        handler = function(e) {
          if (arguments.length == 1) {
            errors.push(e);
          } else {
            errors.push([].slice.call(arguments, 0));
          }
          if (mode === "rethrow") {
            throw e;
          }
        };
        handler.errors = errors;
        break;
      default:
        throw new Error("Unknown mode '" + mode + "', only 'log'/'rethrow' modes are allowed!");
    }
  };

  this.$get = function() {
    return handler;
  };

  this.mode('rethrow');
};


/**
 * @ngdoc service
 * @name $log
 *
 * @description
 * Mock implementation of {@link ng.$log} that gathers all logged messages in arrays
 * (one array per logging level). These arrays are exposed as `logs` property of each of the
 * level-specific log function, e.g. for level `error` the array is exposed as `$log.error.logs`.
 *
 */
angular.mock.$LogProvider = function() {
  var debug = true;

  function concat(array1, array2, index) {
    return array1.concat(Array.prototype.slice.call(array2, index));
  }

  this.debugEnabled = function(flag) {
    if (angular.isDefined(flag)) {
      debug = flag;
      return this;
    } else {
      return debug;
    }
  };

  this.$get = function() {
    var $log = {
      log: function() { $log.log.logs.push(concat([], arguments, 0)); },
      warn: function() { $log.warn.logs.push(concat([], arguments, 0)); },
      info: function() { $log.info.logs.push(concat([], arguments, 0)); },
      error: function() { $log.error.logs.push(concat([], arguments, 0)); },
      debug: function() {
        if (debug) {
          $log.debug.logs.push(concat([], arguments, 0));
        }
      }
    };

    /**
     * @ngdoc method
     * @name $log#reset
     *
     * @description
     * Reset all of the logging arrays to empty.
     */
    $log.reset = function() {
      /**
       * @ngdoc property
       * @name $log#log.logs
       *
       * @description
       * Array of messages logged using {@link ng.$log#log `log()`}.
       *
       * @example
       * ```js
       * $log.log('Some Log');
       * var first = $log.log.logs.unshift();
       * ```
       */
      $log.log.logs = [];
      /**
       * @ngdoc property
       * @name $log#info.logs
       *
       * @description
       * Array of messages logged using {@link ng.$log#info `info()`}.
       *
       * @example
       * ```js
       * $log.info('Some Info');
       * var first = $log.info.logs.unshift();
       * ```
       */
      $log.info.logs = [];
      /**
       * @ngdoc property
       * @name $log#warn.logs
       *
       * @description
       * Array of messages logged using {@link ng.$log#warn `warn()`}.
       *
       * @example
       * ```js
       * $log.warn('Some Warning');
       * var first = $log.warn.logs.unshift();
       * ```
       */
      $log.warn.logs = [];
      /**
       * @ngdoc property
       * @name $log#error.logs
       *
       * @description
       * Array of messages logged using {@link ng.$log#error `error()`}.
       *
       * @example
       * ```js
       * $log.error('Some Error');
       * var first = $log.error.logs.unshift();
       * ```
       */
      $log.error.logs = [];
        /**
       * @ngdoc property
       * @name $log#debug.logs
       *
       * @description
       * Array of messages logged using {@link ng.$log#debug `debug()`}.
       *
       * @example
       * ```js
       * $log.debug('Some Error');
       * var first = $log.debug.logs.unshift();
       * ```
       */
      $log.debug.logs = [];
    };

    /**
     * @ngdoc method
     * @name $log#assertEmpty
     *
     * @description
     * Assert that all of the logging methods have no logged messages. If any messages are present,
     * an exception is thrown.
     */
    $log.assertEmpty = function() {
      var errors = [];
      angular.forEach(['error', 'warn', 'info', 'log', 'debug'], function(logLevel) {
        angular.forEach($log[logLevel].logs, function(log) {
          angular.forEach(log, function(logItem) {
            errors.push('MOCK $log (' + logLevel + '): ' + String(logItem) + '\n' +
                        (logItem.stack || ''));
          });
        });
      });
      if (errors.length) {
        errors.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or " +
          "an expected log message was not checked and removed:");
        errors.push('');
        throw new Error(errors.join('\n---------\n'));
      }
    };

    $log.reset();
    return $log;
  };
};


/**
 * @ngdoc service
 * @name $interval
 *
 * @description
 * Mock implementation of the $interval service.
 *
 * Use {@link ngMock.$interval#flush `$interval.flush(millis)`} to
 * move forward by `millis` milliseconds and trigger any functions scheduled to run in that
 * time.
 *
 * @param {function()} fn A function that should be called repeatedly.
 * @param {number} delay Number of milliseconds between each function call.
 * @param {number=} [count=0] Number of times to repeat. If not set, or 0, will repeat
 *   indefinitely.
 * @param {boolean=} [invokeApply=true] If set to `false` skips model dirty checking, otherwise
 *   will invoke `fn` within the {@link ng.$rootScope.Scope#$apply $apply} block.
 * @param {...*=} Pass additional parameters to the executed function.
 * @returns {promise} A promise which will be notified on each iteration.
 */
angular.mock.$IntervalProvider = function() {
  this.$get = ['$browser', '$rootScope', '$q', '$$q',
       function($browser,   $rootScope,   $q,   $$q) {
    var repeatFns = [],
        nextRepeatId = 0,
        now = 0;

    var $interval = function(fn, delay, count, invokeApply) {
      var hasParams = arguments.length > 4,
          args = hasParams ? Array.prototype.slice.call(arguments, 4) : [],
          iteration = 0,
          skipApply = (angular.isDefined(invokeApply) && !invokeApply),
          deferred = (skipApply ? $$q : $q).defer(),
          promise = deferred.promise;

      count = (angular.isDefined(count)) ? count : 0;
      promise.then(null, null, (!hasParams) ? fn : function() {
        fn.apply(null, args);
      });

      promise.$$intervalId = nextRepeatId;

      function tick() {
        deferred.notify(iteration++);

        if (count > 0 && iteration >= count) {
          var fnIndex;
          deferred.resolve(iteration);

          angular.forEach(repeatFns, function(fn, index) {
            if (fn.id === promise.$$intervalId) fnIndex = index;
          });

          if (angular.isDefined(fnIndex)) {
            repeatFns.splice(fnIndex, 1);
          }
        }

        if (skipApply) {
          $browser.defer.flush();
        } else {
          $rootScope.$apply();
        }
      }

      repeatFns.push({
        nextTime:(now + delay),
        delay: delay,
        fn: tick,
        id: nextRepeatId,
        deferred: deferred
      });
      repeatFns.sort(function(a, b) { return a.nextTime - b.nextTime;});

      nextRepeatId++;
      return promise;
    };
    /**
     * @ngdoc method
     * @name $interval#cancel
     *
     * @description
     * Cancels a task associated with the `promise`.
     *
     * @param {promise} promise A promise from calling the `$interval` function.
     * @returns {boolean} Returns `true` if the task was successfully cancelled.
     */
    $interval.cancel = function(promise) {
      if (!promise) return false;
      var fnIndex;

      angular.forEach(repeatFns, function(fn, index) {
        if (fn.id === promise.$$intervalId) fnIndex = index;
      });

      if (angular.isDefined(fnIndex)) {
        repeatFns[fnIndex].deferred.reject('canceled');
        repeatFns.splice(fnIndex, 1);
        return true;
      }

      return false;
    };

    /**
     * @ngdoc method
     * @name $interval#flush
     * @description
     *
     * Runs interval tasks scheduled to be run in the next `millis` milliseconds.
     *
     * @param {number=} millis maximum timeout amount to flush up until.
     *
     * @return {number} The amount of time moved forward.
     */
    $interval.flush = function(millis) {
      now += millis;
      while (repeatFns.length && repeatFns[0].nextTime <= now) {
        var task = repeatFns[0];
        task.fn();
        task.nextTime += task.delay;
        repeatFns.sort(function(a, b) { return a.nextTime - b.nextTime;});
      }
      return millis;
    };

    return $interval;
  }];
};


/* jshint -W101 */
/* The R_ISO8061_STR regex is never going to fit into the 100 char limit!
 * This directive should go inside the anonymous function but a bug in JSHint means that it would
 * not be enacted early enough to prevent the warning.
 */
var R_ISO8061_STR = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;

function jsonStringToDate(string) {
  var match;
  if (match = string.match(R_ISO8061_STR)) {
    var date = new Date(0),
        tzHour = 0,
        tzMin  = 0;
    if (match[9]) {
      tzHour = toInt(match[9] + match[10]);
      tzMin = toInt(match[9] + match[11]);
    }
    date.setUTCFullYear(toInt(match[1]), toInt(match[2]) - 1, toInt(match[3]));
    date.setUTCHours(toInt(match[4] || 0) - tzHour,
                     toInt(match[5] || 0) - tzMin,
                     toInt(match[6] || 0),
                     toInt(match[7] || 0));
    return date;
  }
  return string;
}

function toInt(str) {
  return parseInt(str, 10);
}

function padNumber(num, digits, trim) {
  var neg = '';
  if (num < 0) {
    neg =  '-';
    num = -num;
  }
  num = '' + num;
  while (num.length < digits) num = '0' + num;
  if (trim) {
    num = num.substr(num.length - digits);
  }
  return neg + num;
}


/**
 * @ngdoc type
 * @name angular.mock.TzDate
 * @description
 *
 * *NOTE*: this is not an injectable instance, just a globally available mock class of `Date`.
 *
 * Mock of the Date type which has its timezone specified via constructor arg.
 *
 * The main purpose is to create Date-like instances with timezone fixed to the specified timezone
 * offset, so that we can test code that depends on local timezone settings without dependency on
 * the time zone settings of the machine where the code is running.
 *
 * @param {number} offset Offset of the *desired* timezone in hours (fractions will be honored)
 * @param {(number|string)} timestamp Timestamp representing the desired time in *UTC*
 *
 * @example
 * !!!! WARNING !!!!!
 * This is not a complete Date object so only methods that were implemented can be called safely.
 * To make matters worse, TzDate instances inherit stuff from Date via a prototype.
 *
 * We do our best to intercept calls to "unimplemented" methods, but since the list of methods is
 * incomplete we might be missing some non-standard methods. This can result in errors like:
 * "Date.prototype.foo called on incompatible Object".
 *
 * ```js
 * var newYearInBratislava = new TzDate(-1, '2009-12-31T23:00:00Z');
 * newYearInBratislava.getTimezoneOffset() => -60;
 * newYearInBratislava.getFullYear() => 2010;
 * newYearInBratislava.getMonth() => 0;
 * newYearInBratislava.getDate() => 1;
 * newYearInBratislava.getHours() => 0;
 * newYearInBratislava.getMinutes() => 0;
 * newYearInBratislava.getSeconds() => 0;
 * ```
 *
 */
angular.mock.TzDate = function(offset, timestamp) {
  var self = new Date(0);
  if (angular.isString(timestamp)) {
    var tsStr = timestamp;

    self.origDate = jsonStringToDate(timestamp);

    timestamp = self.origDate.getTime();
    if (isNaN(timestamp)) {
      throw {
        name: "Illegal Argument",
        message: "Arg '" + tsStr + "' passed into TzDate constructor is not a valid date string"
      };
    }
  } else {
    self.origDate = new Date(timestamp);
  }

  var localOffset = new Date(timestamp).getTimezoneOffset();
  self.offsetDiff = localOffset * 60 * 1000 - offset * 1000 * 60 * 60;
  self.date = new Date(timestamp + self.offsetDiff);

  self.getTime = function() {
    return self.date.getTime() - self.offsetDiff;
  };

  self.toLocaleDateString = function() {
    return self.date.toLocaleDateString();
  };

  self.getFullYear = function() {
    return self.date.getFullYear();
  };

  self.getMonth = function() {
    return self.date.getMonth();
  };

  self.getDate = function() {
    return self.date.getDate();
  };

  self.getHours = function() {
    return self.date.getHours();
  };

  self.getMinutes = function() {
    return self.date.getMinutes();
  };

  self.getSeconds = function() {
    return self.date.getSeconds();
  };

  self.getMilliseconds = function() {
    return self.date.getMilliseconds();
  };

  self.getTimezoneOffset = function() {
    return offset * 60;
  };

  self.getUTCFullYear = function() {
    return self.origDate.getUTCFullYear();
  };

  self.getUTCMonth = function() {
    return self.origDate.getUTCMonth();
  };

  self.getUTCDate = function() {
    return self.origDate.getUTCDate();
  };

  self.getUTCHours = function() {
    return self.origDate.getUTCHours();
  };

  self.getUTCMinutes = function() {
    return self.origDate.getUTCMinutes();
  };

  self.getUTCSeconds = function() {
    return self.origDate.getUTCSeconds();
  };

  self.getUTCMilliseconds = function() {
    return self.origDate.getUTCMilliseconds();
  };

  self.getDay = function() {
    return self.date.getDay();
  };

  // provide this method only on browsers that already have it
  if (self.toISOString) {
    self.toISOString = function() {
      return padNumber(self.origDate.getUTCFullYear(), 4) + '-' +
            padNumber(self.origDate.getUTCMonth() + 1, 2) + '-' +
            padNumber(self.origDate.getUTCDate(), 2) + 'T' +
            padNumber(self.origDate.getUTCHours(), 2) + ':' +
            padNumber(self.origDate.getUTCMinutes(), 2) + ':' +
            padNumber(self.origDate.getUTCSeconds(), 2) + '.' +
            padNumber(self.origDate.getUTCMilliseconds(), 3) + 'Z';
    };
  }

  //hide all methods not implemented in this mock that the Date prototype exposes
  var unimplementedMethods = ['getUTCDay',
      'getYear', 'setDate', 'setFullYear', 'setHours', 'setMilliseconds',
      'setMinutes', 'setMonth', 'setSeconds', 'setTime', 'setUTCDate', 'setUTCFullYear',
      'setUTCHours', 'setUTCMilliseconds', 'setUTCMinutes', 'setUTCMonth', 'setUTCSeconds',
      'setYear', 'toDateString', 'toGMTString', 'toJSON', 'toLocaleFormat', 'toLocaleString',
      'toLocaleTimeString', 'toSource', 'toString', 'toTimeString', 'toUTCString', 'valueOf'];

  angular.forEach(unimplementedMethods, function(methodName) {
    self[methodName] = function() {
      throw new Error("Method '" + methodName + "' is not implemented in the TzDate mock");
    };
  });

  return self;
};

//make "tzDateInstance instanceof Date" return true
angular.mock.TzDate.prototype = Date.prototype;
/* jshint +W101 */


/**
 * @ngdoc service
 * @name $animate
 *
 * @description
 * Mock implementation of the {@link ng.$animate `$animate`} service. Exposes two additional methods
 * for testing animations.
 */
angular.mock.animate = angular.module('ngAnimateMock', ['ng'])

  .config(['$provide', function($provide) {

    $provide.factory('$$forceReflow', function() {
      function reflowFn() {
        reflowFn.totalReflows++;
      }
      reflowFn.totalReflows = 0;
      return reflowFn;
    });

    $provide.factory('$$animateAsyncRun', function() {
      var queue = [];
      var queueFn = function() {
        return function(fn) {
          queue.push(fn);
        };
      };
      queueFn.flush = function() {
        if (queue.length === 0) return false;

        for (var i = 0; i < queue.length; i++) {
          queue[i]();
        }
        queue = [];

        return true;
      };
      return queueFn;
    });

    $provide.decorator('$$animateJs', ['$delegate', function($delegate) {
      var runners = [];

      var animateJsConstructor = function() {
        var animator = $delegate.apply($delegate, arguments);
        // If no javascript animation is found, animator is undefined
        if (animator) {
          runners.push(animator);
        }
        return animator;
      };

      animateJsConstructor.$closeAndFlush = function() {
        runners.forEach(function(runner) {
          runner.end();
        });
        runners = [];
      };

      return animateJsConstructor;
    }]);

    $provide.decorator('$animateCss', ['$delegate', function($delegate) {
      var runners = [];

      var animateCssConstructor = function(element, options) {
        var animator = $delegate(element, options);
        runners.push(animator);
        return animator;
      };

      animateCssConstructor.$closeAndFlush = function() {
        runners.forEach(function(runner) {
          runner.end();
        });
        runners = [];
      };

      return animateCssConstructor;
    }]);

    $provide.decorator('$animate', ['$delegate', '$timeout', '$browser', '$$rAF', '$animateCss', '$$animateJs',
                                    '$$forceReflow', '$$animateAsyncRun', '$rootScope',
                            function($delegate,   $timeout,   $browser,   $$rAF,   $animateCss,   $$animateJs,
                                     $$forceReflow,   $$animateAsyncRun,  $rootScope) {
      var animate = {
        queue: [],
        cancel: $delegate.cancel,
        on: $delegate.on,
        off: $delegate.off,
        pin: $delegate.pin,
        get reflows() {
          return $$forceReflow.totalReflows;
        },
        enabled: $delegate.enabled,
        /**
         * @ngdoc method
         * @name $animate#closeAndFlush
         * @description
         *
         * This method will close all pending animations (both {@link ngAnimate#javascript-based-animations Javascript}
         * and {@link ngAnimate.$animateCss CSS}) and it will also flush any remaining animation frames and/or callbacks.
         */
        closeAndFlush: function() {
          // we allow the flush command to swallow the errors
          // because depending on whether CSS or JS animations are
          // used, there may not be a RAF flush. The primary flush
          // at the end of this function must throw an exception
          // because it will track if there were pending animations
          this.flush(true);
          $animateCss.$closeAndFlush();
          $$animateJs.$closeAndFlush();
          this.flush();
        },
        /**
         * @ngdoc method
         * @name $animate#flush
         * @description
         *
         * This method is used to flush the pending callbacks and animation frames to either start
         * an animation or conclude an animation. Note that this will not actually close an
         * actively running animation (see {@link ngMock.$animate#closeAndFlush `closeAndFlush()`} for that).
         */
        flush: function(hideErrors) {
          $rootScope.$digest();

          var doNextRun, somethingFlushed = false;
          do {
            doNextRun = false;

            if ($$rAF.queue.length) {
              $$rAF.flush();
              doNextRun = somethingFlushed = true;
            }

            if ($$animateAsyncRun.flush()) {
              doNextRun = somethingFlushed = true;
            }
          } while (doNextRun);

          if (!somethingFlushed && !hideErrors) {
            throw new Error('No pending animations ready to be closed or flushed');
          }

          $rootScope.$digest();
        }
      };

      angular.forEach(
        ['animate','enter','leave','move','addClass','removeClass','setClass'], function(method) {
        animate[method] = function() {
          animate.queue.push({
            event: method,
            element: arguments[0],
            options: arguments[arguments.length - 1],
            args: arguments
          });
          return $delegate[method].apply($delegate, arguments);
        };
      });

      return animate;
    }]);

  }]);


/**
 * @ngdoc function
 * @name angular.mock.dump
 * @description
 *
 * *NOTE*: this is not an injectable instance, just a globally available function.
 *
 * Method for serializing common angular objects (scope, elements, etc..) into strings, useful for
 * debugging.
 *
 * This method is also available on window, where it can be used to display objects on debug
 * console.
 *
 * @param {*} object - any object to turn into string.
 * @return {string} a serialized string of the argument
 */
angular.mock.dump = function(object) {
  return serialize(object);

  function serialize(object) {
    var out;

    if (angular.isElement(object)) {
      object = angular.element(object);
      out = angular.element('<div></div>');
      angular.forEach(object, function(element) {
        out.append(angular.element(element).clone());
      });
      out = out.html();
    } else if (angular.isArray(object)) {
      out = [];
      angular.forEach(object, function(o) {
        out.push(serialize(o));
      });
      out = '[ ' + out.join(', ') + ' ]';
    } else if (angular.isObject(object)) {
      if (angular.isFunction(object.$eval) && angular.isFunction(object.$apply)) {
        out = serializeScope(object);
      } else if (object instanceof Error) {
        out = object.stack || ('' + object.name + ': ' + object.message);
      } else {
        // TODO(i): this prevents methods being logged,
        // we should have a better way to serialize objects
        out = angular.toJson(object, true);
      }
    } else {
      out = String(object);
    }

    return out;
  }

  function serializeScope(scope, offset) {
    offset = offset ||  '  ';
    var log = [offset + 'Scope(' + scope.$id + '): {'];
    for (var key in scope) {
      if (Object.prototype.hasOwnProperty.call(scope, key) && !key.match(/^(\$|this)/)) {
        log.push('  ' + key + ': ' + angular.toJson(scope[key]));
      }
    }
    var child = scope.$$childHead;
    while (child) {
      log.push(serializeScope(child, offset + '  '));
      child = child.$$nextSibling;
    }
    log.push('}');
    return log.join('\n' + offset);
  }
};

/**
 * @ngdoc service
 * @name $httpBackend
 * @description
 * Fake HTTP backend implementation suitable for unit testing applications that use the
 * {@link ng.$http $http service}.
 *
 * *Note*: For fake HTTP backend implementation suitable for end-to-end testing or backend-less
 * development please see {@link ngMockE2E.$httpBackend e2e $httpBackend mock}.
 *
 * During unit testing, we want our unit tests to run quickly and have no external dependencies so
 * we don’t want to send [XHR](https://developer.mozilla.org/en/xmlhttprequest) or
 * [JSONP](http://en.wikipedia.org/wiki/JSONP) requests to a real server. All we really need is
 * to verify whether a certain request has been sent or not, or alternatively just let the
 * application make requests, respond with pre-trained responses and assert that the end result is
 * what we expect it to be.
 *
 * This mock implementation can be used to respond with static or dynamic responses via the
 * `expect` and `when` apis and their shortcuts (`expectGET`, `whenPOST`, etc).
 *
 * When an Angular application needs some data from a server, it calls the $http service, which
 * sends the request to a real server using $httpBackend service. With dependency injection, it is
 * easy to inject $httpBackend mock (which has the same API as $httpBackend) and use it to verify
 * the requests and respond with some testing data without sending a request to a real server.
 *
 * There are two ways to specify what test data should be returned as http responses by the mock
 * backend when the code under test makes http requests:
 *
 * - `$httpBackend.expect` - specifies a request expectation
 * - `$httpBackend.when` - specifies a backend definition
 *
 *
 * ## Request Expectations vs Backend Definitions
 *
 * Request expectations provide a way to make assertions about requests made by the application and
 * to define responses for those requests. The test will fail if the expected requests are not made
 * or they are made in the wrong order.
 *
 * Backend definitions allow you to define a fake backend for your application which doesn't assert
 * if a particular request was made or not, it just returns a trained response if a request is made.
 * The test will pass whether or not the request gets made during testing.
 *
 *
 * <table class="table">
 *   <tr><th width="220px"></th><th>Request expectations</th><th>Backend definitions</th></tr>
 *   <tr>
 *     <th>Syntax</th>
 *     <td>.expect(...).respond(...)</td>
 *     <td>.when(...).respond(...)</td>
 *   </tr>
 *   <tr>
 *     <th>Typical usage</th>
 *     <td>strict unit tests</td>
 *     <td>loose (black-box) unit testing</td>
 *   </tr>
 *   <tr>
 *     <th>Fulfills multiple requests</th>
 *     <td>NO</td>
 *     <td>YES</td>
 *   </tr>
 *   <tr>
 *     <th>Order of requests matters</th>
 *     <td>YES</td>
 *     <td>NO</td>
 *   </tr>
 *   <tr>
 *     <th>Request required</th>
 *     <td>YES</td>
 *     <td>NO</td>
 *   </tr>
 *   <tr>
 *     <th>Response required</th>
 *     <td>optional (see below)</td>
 *     <td>YES</td>
 *   </tr>
 * </table>
 *
 * In cases where both backend definitions and request expectations are specified during unit
 * testing, the request expectations are evaluated first.
 *
 * If a request expectation has no response specified, the algorithm will search your backend
 * definitions for an appropriate response.
 *
 * If a request didn't match any expectation or if the expectation doesn't have the response
 * defined, the backend definitions are evaluated in sequential order to see if any of them match
 * the request. The response from the first matched definition is returned.
 *
 *
 * ## Flushing HTTP requests
 *
 * The $httpBackend used in production always responds to requests asynchronously. If we preserved
 * this behavior in unit testing, we'd have to create async unit tests, which are hard to write,
 * to follow and to maintain. But neither can the testing mock respond synchronously; that would
 * change the execution of the code under test. For this reason, the mock $httpBackend has a
 * `flush()` method, which allows the test to explicitly flush pending requests. This preserves
 * the async api of the backend, while allowing the test to execute synchronously.
 *
 *
 * ## Unit testing with mock $httpBackend
 * The following code shows how to setup and use the mock backend when unit testing a controller.
 * First we create the controller under test:
 *
  ```js
  // The module code
  angular
    .module('MyApp', [])
    .controller('MyController', MyController);

  // The controller code
  function MyController($scope, $http) {
    var authToken;

    $http.get('/auth.py').then(function(response) {
      authToken = response.headers('A-Token');
      $scope.user = response.data;
    });

    $scope.saveMessage = function(message) {
      var headers = { 'Authorization': authToken };
      $scope.status = 'Saving...';

      $http.post('/add-msg.py', message, { headers: headers } ).then(function(response) {
        $scope.status = '';
      }).catch(function() {
        $scope.status = 'Failed...';
      });
    };
  }
  ```
 *
 * Now we setup the mock backend and create the test specs:
 *
  ```js
    // testing controller
    describe('MyController', function() {
       var $httpBackend, $rootScope, createController, authRequestHandler;

       // Set up the module
       beforeEach(module('MyApp'));

       beforeEach(inject(function($injector) {
         // Set up the mock http service responses
         $httpBackend = $injector.get('$httpBackend');
         // backend definition common for all tests
         authRequestHandler = $httpBackend.when('GET', '/auth.py')
                                .respond({userId: 'userX'}, {'A-Token': 'xxx'});

         // Get hold of a scope (i.e. the root scope)
         $rootScope = $injector.get('$rootScope');
         // The $controller service is used to create instances of controllers
         var $controller = $injector.get('$controller');

         createController = function() {
           return $controller('MyController', {'$scope' : $rootScope });
         };
       }));


       afterEach(function() {
         $httpBackend.verifyNoOutstandingExpectation();
         $httpBackend.verifyNoOutstandingRequest();
       });


       it('should fetch authentication token', function() {
         $httpBackend.expectGET('/auth.py');
         var controller = createController();
         $httpBackend.flush();
       });


       it('should fail authentication', function() {

         // Notice how you can change the response even after it was set
         authRequestHandler.respond(401, '');

         $httpBackend.expectGET('/auth.py');
         var controller = createController();
         $httpBackend.flush();
         expect($rootScope.status).toBe('Failed...');
       });


       it('should send msg to server', function() {
         var controller = createController();
         $httpBackend.flush();

         // now you don’t care about the authentication, but
         // the controller will still send the request and
         // $httpBackend will respond without you having to
         // specify the expectation and response for this request

         $httpBackend.expectPOST('/add-msg.py', 'message content').respond(201, '');
         $rootScope.saveMessage('message content');
         expect($rootScope.status).toBe('Saving...');
         $httpBackend.flush();
         expect($rootScope.status).toBe('');
       });


       it('should send auth header', function() {
         var controller = createController();
         $httpBackend.flush();

         $httpBackend.expectPOST('/add-msg.py', undefined, function(headers) {
           // check if the header was sent, if it wasn't the expectation won't
           // match the request and the test will fail
           return headers['Authorization'] == 'xxx';
         }).respond(201, '');

         $rootScope.saveMessage('whatever');
         $httpBackend.flush();
       });
    });
  ```
 *
 * ## Dynamic responses
 *
 * You define a response to a request by chaining a call to `respond()` onto a definition or expectation.
 * If you provide a **callback** as the first parameter to `respond(callback)` then you can dynamically generate
 * a response based on the properties of the request.
 *
 * The `callback` function should be of the form `function(method, url, data, headers, params)`.
 *
 * ### Query parameters
 *
 * By default, query parameters on request URLs are parsed into the `params` object. So a request URL
 * of `/list?q=searchstr&orderby=-name` would set `params` to be `{q: 'searchstr', orderby: '-name'}`.
 *
 * ### Regex parameter matching
 *
 * If an expectation or definition uses a **regex** to match the URL, you can provide an array of **keys** via a
 * `params` argument. The index of each **key** in the array will match the index of a **group** in the
 * **regex**.
 *
 * The `params` object in the **callback** will now have properties with these keys, which hold the value of the
 * corresponding **group** in the **regex**.
 *
 * This also applies to the `when` and `expect` shortcut methods.
 *
 *
 * ```js
 *   $httpBackend.expect('GET', /\/user\/(.+)/, undefined, undefined, ['id'])
 *     .respond(function(method, url, data, headers, params) {
 *       // for requested url of '/user/1234' params is {id: '1234'}
 *     });
 *
 *   $httpBackend.whenPATCH(/\/user\/(.+)\/article\/(.+)/, undefined, undefined, ['user', 'article'])
 *     .respond(function(method, url, data, headers, params) {
 *       // for url of '/user/1234/article/567' params is {user: '1234', article: '567'}
 *     });
 * ```
 *
 * ## Matching route requests
 *
 * For extra convenience, `whenRoute` and `expectRoute` shortcuts are available. These methods offer colon
 * delimited matching of the url path, ignoring the query string. This allows declarations
 * similar to how application routes are configured with `$routeProvider`. Because these methods convert
 * the definition url to regex, declaration order is important. Combined with query parameter parsing,
 * the following is possible:
 *
  ```js
    $httpBackend.whenRoute('GET', '/users/:id')
      .respond(function(method, url, data, headers, params) {
        return [200, MockUserList[Number(params.id)]];
      });

    $httpBackend.whenRoute('GET', '/users')
      .respond(function(method, url, data, headers, params) {
        var userList = angular.copy(MockUserList),
          defaultSort = 'lastName',
          count, pages, isPrevious, isNext;

        // paged api response '/v1/users?page=2'
        params.page = Number(params.page) || 1;

        // query for last names '/v1/users?q=Archer'
        if (params.q) {
          userList = $filter('filter')({lastName: params.q});
        }

        pages = Math.ceil(userList.length / pagingLength);
        isPrevious = params.page > 1;
        isNext = params.page < pages;

        return [200, {
          count:    userList.length,
          previous: isPrevious,
          next:     isNext,
          // sort field -> '/v1/users?sortBy=firstName'
          results:  $filter('orderBy')(userList, params.sortBy || defaultSort)
                      .splice((params.page - 1) * pagingLength, pagingLength)
        }];
      });
  ```
 */
angular.mock.$HttpBackendProvider = function() {
  this.$get = ['$rootScope', '$timeout', createHttpBackendMock];
};

/**
 * General factory function for $httpBackend mock.
 * Returns instance for unit testing (when no arguments specified):
 *   - passing through is disabled
 *   - auto flushing is disabled
 *
 * Returns instance for e2e testing (when `$delegate` and `$browser` specified):
 *   - passing through (delegating request to real backend) is enabled
 *   - auto flushing is enabled
 *
 * @param {Object=} $delegate Real $httpBackend instance (allow passing through if specified)
 * @param {Object=} $browser Auto-flushing enabled if specified
 * @return {Object} Instance of $httpBackend mock
 */
function createHttpBackendMock($rootScope, $timeout, $delegate, $browser) {
  var definitions = [],
      expectations = [],
      responses = [],
      responsesPush = angular.bind(responses, responses.push),
      copy = angular.copy;

  function createResponse(status, data, headers, statusText) {
    if (angular.isFunction(status)) return status;

    return function() {
      return angular.isNumber(status)
          ? [status, data, headers, statusText]
          : [200, status, data, headers];
    };
  }

  // TODO(vojta): change params to: method, url, data, headers, callback
  function $httpBackend(method, url, data, callback, headers, timeout, withCredentials) {
    var xhr = new MockXhr(),
        expectation = expectations[0],
        wasExpected = false;

    function prettyPrint(data) {
      return (angular.isString(data) || angular.isFunction(data) || data instanceof RegExp)
          ? data
          : angular.toJson(data);
    }

    function wrapResponse(wrapped) {
      if (!$browser && timeout) {
        timeout.then ? timeout.then(handleTimeout) : $timeout(handleTimeout, timeout);
      }

      return handleResponse;

      function handleResponse() {
        var response = wrapped.response(method, url, data, headers, wrapped.params(url));
        xhr.$$respHeaders = response[2];
        callback(copy(response[0]), copy(response[1]), xhr.getAllResponseHeaders(),
                 copy(response[3] || ''));
      }

      function handleTimeout() {
        for (var i = 0, ii = responses.length; i < ii; i++) {
          if (responses[i] === handleResponse) {
            responses.splice(i, 1);
            callback(-1, undefined, '');
            break;
          }
        }
      }
    }

    if (expectation && expectation.match(method, url)) {
      if (!expectation.matchData(data)) {
        throw new Error('Expected ' + expectation + ' with different data\n' +
            'EXPECTED: ' + prettyPrint(expectation.data) + '\nGOT:      ' + data);
      }

      if (!expectation.matchHeaders(headers)) {
        throw new Error('Expected ' + expectation + ' with different headers\n' +
                        'EXPECTED: ' + prettyPrint(expectation.headers) + '\nGOT:      ' +
                        prettyPrint(headers));
      }

      expectations.shift();

      if (expectation.response) {
        responses.push(wrapResponse(expectation));
        return;
      }
      wasExpected = true;
    }

    var i = -1, definition;
    while ((definition = definitions[++i])) {
      if (definition.match(method, url, data, headers || {})) {
        if (definition.response) {
          // if $browser specified, we do auto flush all requests
          ($browser ? $browser.defer : responsesPush)(wrapResponse(definition));
        } else if (definition.passThrough) {
          $delegate(method, url, data, callback, headers, timeout, withCredentials);
        } else throw new Error('No response defined !');
        return;
      }
    }
    throw wasExpected ?
        new Error('No response defined !') :
        new Error('Unexpected request: ' + method + ' ' + url + '\n' +
                  (expectation ? 'Expected ' + expectation : 'No more request expected'));
  }

  /**
   * @ngdoc method
   * @name $httpBackend#when
   * @description
   * Creates a new backend definition.
   *
   * @param {string} method HTTP method.
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(string|RegExp|function(string))=} data HTTP request body or function that receives
   *   data string and returns true if the data is as expected.
   * @param {(Object|function(Object))=} headers HTTP headers or function that receives http header
   *   object and returns true if the headers match the current definition.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   *   request is handled. You can save this object for later use and invoke `respond` again in
   *   order to change how a matched request is handled.
   *
   *  - respond –
   *      `{function([status,] data[, headers, statusText])
   *      | function(function(method, url, data, headers, params)}`
   *    – The respond method takes a set of static data to be returned or a function that can
   *    return an array containing response status (number), response data (string), response
   *    headers (Object), and the text for the status (string). The respond method returns the
   *    `requestHandler` object for possible overrides.
   */
  $httpBackend.when = function(method, url, data, headers, keys) {
    var definition = new MockHttpExpectation(method, url, data, headers, keys),
        chain = {
          respond: function(status, data, headers, statusText) {
            definition.passThrough = undefined;
            definition.response = createResponse(status, data, headers, statusText);
            return chain;
          }
        };

    if ($browser) {
      chain.passThrough = function() {
        definition.response = undefined;
        definition.passThrough = true;
        return chain;
      };
    }

    definitions.push(definition);
    return chain;
  };

  /**
   * @ngdoc method
   * @name $httpBackend#whenGET
   * @description
   * Creates a new backend definition for GET requests. For more info see `when()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(Object|function(Object))=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   * request is handled. You can save this object for later use and invoke `respond` again in
   * order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#whenHEAD
   * @description
   * Creates a new backend definition for HEAD requests. For more info see `when()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(Object|function(Object))=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   * request is handled. You can save this object for later use and invoke `respond` again in
   * order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#whenDELETE
   * @description
   * Creates a new backend definition for DELETE requests. For more info see `when()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(Object|function(Object))=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   * request is handled. You can save this object for later use and invoke `respond` again in
   * order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#whenPOST
   * @description
   * Creates a new backend definition for POST requests. For more info see `when()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(string|RegExp|function(string))=} data HTTP request body or function that receives
   *   data string and returns true if the data is as expected.
   * @param {(Object|function(Object))=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   * request is handled. You can save this object for later use and invoke `respond` again in
   * order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#whenPUT
   * @description
   * Creates a new backend definition for PUT requests.  For more info see `when()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(string|RegExp|function(string))=} data HTTP request body or function that receives
   *   data string and returns true if the data is as expected.
   * @param {(Object|function(Object))=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   * request is handled. You can save this object for later use and invoke `respond` again in
   * order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#whenJSONP
   * @description
   * Creates a new backend definition for JSONP requests. For more info see `when()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   * request is handled. You can save this object for later use and invoke `respond` again in
   * order to change how a matched request is handled.
   */
  createShortMethods('when');

  /**
   * @ngdoc method
   * @name $httpBackend#whenRoute
   * @description
   * Creates a new backend definition that compares only with the requested route.
   *
   * @param {string} method HTTP method.
   * @param {string} url HTTP url string that supports colon param matching.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   * request is handled. You can save this object for later use and invoke `respond` again in
   * order to change how a matched request is handled. See #when for more info.
   */
  $httpBackend.whenRoute = function(method, url) {
    var pathObj = parseRoute(url);
    return $httpBackend.when(method, pathObj.regexp, undefined, undefined, pathObj.keys);
  };

  function parseRoute(url) {
    var ret = {
      regexp: url
    },
    keys = ret.keys = [];

    if (!url || !angular.isString(url)) return ret;

    url = url
      .replace(/([().])/g, '\\$1')
      .replace(/(\/)?:(\w+)([\?\*])?/g, function(_, slash, key, option) {
        var optional = option === '?' ? option : null;
        var star = option === '*' ? option : null;
        keys.push({ name: key, optional: !!optional });
        slash = slash || '';
        return ''
          + (optional ? '' : slash)
          + '(?:'
          + (optional ? slash : '')
          + (star && '(.+?)' || '([^/]+)')
          + (optional || '')
          + ')'
          + (optional || '');
      })
      .replace(/([\/$\*])/g, '\\$1');

    ret.regexp = new RegExp('^' + url, 'i');
    return ret;
  }

  /**
   * @ngdoc method
   * @name $httpBackend#expect
   * @description
   * Creates a new request expectation.
   *
   * @param {string} method HTTP method.
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(string|RegExp|function(string)|Object)=} data HTTP request body or function that
   *  receives data string and returns true if the data is as expected, or Object if request body
   *  is in JSON format.
   * @param {(Object|function(Object))=} headers HTTP headers or function that receives http header
   *   object and returns true if the headers match the current expectation.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   *  request is handled. You can save this object for later use and invoke `respond` again in
   *  order to change how a matched request is handled.
   *
   *  - respond –
   *    `{function([status,] data[, headers, statusText])
   *    | function(function(method, url, data, headers, params)}`
   *    – The respond method takes a set of static data to be returned or a function that can
   *    return an array containing response status (number), response data (string), response
   *    headers (Object), and the text for the status (string). The respond method returns the
   *    `requestHandler` object for possible overrides.
   */
  $httpBackend.expect = function(method, url, data, headers, keys) {
    var expectation = new MockHttpExpectation(method, url, data, headers, keys),
        chain = {
          respond: function(status, data, headers, statusText) {
            expectation.response = createResponse(status, data, headers, statusText);
            return chain;
          }
        };

    expectations.push(expectation);
    return chain;
  };

  /**
   * @ngdoc method
   * @name $httpBackend#expectGET
   * @description
   * Creates a new request expectation for GET requests. For more info see `expect()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {Object=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   * request is handled. You can save this object for later use and invoke `respond` again in
   * order to change how a matched request is handled. See #expect for more info.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#expectHEAD
   * @description
   * Creates a new request expectation for HEAD requests. For more info see `expect()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {Object=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   *   request is handled. You can save this object for later use and invoke `respond` again in
   *   order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#expectDELETE
   * @description
   * Creates a new request expectation for DELETE requests. For more info see `expect()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {Object=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   *   request is handled. You can save this object for later use and invoke `respond` again in
   *   order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#expectPOST
   * @description
   * Creates a new request expectation for POST requests. For more info see `expect()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(string|RegExp|function(string)|Object)=} data HTTP request body or function that
   *  receives data string and returns true if the data is as expected, or Object if request body
   *  is in JSON format.
   * @param {Object=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   *   request is handled. You can save this object for later use and invoke `respond` again in
   *   order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#expectPUT
   * @description
   * Creates a new request expectation for PUT requests. For more info see `expect()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(string|RegExp|function(string)|Object)=} data HTTP request body or function that
   *  receives data string and returns true if the data is as expected, or Object if request body
   *  is in JSON format.
   * @param {Object=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   *   request is handled. You can save this object for later use and invoke `respond` again in
   *   order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#expectPATCH
   * @description
   * Creates a new request expectation for PATCH requests. For more info see `expect()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
   *   and returns true if the url matches the current definition.
   * @param {(string|RegExp|function(string)|Object)=} data HTTP request body or function that
   *  receives data string and returns true if the data is as expected, or Object if request body
   *  is in JSON format.
   * @param {Object=} headers HTTP headers.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   *   request is handled. You can save this object for later use and invoke `respond` again in
   *   order to change how a matched request is handled.
   */

  /**
   * @ngdoc method
   * @name $httpBackend#expectJSONP
   * @description
   * Creates a new request expectation for JSONP requests. For more info see `expect()`.
   *
   * @param {string|RegExp|function(string)} url HTTP url or function that receives an url
   *   and returns true if the url matches the current definition.
   * @param {(Array)=} keys Array of keys to assign to regex matches in request url described above.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   *   request is handled. You can save this object for later use and invoke `respond` again in
   *   order to change how a matched request is handled.
   */
  createShortMethods('expect');

  /**
   * @ngdoc method
   * @name $httpBackend#expectRoute
   * @description
   * Creates a new request expectation that compares only with the requested route.
   *
   * @param {string} method HTTP method.
   * @param {string} url HTTP url string that supports colon param matching.
   * @returns {requestHandler} Returns an object with `respond` method that controls how a matched
   * request is handled. You can save this object for later use and invoke `respond` again in
   * order to change how a matched request is handled. See #expect for more info.
   */
  $httpBackend.expectRoute = function(method, url) {
    var pathObj = parseRoute(url);
    return $httpBackend.expect(method, pathObj.regexp, undefined, undefined, pathObj.keys);
  };


  /**
   * @ngdoc method
   * @name $httpBackend#flush
   * @description
   * Flushes all pending requests using the trained responses.
   *
   * @param {number=} count Number of responses to flush (in the order they arrived). If undefined,
   *   all pending requests will be flushed. If there are no pending requests when the flush method
   *   is called an exception is thrown (as this typically a sign of programming error).
   */
  $httpBackend.flush = function(count, digest) {
    if (digest !== false) $rootScope.$digest();
    if (!responses.length) throw new Error('No pending request to flush !');

    if (angular.isDefined(count) && count !== null) {
      while (count--) {
        if (!responses.length) throw new Error('No more pending request to flush !');
        responses.shift()();
      }
    } else {
      while (responses.length) {
        responses.shift()();
      }
    }
    $httpBackend.verifyNoOutstandingExpectation(digest);
  };


  /**
   * @ngdoc method
   * @name $httpBackend#verifyNoOutstandingExpectation
   * @description
   * Verifies that all of the requests defined via the `expect` api were made. If any of the
   * requests were not made, verifyNoOutstandingExpectation throws an exception.
   *
   * Typically, you would call this method following each test case that asserts requests using an
   * "afterEach" clause.
   *
   * ```js
   *   afterEach($httpBackend.verifyNoOutstandingExpectation);
   * ```
   */
  $httpBackend.verifyNoOutstandingExpectation = function(digest) {
    if (digest !== false) $rootScope.$digest();
    if (expectations.length) {
      throw new Error('Unsatisfied requests: ' + expectations.join(', '));
    }
  };


  /**
   * @ngdoc method
   * @name $httpBackend#verifyNoOutstandingRequest
   * @description
   * Verifies that there are no outstanding requests that need to be flushed.
   *
   * Typically, you would call this method following each test case that asserts requests using an
   * "afterEach" clause.
   *
   * ```js
   *   afterEach($httpBackend.verifyNoOutstandingRequest);
   * ```
   */
  $httpBackend.verifyNoOutstandingRequest = function() {
    if (responses.length) {
      throw new Error('Unflushed requests: ' + responses.length);
    }
  };


  /**
   * @ngdoc method
   * @name $httpBackend#resetExpectations
   * @description
   * Resets all request expectations, but preserves all backend definitions. Typically, you would
   * call resetExpectations during a multiple-phase test when you want to reuse the same instance of
   * $httpBackend mock.
   */
  $httpBackend.resetExpectations = function() {
    expectations.length = 0;
    responses.length = 0;
  };

  return $httpBackend;


  function createShortMethods(prefix) {
    angular.forEach(['GET', 'DELETE', 'JSONP', 'HEAD'], function(method) {
     $httpBackend[prefix + method] = function(url, headers, keys) {
       return $httpBackend[prefix](method, url, undefined, headers, keys);
     };
    });

    angular.forEach(['PUT', 'POST', 'PATCH'], function(method) {
      $httpBackend[prefix + method] = function(url, data, headers, keys) {
        return $httpBackend[prefix](method, url, data, headers, keys);
      };
    });
  }
}

function MockHttpExpectation(method, url, data, headers, keys) {

  this.data = data;
  this.headers = headers;

  this.match = function(m, u, d, h) {
    if (method != m) return false;
    if (!this.matchUrl(u)) return false;
    if (angular.isDefined(d) && !this.matchData(d)) return false;
    if (angular.isDefined(h) && !this.matchHeaders(h)) return false;
    return true;
  };

  this.matchUrl = function(u) {
    if (!url) return true;
    if (angular.isFunction(url.test)) return url.test(u);
    if (angular.isFunction(url)) return url(u);
    return url == u;
  };

  this.matchHeaders = function(h) {
    if (angular.isUndefined(headers)) return true;
    if (angular.isFunction(headers)) return headers(h);
    return angular.equals(headers, h);
  };

  this.matchData = function(d) {
    if (angular.isUndefined(data)) return true;
    if (data && angular.isFunction(data.test)) return data.test(d);
    if (data && angular.isFunction(data)) return data(d);
    if (data && !angular.isString(data)) {
      return angular.equals(angular.fromJson(angular.toJson(data)), angular.fromJson(d));
    }
    return data == d;
  };

  this.toString = function() {
    return method + ' ' + url;
  };

  this.params = function(u) {
    return angular.extend(parseQuery(), pathParams());

    function pathParams() {
      var keyObj = {};
      if (!url || !angular.isFunction(url.test) || !keys || keys.length === 0) return keyObj;

      var m = url.exec(u);
      if (!m) return keyObj;
      for (var i = 1, len = m.length; i < len; ++i) {
        var key = keys[i - 1];
        var val = m[i];
        if (key && val) {
          keyObj[key.name || key] = val;
        }
      }

      return keyObj;
    }

    function parseQuery() {
      var obj = {}, key_value, key,
          queryStr = u.indexOf('?') > -1
          ? u.substring(u.indexOf('?') + 1)
          : "";

      angular.forEach(queryStr.split('&'), function(keyValue) {
        if (keyValue) {
          key_value = keyValue.replace(/\+/g,'%20').split('=');
          key = tryDecodeURIComponent(key_value[0]);
          if (angular.isDefined(key)) {
            var val = angular.isDefined(key_value[1]) ? tryDecodeURIComponent(key_value[1]) : true;
            if (!hasOwnProperty.call(obj, key)) {
              obj[key] = val;
            } else if (angular.isArray(obj[key])) {
              obj[key].push(val);
            } else {
              obj[key] = [obj[key],val];
            }
          }
        }
      });
      return obj;
    }
    function tryDecodeURIComponent(value) {
      try {
        return decodeURIComponent(value);
      } catch (e) {
        // Ignore any invalid uri component
      }
    }
  };
}

function createMockXhr() {
  return new MockXhr();
}

function MockXhr() {

  // hack for testing $http, $httpBackend
  MockXhr.$$lastInstance = this;

  this.open = function(method, url, async) {
    this.$$method = method;
    this.$$url = url;
    this.$$async = async;
    this.$$reqHeaders = {};
    this.$$respHeaders = {};
  };

  this.send = function(data) {
    this.$$data = data;
  };

  this.setRequestHeader = function(key, value) {
    this.$$reqHeaders[key] = value;
  };

  this.getResponseHeader = function(name) {
    // the lookup must be case insensitive,
    // that's why we try two quick lookups first and full scan last
    var header = this.$$respHeaders[name];
    if (header) return header;

    name = angular.lowercase(name);
    header = this.$$respHeaders[name];
    if (header) return header;

    header = undefined;
    angular.forEach(this.$$respHeaders, function(headerVal, headerName) {
      if (!header && angular.lowercase(headerName) == name) header = headerVal;
    });
    return header;
  };

  this.getAllResponseHeaders = function() {
    var lines = [];

    angular.forEach(this.$$respHeaders, function(value, key) {
      lines.push(key + ': ' + value);
    });
    return lines.join('\n');
  };

  this.abort = angular.noop;
}


/**
 * @ngdoc service
 * @name $timeout
 * @description
 *
 * This service is just a simple decorator for {@link ng.$timeout $timeout} service
 * that adds a "flush" and "verifyNoPendingTasks" methods.
 */

angular.mock.$TimeoutDecorator = ['$delegate', '$browser', function($delegate, $browser) {

  /**
   * @ngdoc method
   * @name $timeout#flush
   * @description
   *
   * Flushes the queue of pending tasks.
   *
   * @param {number=} delay maximum timeout amount to flush up until
   */
  $delegate.flush = function(delay) {
    $browser.defer.flush(delay);
  };

  /**
   * @ngdoc method
   * @name $timeout#verifyNoPendingTasks
   * @description
   *
   * Verifies that there are no pending tasks that need to be flushed.
   */
  $delegate.verifyNoPendingTasks = function() {
    if ($browser.deferredFns.length) {
      throw new Error('Deferred tasks to flush (' + $browser.deferredFns.length + '): ' +
          formatPendingTasksAsString($browser.deferredFns));
    }
  };

  function formatPendingTasksAsString(tasks) {
    var result = [];
    angular.forEach(tasks, function(task) {
      result.push('{id: ' + task.id + ', ' + 'time: ' + task.time + '}');
    });

    return result.join(', ');
  }

  return $delegate;
}];

angular.mock.$RAFDecorator = ['$delegate', function($delegate) {
  var rafFn = function(fn) {
    var index = rafFn.queue.length;
    rafFn.queue.push(fn);
    return function() {
      rafFn.queue.splice(index, 1);
    };
  };

  rafFn.queue = [];
  rafFn.supported = $delegate.supported;

  rafFn.flush = function() {
    if (rafFn.queue.length === 0) {
      throw new Error('No rAF callbacks present');
    }

    var length = rafFn.queue.length;
    for (var i = 0; i < length; i++) {
      rafFn.queue[i]();
    }

    rafFn.queue = rafFn.queue.slice(i);
  };

  return rafFn;
}];

/**
 *
 */
angular.mock.$RootElementProvider = function() {
  this.$get = function() {
    return angular.element('<div ng-app></div>');
  };
};

/**
 * @ngdoc service
 * @name $controller
 * @description
 * A decorator for {@link ng.$controller} with additional `bindings` parameter, useful when testing
 * controllers of directives that use {@link $compile#-bindtocontroller- `bindToController`}.
 *
 *
 * ## Example
 *
 * ```js
 *
 * // Directive definition ...
 *
 * myMod.directive('myDirective', {
 *   controller: 'MyDirectiveController',
 *   bindToController: {
 *     name: '@'
 *   }
 * });
 *
 *
 * // Controller definition ...
 *
 * myMod.controller('MyDirectiveController', ['$log', function($log) {
 *   $log.info(this.name);
 * })];
 *
 *
 * // In a test ...
 *
 * describe('myDirectiveController', function() {
 *   it('should write the bound name to the log', inject(function($controller, $log) {
 *     var ctrl = $controller('MyDirectiveController', { /* no locals &#42;/ }, { name: 'Clark Kent' });
 *     expect(ctrl.name).toEqual('Clark Kent');
 *     expect($log.info.logs).toEqual(['Clark Kent']);
 *   });
 * });
 *
 * ```
 *
 * @param {Function|string} constructor If called with a function then it's considered to be the
 *    controller constructor function. Otherwise it's considered to be a string which is used
 *    to retrieve the controller constructor using the following steps:
 *
 *    * check if a controller with given name is registered via `$controllerProvider`
 *    * check if evaluating the string on the current scope returns a constructor
 *    * if $controllerProvider#allowGlobals, check `window[constructor]` on the global
 *      `window` object (not recommended)
 *
 *    The string can use the `controller as property` syntax, where the controller instance is published
 *    as the specified property on the `scope`; the `scope` must be injected into `locals` param for this
 *    to work correctly.
 *
 * @param {Object} locals Injection locals for Controller.
 * @param {Object=} bindings Properties to add to the controller before invoking the constructor. This is used
 *                           to simulate the `bindToController` feature and simplify certain kinds of tests.
 * @return {Object} Instance of given controller.
 */
angular.mock.$ControllerDecorator = ['$delegate', function($delegate) {
  return function(expression, locals, later, ident) {
    if (later && typeof later === 'object') {
      var create = $delegate(expression, locals, true, ident);
      angular.extend(create.instance, later);
      return create();
    }
    return $delegate(expression, locals, later, ident);
  };
}];

/**
 * @ngdoc service
 * @name $componentController
 * @description
 * A service that can be used to create instances of component controllers.
 * <div class="alert alert-info">
 * Be aware that the controller will be instantiated and attached to the scope as specified in
 * the component definition object. That means that you must always provide a `$scope` object
 * in the `locals` param.
 * </div>
 * @param {string} componentName the name of the component whose controller we want to instantiate
 * @param {Object} locals Injection locals for Controller.
 * @param {Object=} bindings Properties to add to the controller before invoking the constructor. This is used
 *                           to simulate the `bindToController` feature and simplify certain kinds of tests.
 * @param {string=} ident Override the property name to use when attaching the controller to the scope.
 * @return {Object} Instance of requested controller.
 */
angular.mock.$ComponentControllerProvider = ['$compileProvider', function($compileProvider) {
  return {
    $get: ['$controller','$injector', function($controller,$injector) {
      return function $componentController(componentName, locals, bindings, ident) {
        // get all directives associated to the component name
        var directives = $injector.get(componentName + 'Directive');
        // look for those directives that are components
        var candidateDirectives = directives.filter(function(directiveInfo) {
          // components have controller, controllerAs and restrict:'E'
          return directiveInfo.controller && directiveInfo.controllerAs && directiveInfo.restrict === 'E';
        });
        // check if valid directives found
        if (candidateDirectives.length === 0) {
          throw new Error('No component found');
        }
        if (candidateDirectives.length > 1) {
          throw new Error('Too many components found');
        }
        // get the info of the component
        var directiveInfo = candidateDirectives[0];
        return $controller(directiveInfo.controller, locals, bindings, ident || directiveInfo.controllerAs);
      };
    }]
  };
}];


/**
 * @ngdoc module
 * @name ngMock
 * @packageName angular-mocks
 * @description
 *
 * # ngMock
 *
 * The `ngMock` module provides support to inject and mock Angular services into unit tests.
 * In addition, ngMock also extends various core ng services such that they can be
 * inspected and controlled in a synchronous manner within test code.
 *
 *
 * <div doc-module-components="ngMock"></div>
 *
 */
angular.module('ngMock', ['ng']).provider({
  $browser: angular.mock.$BrowserProvider,
  $exceptionHandler: angular.mock.$ExceptionHandlerProvider,
  $log: angular.mock.$LogProvider,
  $interval: angular.mock.$IntervalProvider,
  $httpBackend: angular.mock.$HttpBackendProvider,
  $rootElement: angular.mock.$RootElementProvider,
  $componentController: angular.mock.$ComponentControllerProvider
}).config(['$provide', function($provide) {
  $provide.decorator('$timeout', angular.mock.$TimeoutDecorator);
  $provide.decorator('$$rAF', angular.mock.$RAFDecorator);
  $provide.decorator('$rootScope', angular.mock.$RootScopeDecorator);
  $provide.decorator('$controller', angular.mock.$ControllerDecorator);
}]);

/**
 * @ngdoc module
 * @name ngMockE2E
 * @module ngMockE2E
 * @packageName angular-mocks
 * @description
 *
 * The `ngMockE2E` is an angular module which contains mocks suitable for end-to-end testing.
 * Currently there is only one mock present in this module -
 * the {@link ngMockE2E.$httpBackend e2e $httpBackend} mock.
 */
angular.module('ngMockE2E', ['ng']).config(['$provide', function($provide) {
  $provide.decorator('$httpBackend', angular.mock.e2e.$httpBackendDecorator);
}]);

/**
 * @ngdoc service
 * @name $httpBackend
 * @module ngMockE2E
 * @description
 * Fake HTTP backend implementation suitable for end-to-end testing or backend-less development of
 * applications that use the {@link ng.$http $http service}.
 *
 * *Note*: For fake http backend implementation suitable for unit testing please see
 * {@link ngMock.$httpBackend unit-testing $httpBackend mock}.
 *
 * This implementation can be used to respond with static or dynamic responses via the `when` api
 * and its shortcuts (`whenGET`, `whenPOST`, etc) and optionally pass through requests to the
 * real $httpBackend for specific requests (e.g. to interact with certain remote apis or to fetch
 * templates from a webserver).
 *
 * As opposed to unit-testing, in an end-to-end testing scenario or in scenario when an application
 * is being developed with the real backend api replaced with a mock, it is often desirable for
 * certain category of requests to bypass the mock and issue a real http request (e.g. to fetch
 * templates or static files from the webserver). To configure the backend with this behavior
 * use the `passThrough` request handler of `when` instead of `respond`.
 *
 * Additionally, we don't want to manually have to flush mocked out requests like we do during unit
 * testing. For this reason the e2e $httpBackend flushes mocked out requests
 * automatically, closely simulating the behavior of the XMLHttpRequest object.
 *
 * To setup the application to run with this http backend, you have to create a module that depends
 * on the `ngMockE2E` and your application modules and defines the fake backend:
 *
 * ```js
 *   myAppDev = angular.module('myAppDev', ['myApp', 'ngMockE2E']);
 *   myAppDev.run(function($httpBackend) {
 *     phones = [{name: 'phone1'}, {name: 'phone2'}];
 *
 *     // returns the current list of phones
 *     $httpBackend.whenGET('/phones').respond(phones);
 *
 *     // adds a new phone to the phones array
 *     $httpBackend.whenPOST('/phones').respond(function(method, url, data) {
 *       var phone = angular.fromJson(data);
 *       phones.push(phone);
 *       return [200, phone, {}];
 *     });
 *     $httpBackend.whenGET(/^\/templates\//).passThrough();
 *     //...
 *   });
 * ```
 *
 * Afterwards, bootstrap your app with this new module.
 */

/**
 * @ngdoc method
 * @name $httpBackend#when
 * @module ngMockE2E
 * @description
 * Creates a new backend definition.
 *
 * @param {string} method HTTP method.
 * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
 *   and returns true if the url matches the current definition.
 * @param {(string|RegExp)=} data HTTP request body.
 * @param {(Object|function(Object))=} headers HTTP headers or function that receives http header
 *   object and returns true if the headers match the current definition.
 * @param {(Array)=} keys Array of keys to assign to regex matches in request url described on
 *   {@link ngMock.$httpBackend $httpBackend mock}.
 * @returns {requestHandler} Returns an object with `respond` and `passThrough` methods that
 *   control how a matched request is handled. You can save this object for later use and invoke
 *   `respond` or `passThrough` again in order to change how a matched request is handled.
 *
 *  - respond –
 *    `{function([status,] data[, headers, statusText])
 *    | function(function(method, url, data, headers, params)}`
 *    – The respond method takes a set of static data to be returned or a function that can return
 *    an array containing response status (number), response data (string), response headers
 *    (Object), and the text for the status (string).
 *  - passThrough – `{function()}` – Any request matching a backend definition with
 *    `passThrough` handler will be passed through to the real backend (an XHR request will be made
 *    to the server.)
 *  - Both methods return the `requestHandler` object for possible overrides.
 */

/**
 * @ngdoc method
 * @name $httpBackend#whenGET
 * @module ngMockE2E
 * @description
 * Creates a new backend definition for GET requests. For more info see `when()`.
 *
 * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
 *   and returns true if the url matches the current definition.
 * @param {(Object|function(Object))=} headers HTTP headers.
 * @param {(Array)=} keys Array of keys to assign to regex matches in request url described on
 *   {@link ngMock.$httpBackend $httpBackend mock}.
 * @returns {requestHandler} Returns an object with `respond` and `passThrough` methods that
 *   control how a matched request is handled. You can save this object for later use and invoke
 *   `respond` or `passThrough` again in order to change how a matched request is handled.
 */

/**
 * @ngdoc method
 * @name $httpBackend#whenHEAD
 * @module ngMockE2E
 * @description
 * Creates a new backend definition for HEAD requests. For more info see `when()`.
 *
 * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
 *   and returns true if the url matches the current definition.
 * @param {(Object|function(Object))=} headers HTTP headers.
 * @param {(Array)=} keys Array of keys to assign to regex matches in request url described on
 *   {@link ngMock.$httpBackend $httpBackend mock}.
 * @returns {requestHandler} Returns an object with `respond` and `passThrough` methods that
 *   control how a matched request is handled. You can save this object for later use and invoke
 *   `respond` or `passThrough` again in order to change how a matched request is handled.
 */

/**
 * @ngdoc method
 * @name $httpBackend#whenDELETE
 * @module ngMockE2E
 * @description
 * Creates a new backend definition for DELETE requests. For more info see `when()`.
 *
 * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
 *   and returns true if the url matches the current definition.
 * @param {(Object|function(Object))=} headers HTTP headers.
 * @param {(Array)=} keys Array of keys to assign to regex matches in request url described on
 *   {@link ngMock.$httpBackend $httpBackend mock}.
 * @returns {requestHandler} Returns an object with `respond` and `passThrough` methods that
 *   control how a matched request is handled. You can save this object for later use and invoke
 *   `respond` or `passThrough` again in order to change how a matched request is handled.
 */

/**
 * @ngdoc method
 * @name $httpBackend#whenPOST
 * @module ngMockE2E
 * @description
 * Creates a new backend definition for POST requests. For more info see `when()`.
 *
 * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
 *   and returns true if the url matches the current definition.
 * @param {(string|RegExp)=} data HTTP request body.
 * @param {(Object|function(Object))=} headers HTTP headers.
 * @param {(Array)=} keys Array of keys to assign to regex matches in request url described on
 *   {@link ngMock.$httpBackend $httpBackend mock}.
 * @returns {requestHandler} Returns an object with `respond` and `passThrough` methods that
 *   control how a matched request is handled. You can save this object for later use and invoke
 *   `respond` or `passThrough` again in order to change how a matched request is handled.
 */

/**
 * @ngdoc method
 * @name $httpBackend#whenPUT
 * @module ngMockE2E
 * @description
 * Creates a new backend definition for PUT requests.  For more info see `when()`.
 *
 * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
 *   and returns true if the url matches the current definition.
 * @param {(string|RegExp)=} data HTTP request body.
 * @param {(Object|function(Object))=} headers HTTP headers.
 * @param {(Array)=} keys Array of keys to assign to regex matches in request url described on
 *   {@link ngMock.$httpBackend $httpBackend mock}.
 * @returns {requestHandler} Returns an object with `respond` and `passThrough` methods that
 *   control how a matched request is handled. You can save this object for later use and invoke
 *   `respond` or `passThrough` again in order to change how a matched request is handled.
 */

/**
 * @ngdoc method
 * @name $httpBackend#whenPATCH
 * @module ngMockE2E
 * @description
 * Creates a new backend definition for PATCH requests.  For more info see `when()`.
 *
 * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
 *   and returns true if the url matches the current definition.
 * @param {(string|RegExp)=} data HTTP request body.
 * @param {(Object|function(Object))=} headers HTTP headers.
 * @param {(Array)=} keys Array of keys to assign to regex matches in request url described on
 *   {@link ngMock.$httpBackend $httpBackend mock}.
 * @returns {requestHandler} Returns an object with `respond` and `passThrough` methods that
 *   control how a matched request is handled. You can save this object for later use and invoke
 *   `respond` or `passThrough` again in order to change how a matched request is handled.
 */

/**
 * @ngdoc method
 * @name $httpBackend#whenJSONP
 * @module ngMockE2E
 * @description
 * Creates a new backend definition for JSONP requests. For more info see `when()`.
 *
 * @param {string|RegExp|function(string)} url HTTP url or function that receives a url
 *   and returns true if the url matches the current definition.
 * @param {(Array)=} keys Array of keys to assign to regex matches in request url described on
 *   {@link ngMock.$httpBackend $httpBackend mock}.
 * @returns {requestHandler} Returns an object with `respond` and `passThrough` methods that
 *   control how a matched request is handled. You can save this object for later use and invoke
 *   `respond` or `passThrough` again in order to change how a matched request is handled.
 */
/**
 * @ngdoc method
 * @name $httpBackend#whenRoute
 * @module ngMockE2E
 * @description
 * Creates a new backend definition that compares only with the requested route.
 *
 * @param {string} method HTTP method.
 * @param {string} url HTTP url string that supports colon param matching.
 * @returns {requestHandler} Returns an object with `respond` and `passThrough` methods that
 *   control how a matched request is handled. You can save this object for later use and invoke
 *   `respond` or `passThrough` again in order to change how a matched request is handled.
 */
angular.mock.e2e = {};
angular.mock.e2e.$httpBackendDecorator =
  ['$rootScope', '$timeout', '$delegate', '$browser', createHttpBackendMock];


/**
 * @ngdoc type
 * @name $rootScope.Scope
 * @module ngMock
 * @description
 * {@link ng.$rootScope.Scope Scope} type decorated with helper methods useful for testing. These
 * methods are automatically available on any {@link ng.$rootScope.Scope Scope} instance when
 * `ngMock` module is loaded.
 *
 * In addition to all the regular `Scope` methods, the following helper methods are available:
 */
angular.mock.$RootScopeDecorator = ['$delegate', function($delegate) {

  var $rootScopePrototype = Object.getPrototypeOf($delegate);

  $rootScopePrototype.$countChildScopes = countChildScopes;
  $rootScopePrototype.$countWatchers = countWatchers;

  return $delegate;

  // ------------------------------------------------------------------------------------------ //

  /**
   * @ngdoc method
   * @name $rootScope.Scope#$countChildScopes
   * @module ngMock
   * @description
   * Counts all the direct and indirect child scopes of the current scope.
   *
   * The current scope is excluded from the count. The count includes all isolate child scopes.
   *
   * @returns {number} Total number of child scopes.
   */
  function countChildScopes() {
    // jshint validthis: true
    var count = 0; // exclude the current scope
    var pendingChildHeads = [this.$$childHead];
    var currentScope;

    while (pendingChildHeads.length) {
      currentScope = pendingChildHeads.shift();

      while (currentScope) {
        count += 1;
        pendingChildHeads.push(currentScope.$$childHead);
        currentScope = currentScope.$$nextSibling;
      }
    }

    return count;
  }


  /**
   * @ngdoc method
   * @name $rootScope.Scope#$countWatchers
   * @module ngMock
   * @description
   * Counts all the watchers of direct and indirect child scopes of the current scope.
   *
   * The watchers of the current scope are included in the count and so are all the watchers of
   * isolate child scopes.
   *
   * @returns {number} Total number of watchers.
   */
  function countWatchers() {
    // jshint validthis: true
    var count = this.$$watchers ? this.$$watchers.length : 0; // include the current scope
    var pendingChildHeads = [this.$$childHead];
    var currentScope;

    while (pendingChildHeads.length) {
      currentScope = pendingChildHeads.shift();

      while (currentScope) {
        count += currentScope.$$watchers ? currentScope.$$watchers.length : 0;
        pendingChildHeads.push(currentScope.$$childHead);
        currentScope = currentScope.$$nextSibling;
      }
    }

    return count;
  }
}];


if (window.jasmine || window.mocha) {

  var currentSpec = null,
      annotatedFunctions = [],
      isSpecRunning = function() {
        return !!currentSpec;
      };

  angular.mock.$$annotate = angular.injector.$$annotate;
  angular.injector.$$annotate = function(fn) {
    if (typeof fn === 'function' && !fn.$inject) {
      annotatedFunctions.push(fn);
    }
    return angular.mock.$$annotate.apply(this, arguments);
  };


  (window.beforeEach || window.setup)(function() {
    annotatedFunctions = [];
    currentSpec = this;
  });

  (window.afterEach || window.teardown)(function() {
    var injector = currentSpec.$injector;

    annotatedFunctions.forEach(function(fn) {
      delete fn.$inject;
    });

    angular.forEach(currentSpec.$modules, function(module) {
      if (module && module.$$hashKey) {
        module.$$hashKey = undefined;
      }
    });

    currentSpec.$injector = null;
    currentSpec.$modules = null;
    currentSpec.$providerInjector = null;
    currentSpec = null;

    if (injector) {
      injector.get('$rootElement').off();
      injector.get('$rootScope').$destroy();
    }

    // clean up jquery's fragment cache
    angular.forEach(angular.element.fragments, function(val, key) {
      delete angular.element.fragments[key];
    });

    MockXhr.$$lastInstance = null;

    angular.forEach(angular.callbacks, function(val, key) {
      delete angular.callbacks[key];
    });
    angular.callbacks.counter = 0;
  });

  /**
   * @ngdoc function
   * @name angular.mock.module
   * @description
   *
   * *NOTE*: This function is also published on window for easy access.<br>
   * *NOTE*: This function is declared ONLY WHEN running tests with jasmine or mocha
   *
   * This function registers a module configuration code. It collects the configuration information
   * which will be used when the injector is created by {@link angular.mock.inject inject}.
   *
   * See {@link angular.mock.inject inject} for usage example
   *
   * @param {...(string|Function|Object)} fns any number of modules which are represented as string
   *        aliases or as anonymous module initialization functions. The modules are used to
   *        configure the injector. The 'ng' and 'ngMock' modules are automatically loaded. If an
   *        object literal is passed each key-value pair will be registered on the module via
   *        {@link auto.$provide $provide}.value, the key being the string name (or token) to associate
   *        with the value on the injector.
   */
  window.module = angular.mock.module = function() {
    var moduleFns = Array.prototype.slice.call(arguments, 0);
    return isSpecRunning() ? workFn() : workFn;
    /////////////////////
    function workFn() {
      if (currentSpec.$injector) {
        throw new Error('Injector already created, can not register a module!');
      } else {
        var fn, modules = currentSpec.$modules || (currentSpec.$modules = []);
        angular.forEach(moduleFns, function(module) {
          if (angular.isObject(module) && !angular.isArray(module)) {
            fn = function($provide) {
              angular.forEach(module, function(value, key) {
                $provide.value(key, value);
              });
            };
          } else {
            fn = module;
          }
          if (currentSpec.$providerInjector) {
            currentSpec.$providerInjector.invoke(fn);
          } else {
            modules.push(fn);
          }
        });
      }
    }
  };

  /**
   * @ngdoc function
   * @name angular.mock.inject
   * @description
   *
   * *NOTE*: This function is also published on window for easy access.<br>
   * *NOTE*: This function is declared ONLY WHEN running tests with jasmine or mocha
   *
   * The inject function wraps a function into an injectable function. The inject() creates new
   * instance of {@link auto.$injector $injector} per test, which is then used for
   * resolving references.
   *
   *
   * ## Resolving References (Underscore Wrapping)
   * Often, we would like to inject a reference once, in a `beforeEach()` block and reuse this
   * in multiple `it()` clauses. To be able to do this we must assign the reference to a variable
   * that is declared in the scope of the `describe()` block. Since we would, most likely, want
   * the variable to have the same name of the reference we have a problem, since the parameter
   * to the `inject()` function would hide the outer variable.
   *
   * To help with this, the injected parameters can, optionally, be enclosed with underscores.
   * These are ignored by the injector when the reference name is resolved.
   *
   * For example, the parameter `_myService_` would be resolved as the reference `myService`.
   * Since it is available in the function body as _myService_, we can then assign it to a variable
   * defined in an outer scope.
   *
   * ```
   * // Defined out reference variable outside
   * var myService;
   *
   * // Wrap the parameter in underscores
   * beforeEach( inject( function(_myService_){
   *   myService = _myService_;
   * }));
   *
   * // Use myService in a series of tests.
   * it('makes use of myService', function() {
   *   myService.doStuff();
   * });
   *
   * ```
   *
   * See also {@link angular.mock.module angular.mock.module}
   *
   * ## Example
   * Example of what a typical jasmine tests looks like with the inject method.
   * ```js
   *
   *   angular.module('myApplicationModule', [])
   *       .value('mode', 'app')
   *       .value('version', 'v1.0.1');
   *
   *
   *   describe('MyApp', function() {
   *
   *     // You need to load modules that you want to test,
   *     // it loads only the "ng" module by default.
   *     beforeEach(module('myApplicationModule'));
   *
   *
   *     // inject() is used to inject arguments of all given functions
   *     it('should provide a version', inject(function(mode, version) {
   *       expect(version).toEqual('v1.0.1');
   *       expect(mode).toEqual('app');
   *     }));
   *
   *
   *     // The inject and module method can also be used inside of the it or beforeEach
   *     it('should override a version and test the new version is injected', function() {
   *       // module() takes functions or strings (module aliases)
   *       module(function($provide) {
   *         $provide.value('version', 'overridden'); // override version here
   *       });
   *
   *       inject(function(version) {
   *         expect(version).toEqual('overridden');
   *       });
   *     });
   *   });
   *
   * ```
   *
   * @param {...Function} fns any number of functions which will be injected using the injector.
   */



  var ErrorAddingDeclarationLocationStack = function(e, errorForStack) {
    this.message = e.message;
    this.name = e.name;
    if (e.line) this.line = e.line;
    if (e.sourceId) this.sourceId = e.sourceId;
    if (e.stack && errorForStack)
      this.stack = e.stack + '\n' + errorForStack.stack;
    if (e.stackArray) this.stackArray = e.stackArray;
  };
  ErrorAddingDeclarationLocationStack.prototype.toString = Error.prototype.toString;

  window.inject = angular.mock.inject = function() {
    var blockFns = Array.prototype.slice.call(arguments, 0);
    var errorForStack = new Error('Declaration Location');
    return isSpecRunning() ? workFn.call(currentSpec) : workFn;
    /////////////////////
    function workFn() {
      var modules = currentSpec.$modules || [];
      var strictDi = !!currentSpec.$injectorStrict;
      modules.unshift(function($injector) {
        currentSpec.$providerInjector = $injector;
      });
      modules.unshift('ngMock');
      modules.unshift('ng');
      var injector = currentSpec.$injector;
      if (!injector) {
        if (strictDi) {
          // If strictDi is enabled, annotate the providerInjector blocks
          angular.forEach(modules, function(moduleFn) {
            if (typeof moduleFn === "function") {
              angular.injector.$$annotate(moduleFn);
            }
          });
        }
        injector = currentSpec.$injector = angular.injector(modules, strictDi);
        currentSpec.$injectorStrict = strictDi;
      }
      for (var i = 0, ii = blockFns.length; i < ii; i++) {
        if (currentSpec.$injectorStrict) {
          // If the injector is strict / strictDi, and the spec wants to inject using automatic
          // annotation, then annotate the function here.
          injector.annotate(blockFns[i]);
        }
        try {
          /* jshint -W040 *//* Jasmine explicitly provides a `this` object when calling functions */
          injector.invoke(blockFns[i] || angular.noop, this);
          /* jshint +W040 */
        } catch (e) {
          if (e.stack && errorForStack) {
            throw new ErrorAddingDeclarationLocationStack(e, errorForStack);
          }
          throw e;
        } finally {
          errorForStack = null;
        }
      }
    }
  };


  angular.mock.inject.strictDi = function(value) {
    value = arguments.length ? !!value : true;
    return isSpecRunning() ? workFn() : workFn;

    function workFn() {
      if (value !== currentSpec.$injectorStrict) {
        if (currentSpec.$injector) {
          throw new Error('Injector already created, can not modify strict annotations');
        } else {
          currentSpec.$injectorStrict = value;
        }
      }
    }
  };
}


})(window, window.angular);

},{}],9:[function(require,module,exports){
/*
 AngularJS v1.5.0
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(r,d,C){'use strict';function x(s,h,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,c,b,f,y){function k(){n&&(g.cancel(n),n=null);l&&(l.$destroy(),l=null);m&&(n=g.leave(m),n.then(function(){n=null}),m=null)}function z(){var b=s.current&&s.current.locals;if(d.isDefined(b&&b.$template)){var b=a.$new(),f=s.current;m=y(b,function(b){g.enter(b,null,m||c).then(function(){!d.isDefined(u)||u&&!a.$eval(u)||h()});k()});l=f.scope=b;l.$emit("$viewContentLoaded");
l.$eval(v)}else k()}var l,m,n,u=b.autoscroll,v=b.onload||"";a.$on("$routeChangeSuccess",z);z()}}}function A(d,h,g){return{restrict:"ECA",priority:-400,link:function(a,c){var b=g.current,f=b.locals;c.html(f.$template);var y=d(c.contents());if(b.controller){f.$scope=a;var k=h(b.controller,f);b.controllerAs&&(a[b.controllerAs]=k);c.data("$ngControllerController",k);c.children().data("$ngControllerController",k)}a[b.resolveAs||"$resolve"]=f;y(a)}}}r=d.module("ngRoute",["ng"]).provider("$route",function(){function s(a,
c){return d.extend(Object.create(a),c)}function h(a,d){var b=d.caseInsensitiveMatch,f={originalPath:a,regexp:a},g=f.keys=[];a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,d,b,c){a="?"===c?c:null;c="*"===c?c:null;g.push({name:b,optional:!!a});d=d||"";return""+(a?"":d)+"(?:"+(a?d:"")+(c&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1");f.regexp=new RegExp("^"+a+"$",b?"i":"");return f}var g={};this.when=function(a,c){var b=d.copy(c);d.isUndefined(b.reloadOnSearch)&&
(b.reloadOnSearch=!0);d.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch);g[a]=d.extend(b,a&&h(a,b));if(a){var f="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";g[f]=d.extend({redirectTo:a},h(f,b))}return this};this.caseInsensitiveMatch=!1;this.otherwise=function(a){"string"===typeof a&&(a={redirectTo:a});this.when(null,a);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(a,c,b,f,h,k,r){function l(b){var e=
t.current;(x=(p=n())&&e&&p.$$route===e.$$route&&d.equals(p.pathParams,e.pathParams)&&!p.reloadOnSearch&&!v)||!e&&!p||a.$broadcast("$routeChangeStart",p,e).defaultPrevented&&b&&b.preventDefault()}function m(){var w=t.current,e=p;if(x)w.params=e.params,d.copy(w.params,b),a.$broadcast("$routeUpdate",w);else if(e||w)v=!1,(t.current=e)&&e.redirectTo&&(d.isString(e.redirectTo)?c.path(u(e.redirectTo,e.params)).search(e.params).replace():c.url(e.redirectTo(e.pathParams,c.path(),c.search())).replace()),f.when(e).then(function(){if(e){var a=
d.extend({},e.resolve),b,c;d.forEach(a,function(b,e){a[e]=d.isString(b)?h.get(b):h.invoke(b,null,null,e)});d.isDefined(b=e.template)?d.isFunction(b)&&(b=b(e.params)):d.isDefined(c=e.templateUrl)&&(d.isFunction(c)&&(c=c(e.params)),d.isDefined(c)&&(e.loadedTemplateUrl=r.valueOf(c),b=k(c)));d.isDefined(b)&&(a.$template=b);return f.all(a)}}).then(function(c){e==t.current&&(e&&(e.locals=c,d.copy(e.params,b)),a.$broadcast("$routeChangeSuccess",e,w))},function(b){e==t.current&&a.$broadcast("$routeChangeError",
e,w,b)})}function n(){var a,b;d.forEach(g,function(f,g){var q;if(q=!b){var h=c.path();q=f.keys;var l={};if(f.regexp)if(h=f.regexp.exec(h)){for(var k=1,n=h.length;k<n;++k){var m=q[k-1],p=h[k];m&&p&&(l[m.name]=p)}q=l}else q=null;else q=null;q=a=q}q&&(b=s(f,{params:d.extend({},c.search(),a),pathParams:a}),b.$$route=f)});return b||g[null]&&s(g[null],{params:{},pathParams:{}})}function u(a,b){var c=[];d.forEach((a||"").split(":"),function(a,d){if(0===d)c.push(a);else{var f=a.match(/(\w+)(?:[?*])?(.*)/),
g=f[1];c.push(b[g]);c.push(f[2]||"");delete b[g]}});return c.join("")}var v=!1,p,x,t={routes:g,reload:function(){v=!0;var b={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0;v=!1}};a.$evalAsync(function(){l(b);b.defaultPrevented||m()})},updateParams:function(a){if(this.current&&this.current.$$route)a=d.extend({},this.current.params,a),c.path(u(this.current.$$route.originalPath,a)),c.search(a);else throw B("norout");}};a.$on("$locationChangeStart",l);a.$on("$locationChangeSuccess",
m);return t}]});var B=d.$$minErr("ngRoute");r.provider("$routeParams",function(){this.$get=function(){return{}}});r.directive("ngView",x);r.directive("ngView",A);x.$inject=["$route","$anchorScroll","$animate"];A.$inject=["$compile","$controller","$route"]})(window,window.angular);


},{}],10:[function(require,module,exports){
/*
 AngularJS v1.4.7
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(n,h,p){'use strict';function E(a){var f=[];r(f,h.noop).chars(a);return f.join("")}function g(a,f){var d={},c=a.split(","),b;for(b=0;b<c.length;b++)d[f?h.lowercase(c[b]):c[b]]=!0;return d}function F(a,f){function d(a,b,d,l){b=h.lowercase(b);if(s[b])for(;e.last()&&t[e.last()];)c("",e.last());u[b]&&e.last()==b&&c("",b);(l=v[b]||!!l)||e.push(b);var m={};d.replace(G,function(b,a,f,c,d){m[a]=q(f||c||d||"")});f.start&&f.start(b,m,l)}function c(b,a){var c=0,d;if(a=h.lowercase(a))for(c=e.length-
1;0<=c&&e[c]!=a;c--);if(0<=c){for(d=e.length-1;d>=c;d--)f.end&&f.end(e[d]);e.length=c}}"string"!==typeof a&&(a=null===a||"undefined"===typeof a?"":""+a);var b,k,e=[],m=a,l;for(e.last=function(){return e[e.length-1]};a;){l="";k=!0;if(e.last()&&w[e.last()])a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+e.last()+"[^>]*>","i"),function(a,b){b=b.replace(H,"$1").replace(I,"$1");f.chars&&f.chars(q(b));return""}),c("",e.last());else{if(0===a.indexOf("\x3c!--"))b=a.indexOf("--",4),0<=b&&a.lastIndexOf("--\x3e",
b)===b&&(f.comment&&f.comment(a.substring(4,b)),a=a.substring(b+3),k=!1);else if(x.test(a)){if(b=a.match(x))a=a.replace(b[0],""),k=!1}else if(J.test(a)){if(b=a.match(y))a=a.substring(b[0].length),b[0].replace(y,c),k=!1}else K.test(a)&&((b=a.match(z))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(z,d)),k=!1):(l+="<",a=a.substring(1)));k&&(b=a.indexOf("<"),l+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),f.chars&&f.chars(q(l)))}if(a==m)throw L("badparse",a);m=a}c()}function q(a){if(!a)return"";A.innerHTML=
a.replace(/</g,"&lt;");return A.textContent}function B(a){return a.replace(/&/g,"&amp;").replace(M,function(a){var d=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(d-55296)+(a-56320)+65536)+";"}).replace(N,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(a,f){var d=!1,c=h.bind(a,a.push);return{start:function(a,k,e){a=h.lowercase(a);!d&&w[a]&&(d=a);d||!0!==C[a]||(c("<"),c(a),h.forEach(k,function(d,e){var k=h.lowercase(e),g="img"===a&&"src"===k||
"background"===k;!0!==O[k]||!0===D[k]&&!f(d,g)||(c(" "),c(e),c('="'),c(B(d)),c('"'))}),c(e?"/>":">"))},end:function(a){a=h.lowercase(a);d||!0!==C[a]||(c("</"),c(a),c(">"));a==d&&(d=!1)},chars:function(a){d||c(B(a))}}}var L=h.$$minErr("$sanitize"),z=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,y=/^<\/\s*([\w:-]+)[^>]*>/,G=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,K=/^</,J=/^<\//,H=/\x3c!--(.*?)--\x3e/g,x=/<!DOCTYPE([^>]*?)>/i,
I=/<!\[CDATA\[(.*?)]]\x3e/g,M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N=/([^\#-~| |!])/g,v=g("area,br,col,hr,img,wbr");n=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");p=g("rp,rt");var u=h.extend({},p,n),s=h.extend({},n,g("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),t=h.extend({},p,g("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));
n=g("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var w=g("script,style"),C=h.extend({},v,s,t,u,n),D=g("background,cite,href,longdesc,src,usemap,xlink:href");n=g("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width");
p=g("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0);var O=h.extend({},D,p,n),A=document.createElement("pre");h.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(f){var d=[];F(f,r(d,function(c,b){return!/^unsafe/.test(a(c,b))}));return d.join("")}}]});h.module("ngSanitize").filter("linky",["$sanitize",function(a){var f=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i;return function(c,b){function k(a){a&&g.push(E(a))}function e(a,
c){g.push("<a ");h.isDefined(b)&&g.push('target="',b,'" ');g.push('href="',a.replace(/"/g,"&quot;"),'">');k(c);g.push("</a>")}if(!c)return c;for(var m,l=c,g=[],n,p;m=l.match(f);)n=m[0],m[2]||m[4]||(n=(m[3]?"http://":"mailto:")+n),p=m.index,k(l.substr(0,p)),e(n,m[0].replace(d,"")),l=l.substring(p+m[0].length);k(l);return a(g.join(""))}}])})(window,window.angular);


},{}],11:[function(require,module,exports){
/*
 AngularJS v1.5.0
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(O,W,v){'use strict';function H(a){return function(){var b=arguments[0],d;d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.5.0/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent,e;e=arguments[b];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function Ca(a){if(null==a||Za(a))return!1;if(L(a)||F(a)||C&&a instanceof C)return!0;
var b="length"in Object(a)&&a.length;return N(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function n(a,b,d){var c,e;if(a)if(D(a))for(c in a)"prototype"==c||"length"==c||"name"==c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(L(a)||Ca(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==n)a.forEach(b,d,a);else if(qc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&
b.call(d,a[c],c,a);else for(c in a)sa.call(a,c)&&b.call(d,a[c],c,a);return a}function rc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function sc(a){return function(b,d){a(d,b)}}function Yd(){return++pb}function Qb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(E(g)||D(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],r=g[m];d&&E(r)?V(r)?a[m]=new Date(r.valueOf()):$a(r)?a[m]=new RegExp(r):r.nodeName?a[m]=r.cloneNode(!0):
Rb(r)?a[m]=r.clone():(E(a[m])||(a[m]=L(r)?[]:{}),Qb(a[m],[r],!0)):a[m]=r}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function T(a){return Qb(a,wa.call(arguments,1),!1)}function Zd(a){return Qb(a,wa.call(arguments,1),!0)}function ca(a){return parseInt(a,10)}function Sb(a,b){return T(Object.create(a),b)}function B(){}function ab(a){return a}function ba(a){return function(){return a}}function tc(a){return D(a.toString)&&a.toString!==ga}function x(a){return"undefined"===typeof a}function y(a){return"undefined"!==
typeof a}function E(a){return null!==a&&"object"===typeof a}function qc(a){return null!==a&&"object"===typeof a&&!uc(a)}function F(a){return"string"===typeof a}function N(a){return"number"===typeof a}function V(a){return"[object Date]"===ga.call(a)}function D(a){return"function"===typeof a}function $a(a){return"[object RegExp]"===ga.call(a)}function Za(a){return a&&a.window===a}function bb(a){return a&&a.$evalAsync&&a.$watch}function Na(a){return"boolean"===typeof a}function $d(a){return a&&N(a.length)&&
ae.test(ga.call(a))}function Rb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function be(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function ra(a){return G(a.nodeName||a[0]&&a[0].nodeName)}function cb(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function Oa(a,b){function d(a,b){var d=b.$$hashKey,e;if(L(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(qc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"===typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&
(b[e]=c(a[e]));else for(e in a)sa.call(a,e)&&(b[e]=c(a[e]));d?b.$$hashKey=d:delete b.$$hashKey;return b}function c(a){if(!E(a))return a;var b=f.indexOf(a);if(-1!==b)return g[b];if(Za(a)||bb(a))throw Da("cpws");var b=!1,c=e(a);c===v&&(c=L(a)?[]:Object.create(uc(a)),b=!0);f.push(a);g.push(c);return b?d(a,c):c}function e(a){switch(ga.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(c(a.buffer));
case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex,b}if(D(a.cloneNode))return a.cloneNode(!0)}var f=[],g=[];if(b){if($d(b)||"[object ArrayBuffer]"===ga.call(b))throw Da("cpta");
if(a===b)throw Da("cpi");L(b)?b.length=0:n(b,function(a,c){"$$hashKey"!==c&&delete b[c]});f.push(a);g.push(b);return d(a,b)}return c(a)}function na(a,b){if(L(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(E(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function oa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d==typeof b&&"object"==d)if(L(a)){if(!L(b))return!1;if((d=a.length)==b.length){for(c=
0;c<d;c++)if(!oa(a[c],b[c]))return!1;return!0}}else{if(V(a))return V(b)?oa(a.getTime(),b.getTime()):!1;if($a(a))return $a(b)?a.toString()==b.toString():!1;if(bb(a)||bb(b)||Za(a)||Za(b)||L(b)||V(b)||$a(b))return!1;d=Z();for(c in a)if("$"!==c.charAt(0)&&!D(a[c])){if(!oa(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&y(b[c])&&!D(b[c]))return!1;return!0}return!1}function db(a,b,d){return a.concat(wa.call(b,d))}function vc(a,b){var d=2<arguments.length?wa.call(arguments,2):[];
return!D(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,db(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function ce(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=v:Za(b)?d="$WINDOW":b&&W===b?d="$DOCUMENT":bb(b)&&(d="$SCOPE");return d}function eb(a,b){if(x(a))return v;N(b)||(b=b?2:null);return JSON.stringify(a,ce,b)}function wc(a){return F(a)?JSON.parse(a):a}function xc(a,b){a=a.replace(de,
"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return isNaN(d)?b:d}function Tb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=xc(b,c);d*=b-c;a=new Date(a.getTime());a.setMinutes(a.getMinutes()+d);return a}function ta(a){a=C(a).clone();try{a.empty()}catch(b){}var d=C("<div>").append(a).html();try{return a[0].nodeType===Pa?G(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+G(b)})}catch(c){return G(d)}}function yc(a){try{return decodeURIComponent(a)}catch(b){}}function zc(a){var b=
{};n((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=yc(e),y(e)&&(f=y(f)?yc(f):!0,sa.call(b,e)?L(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Ub(a){var b=[];n(a,function(a,c){L(a)?n(a,function(a){b.push(ha(c,!0)+(!0===a?"":"="+ha(a,!0)))}):b.push(ha(c,!0)+(!0===a?"":"="+ha(a,!0)))});return b.length?b.join("&"):""}function qb(a){return ha(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,
"+")}function ha(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ee(a,b){var d,c,e=Qa.length;for(c=0;c<e;++c)if(d=Qa[c]+b,F(d=a.getAttribute(d)))return d;return null}function fe(a,b){var d,c,e={};n(Qa,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});n(Qa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&
(d=e,c=e.getAttribute(b))});d&&(e.strictDi=null!==ee(d,"strict-di"),b(d,c?[c]:[],e))}function Ac(a,b,d){E(d)||(d={});d=T({strictDi:!1},d);var c=function(){a=C(a);if(a.injector()){var c=a[0]===W?"document":ta(a);throw Da("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=fb(b,d.strictDi);c.invoke(["$rootScope","$rootElement",
"$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;O&&e.test(O.name)&&(d.debugInfoEnabled=!0,O.name=O.name.replace(e,""));if(O&&!f.test(O.name))return c();O.name=O.name.replace(f,"");ia.resumeBootstrap=function(a){n(a,function(a){b.push(a)});return c()};D(ia.resumeDeferredBootstrap)&&ia.resumeDeferredBootstrap()}function ge(){O.name="NG_ENABLE_DEBUG_INFO!"+O.name;O.location.reload()}function he(a){a=
ia.element(a).injector();if(!a)throw Da("test");return a.get("$$testability")}function Bc(a,b){b=b||"_";return a.replace(ie,function(a,c){return(c?b:"")+a.toLowerCase()})}function je(){var a;if(!Cc){var b=rb();(ua=x(b)?O.jQuery:b?O[b]:v)&&ua.fn.on?(C=ua,T(ua.fn,{scope:Ra.scope,isolateScope:Ra.isolateScope,controller:Ra.controller,injector:Ra.injector,inheritedData:Ra.inheritedData}),a=ua.cleanData,ua.cleanData=function(b){for(var c,e=0,f;null!=(f=b[e]);e++)(c=ua._data(f,"events"))&&c.$destroy&&ua(f).triggerHandler("$destroy");
a(b)}):C=U;ia.element=C;Cc=!0}}function sb(a,b,d){if(!a)throw Da("areq",b||"?",d||"required");return a}function Sa(a,b,d){d&&L(a)&&(a=a[a.length-1]);sb(D(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Ta(a,b){if("hasOwnProperty"===a)throw Da("badname",b);}function Dc(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&D(a)?vc(e,a):a}function tb(a){for(var b=a[0],d=a[a.length-1],c,
e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=C(wa.call(a,0,e))),c.push(b);return c||a}function Z(){return Object.create(null)}function ke(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=H("$injector"),c=H("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||H;return b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,d,e,f){f||(f=c);return function(){f[e||"push"]([b,
d,arguments]);return K}}function b(a,d){return function(b,e){e&&D(e)&&(e.$$moduleName=f);c.push([a,d,arguments]);return K}}if(!g)throw d("nomod",f);var c=[],e=[],s=[],I=a("$injector","invoke","push",e),K={_invokeQueue:c,_configBlocks:e,_runBlocks:s,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider",
"register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:I,run:function(a){s.push(a);return this}};h&&I(h);return K})}})}function le(a){T(a,{bootstrap:Ac,copy:Oa,extend:T,merge:Zd,equals:oa,element:C,forEach:n,injector:fb,noop:B,bind:vc,toJson:eb,fromJson:wc,identity:ab,isUndefined:x,isDefined:y,isString:F,isFunction:D,isObject:E,isNumber:N,isElement:Rb,isArray:L,
version:me,isDate:V,lowercase:G,uppercase:ub,callbacks:{counter:0},getTestability:he,$$minErr:H,$$csp:Ea,reloadWithDebugInfo:ge});Vb=ke(O);Vb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:ne});a.provider("$compile",Ec).directive({a:oe,input:Fc,textarea:Fc,form:pe,script:qe,select:re,style:se,option:te,ngBind:ue,ngBindHtml:ve,ngBindTemplate:we,ngClass:xe,ngClassEven:ye,ngClassOdd:ze,ngCloak:Ae,ngController:Be,ngForm:Ce,ngHide:De,ngIf:Ee,ngInclude:Fe,ngInit:Ge,ngNonBindable:He,
ngPluralize:Ie,ngRepeat:Je,ngShow:Ke,ngStyle:Le,ngSwitch:Me,ngSwitchWhen:Ne,ngSwitchDefault:Oe,ngOptions:Pe,ngTransclude:Qe,ngModel:Re,ngList:Se,ngChange:Te,pattern:Gc,ngPattern:Gc,required:Hc,ngRequired:Hc,minlength:Ic,ngMinlength:Ic,maxlength:Jc,ngMaxlength:Jc,ngValue:Ue,ngModelOptions:Ve}).directive({ngInclude:We}).directive(vb).directive(Kc);a.provider({$anchorScroll:Xe,$animate:Ye,$animateCss:Ze,$$animateJs:$e,$$animateQueue:af,$$AnimateRunner:bf,$$animateAsyncRun:cf,$browser:df,$cacheFactory:ef,
$controller:ff,$document:gf,$exceptionHandler:hf,$filter:Lc,$$forceReflow:jf,$interpolate:kf,$interval:lf,$http:mf,$httpParamSerializer:nf,$httpParamSerializerJQLike:of,$httpBackend:pf,$xhrFactory:qf,$location:rf,$log:sf,$parse:tf,$rootScope:uf,$q:vf,$$q:wf,$sce:xf,$sceDelegate:yf,$sniffer:zf,$templateCache:Af,$templateRequest:Bf,$$testability:Cf,$timeout:Df,$window:Ef,$$rAF:Ff,$$jqLite:Gf,$$HashMap:Hf,$$cookieReader:If})}])}function gb(a){return a.replace(Jf,function(a,d,c,e){return e?c.toUpperCase():
c}).replace(Kf,"Moz$1")}function Mc(a){a=a.nodeType;return 1===a||!a||9===a}function Nc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Wb.test(a)){d=d||e.appendChild(b.createElement("div"));c=(Lf.exec(a)||["",""])[1].toLowerCase();c=da[c]||da._default;d.innerHTML=c[1]+a.replace(Mf,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=db(f,d.childNodes);d=e.firstChild;d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";n(f,function(a){e.appendChild(a)});return e}function Oc(a,
b){var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)}function U(a){if(a instanceof U)return a;var b;F(a)&&(a=X(a),b=!0);if(!(this instanceof U)){if(b&&"<"!=a.charAt(0))throw Xb("nosel");return new U(a)}if(b){b=W;var d;a=(d=Nf.exec(a))?[b.createElement(d[1])]:(d=Nc(a,b))?d.childNodes:[]}Pc(this,a)}function Yb(a){return a.cloneNode(!0)}function wb(a,b){b||hb(a);if(a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)hb(d[c])}function Qc(a,b,d,c){if(y(c))throw Xb("offargs");
var e=(c=xb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];y(d)&&cb(c||[],d);y(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};n(b.split(" "),function(a){g(a);yb[a]&&g(yb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function hb(a,b){var d=a.ng339,c=d&&ib[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Qc(a)),delete ib[d],a.ng339=v))}function xb(a,b){var d=a.ng339,d=d&&ib[d];b&&!d&&(a.ng339=d=++Of,
d=ib[d]={events:{},data:{},handle:v});return d}function Zb(a,b,d){if(Mc(a)){var c=y(d),e=!c&&b&&!E(b),f=!b;a=(a=xb(a,!e))&&a.data;if(c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];T(a,b)}}}function zb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Ab(a,b){b&&a.setAttribute&&n(b.split(" "),function(b){a.setAttribute("class",X((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+X(b)+" "," ")))})}function Bb(a,
b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");n(b.split(" "),function(a){a=X(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",X(d))}}function Pc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function Rc(a,b){return Cb(a,"$"+(b||"ngController")+"Controller")}function Cb(a,b,d){9==a.nodeType&&(a=a.documentElement);for(b=
L(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(y(d=C.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function Sc(a){for(wb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function $b(a,b){b||wb(a);var d=a.parentNode;d&&d.removeChild(a)}function Pf(a,b){b=b||O;if("complete"===b.document.readyState)b.setTimeout(a);else C(b).on("load",a)}function Tc(a,b){var d=Db[b.toLowerCase()];return d&&Uc[ra(a)]&&d}function Qf(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};
var f=b[d||c.type],g=f?f.length:0;if(g){if(x(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||Rf;1<g&&(f=na(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};d.elem=a;return d}function Rf(a,b,d){d.call(a,b)}function Sf(a,b,
d){var c=b.relatedTarget;c&&(c===a||Tf.call(a,c))||d.call(a,b)}function Gf(){this.$get=function(){return T(U,{hasClass:function(a,b){a.attr&&(a=a[0]);return zb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Bb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Ab(a,b)}})}}function Fa(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||Yd)():d+":"+a}function Ua(a,b){if(b){var d=0;this.nextUid=
function(){return++d}}n(a,this.put,this)}function Vc(a){a=a.toString().replace(Uf,"");return a.match(Vf)||a.match(Wf)}function Xf(a){return(a=Vc(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function fb(a,b){function d(a){return function(b,c){if(E(b))n(b,sc(a));else return a(b,c)}}function c(a,b){Ta(a,"service");if(D(b)||L(b))b=s.instantiate(b);if(!b.$get)throw Ga("pget",a);return r[a+"Provider"]=b}function e(a,b){return function(){var c=t.invoke(b,this);if(x(c))throw Ga("undef",a);
return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){sb(x(a)||L(a),"modulesToLoad","not an array");var b=[],c;n(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=s.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{F(a)?(c=Vb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):D(a)?b.push(s.invoke(a)):L(a)?b.push(s.invoke(a)):Sa(a,"module")}catch(e){throw L(a)&&(a=a[a.length-1]),e.message&&e.stack&&
-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ga("modulerr",a,e.stack||e.message||e);}}});return b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Ga("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e)}catch(f){throw a[b]===k&&delete a[b],f;}finally{l.shift()}}function e(a,c,f){var g=[];a=fb.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!==typeof l)throw Ga("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:
d(l,f))}return g}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);L(a)&&(a=a[a.length-1]);d=11>=xa?!1:"function"===typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a));return d?(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=L(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:fb.$$annotate,has:function(b){return r.hasOwnProperty(b+
"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Ua([],!0),r={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ba(b),!1)}),constant:d(function(a,b){Ta(a,"constant");r[a]=b;I[a]=b}),decorator:function(a,b){var c=s.get(a+"Provider"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},s=r.$injector=h(r,function(a,b){ia.isString(b)&&l.push(b);
throw Ga("unpr",l.join(" <- "));}),I={},K=h(I,function(a,b){var c=s.get(a+"Provider",b);return t.invoke(c.$get,c,v,a)}),t=K;r.$injectorProvider={$get:ba(K)};var p=g(a),t=K.get("$injector");t.strictDi=b;n(p,function(a){a&&t.invoke(a)});return t}function Xe(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===ra(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();
var c;c=g.yOffset;D(c)?c=c():Rb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):N(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=F(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Pf(function(){c.$evalAsync(g)})});return g}]}function jb(a,b){if(!a&&!b)return"";
if(!a)return b;if(!b)return a;L(a)&&(a=a.join(" "));L(b)&&(b=b.join(" "));return a+" "+b}function Yf(a){F(a)&&(a=a.split(" "));var b=Z();n(a,function(a){a.length&&(b[a]=!0)});return b}function Ha(a){return E(a)?a:{}}function Zf(a,b,d,c){function e(a){try{a.apply(null,wa.call(arguments,1))}finally{if(K--,0===K)for(;t.length;)try{t.pop()()}catch(b){d.error(b)}}}function f(){z=null;g();h()}function g(){a:{try{p=m.state;break a}catch(a){}p=void 0}p=x(p)?null:p;oa(p,$)&&(p=$);$=p}function h(){if(u!==k.url()||
w!==p)u=k.url(),w=p,n(A,function(a){a(k.url(),p)})}var k=this,l=a.location,m=a.history,r=a.setTimeout,s=a.clearTimeout,I={};k.isMock=!1;var K=0,t=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){K++};k.notifyWhenNoOutstandingRequests=function(a){0===K?a():t.push(a)};var p,w,u=l.href,la=b.find("base"),z=null;g();w=p;k.url=function(b,d,e){x(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=w===e;if(u===b&&(!c.history||f))return k;var h=
u&&Ia(u)===Ia(b);u=b;w=e;if(!c.history||h&&f){if(!h||z)z=b;d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b;l.href!==b&&(z=b)}else m[d?"replaceState":"pushState"](e,"",b),g(),w=p;return k}return z||l.href.replace(/%27/g,"'")};k.state=function(){return p};var A=[],Q=!1,$=null;k.onUrlChange=function(b){if(!Q){if(c.history)C(a).on("popstate",f);C(a).on("hashchange",f);Q=!0}A.push(b);return b};k.$$applicationDestroyed=function(){C(a).off("hashchange popstate",f)};k.$$checkUrlChange=
h;k.baseHref=function(){var a=la.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};k.defer=function(a,b){var c;K++;c=r(function(){delete I[c];e(a)},b||0);I[c]=!0;return c};k.defer.cancel=function(a){return I[a]?(delete I[a],s(a),e(B),!0):!1}}function df(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new Zf(a,c,b,d)}]}function ef(){this.$get=function(){function a(a,c){function e(a){a!=r&&(s?s==a&&(s=a.n):s=a,f(a.n,a.p),f(a,r),r=a,r.n=null)}function f(a,
b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw H("$cacheFactory")("iid",a);var g=0,h=T({},c,{id:a}),k=Z(),l=c&&c.capacity||Number.MAX_VALUE,m=Z(),r=null,s=null;return b[a]={put:function(a,b){if(!x(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in k||g++;k[a]=b;g>l&&this.remove(s.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b==r&&(r=b.p);b==s&&(s=b.n);f(b.n,b.p);delete m[a]}a in
k&&(delete k[a],g--)},removeAll:function(){k=Z();g=0;m=Z();r=s=null},destroy:function(){m=h=k=null;delete b[a]},info:function(){return T({},h,{size:g})}}}var b={};a.info=function(){var a={};n(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function Af(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Ec(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e={};n(a,function(a,f){var g=a.match(d);if(!g)throw ja("iscp",b,f,a,c?
"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f}});return e}function c(a){var b=a.charAt(0);if(!b||b!==G(b))throw ja("baddir",a);if(a!==a.trim())throw ja("baddir",a);}var e={},f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=be("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/;this.directive=function s(b,f){Ta(b,"directive");F(b)?(c(b),sb(f,"directiveFactory"),
e.hasOwnProperty(b)||(e[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var f=[];n(e[b],function(e,g){try{var h=a.invoke(e);D(h)?h={compile:ba(h)}:!h.compile&&h.link&&(h.compile=ba(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||b;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||"EA";var k=h,l=h,m=h.name,s={isolateScope:null,bindToController:null};E(l.scope)&&(!0===l.bindToController?(s.bindToController=d(l.scope,m,!0),s.isolateScope={}):s.isolateScope=
d(l.scope,m,!1));E(l.bindToController)&&(s.bindToController=d(l.bindToController,m,!0));if(E(s.bindToController)){var P=l.controller,S=l.controllerAs;if(!P)throw ja("noctrl",m);if(!Wc(P,S))throw ja("noident",m);}var ma=k.$$bindings=s;E(ma.isolateScope)&&(h.$$isolateBindings=ma.isolateScope);h.$$moduleName=e.$$moduleName;f.push(h)}catch(K){c(K)}});return f}])),e[b].push(f)):n(b,sc(s));return this};this.component=function(a,b){function c(a){function e(b){return D(b)||L(b)?function(c,d){return a.invoke(b,
this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"";return{controller:d,controllerAs:Wc(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require}}var d=b.controller||function(){};n(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a)});c.$inject=["$injector"];return this.directive(a,c)};this.aHrefSanitizationWhitelist=function(a){return y(a)?(b.aHrefSanitizationWhitelist(a),
this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return y(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var m=!0;this.debugInfoEnabled=function(a){return y(a)?(m=a,this):m};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,d,p,w,u,la,z,A){function Q(a,b,c){ba.innerHTML="<span "+b+">";b=ba.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);
d.value=c;a.attributes.setNamedItem(d)}function $(a,b){try{a.addClass(b)}catch(c){}}function M(a,b,c,d,e){a instanceof C||(a=C(a));for(var f=/\S+/,g=0,h=a.length;g<h;g++){var k=a[g];k.nodeType===Pa&&k.nodeValue.match(f)&&Oc(k,a[g]=W.createElement("span"))}var l=P(a,b,a,c,d,e);M.$$addScopeClass(a);var m=null;return function(b,c,d){sb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;d=d.futureParentElement;f&&f.$$boundTransclude&&
(f=f.$$boundTransclude);m||(m=(d=d&&d[0])?"foreignobject"!==ra(d)&&ga.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==m?C(U(m,C("<div>").append(a).html())):c?Ra.clone.call(a):a;if(g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);M.$$addScopeInfo(d,b);c&&c(d,b);l&&l(b,d,d,f);return d}}function P(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,p,s,u;if(A)for(u=Array(c.length),m=0;m<h.length;m+=3)f=h[m],u[f]=c[f];else u=c;m=0;for(p=h.length;m<p;)k=u[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=
a.$new(),M.$$addScopeInfo(C(k),l)):l=a,s=c.transcludeOnThisElement?S(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?S(a,b):null,c(f,l,k,d,s)):f&&f(a,k.childNodes,v,e)}for(var h=[],k,l,m,p,A,s=0;s<a.length;s++){k=new na;l=ma(a[s],[],k,0===s?d:v,e);(f=l.length?y(l,a[s],k,b,c,null,[],[],f):null)&&f.scope&&M.$$addScopeClass(k.$$element);k=f&&f.terminal||!(m=a[s].childNodes)||!m.length?null:P(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(s,f,k),p=!0,A=
A||f;f=null}return p?g:null}function S(a,b,c){var d=function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})},e=d.$$slots=Z(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?S(a,b.$$slots[f],c):null;return d}function ma(a,b,c,d,e){var h=c.$attr,k;switch(a.nodeType){case 1:H(b,va(ra(a)),"E",d,e);for(var l,m,p,s=a.attributes,A=0,u=s&&s.length;A<u;A++){var t=!1,w=!1;l=s[A];k=l.name;m=X(l.value);l=va(k);if(p=pa.test(l))k=
k.replace(Xc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});(l=l.match(ua))&&O(l[1])&&(t=k,w=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6));l=va(k.toLowerCase());h[l]=k;if(p||!c.hasOwnProperty(l))c[l]=m,Tc(a,l)&&(c[l]=!0);Y(a,b,m,l,p);H(b,l,"A",d,e,t,w)}a=a.className;E(a)&&(a=a.animVal);if(F(a)&&""!==a)for(;k=g.exec(a);)l=va(k[2]),H(b,l,"C",d,e)&&(c[l]=X(k[3])),a=a.substr(k.index+k[0].length);break;case Pa:if(11===xa)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===
Pa;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);N(b,a.nodeValue);break;case 8:try{if(k=f.exec(a.nodeValue))l=va(k[1]),H(b,l,"M",d,e)&&(c[l]=X(k[2]))}catch(M){}}b.sort(ya);return b}function q(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ja("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return C(d)}function Yc(a,b,c){return function(d,e,f,g,h){e=q(e[0],b,
c);return a(d,e,f,g,h)}}function ac(a,b,c,d,e,f){if(a)return M(b,c,d,e,f);var g;return function(){g||(g=M(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function y(a,b,d,e,f,g,h,l,m){function p(a,b,c,d){if(a){c&&(a=Yc(a,c,d));a.require=J.require;a.directiveName=H;if(P===J||J.$$isolateScope)a=ca(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=Yc(b,c,d));b.require=J.require;b.directiveName=H;if(P===J||J.$$isolateScope)b=ca(b,{isolateScope:!0});l.push(b)}}function s(a,b,c,d){var e;if(F(b)){var f=
b.match(k);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;if(!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw ja("ctreq",b,a);}else if(L(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=s(a,b[g],c,d);else E(b)&&(e={},n(b,function(b,f){e[f]=s(a,b,c,d)}));return e||null}function A(a,b,c,d,e,f){var g=Z(),h;for(h in d){var k=d[h],l={$scope:k===P||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},m=k.controller;"@"==m&&
(m=b[k.name]);l=w(m,l,!0,k.controllerAs);g[k.name]=l;B||a.data("$"+k.name+"Controller",l.instance)}return g}function u(a,c,e,f,g){function k(a,b,c,d){var e;bb(a)||(d=c,c=b,b=a,a=v);B&&(e=ma);c||(c=B?z.parent():z);if(d){var f=g.$$slots[d];if(f)return f(a,b,e,c,Eb);if(x(f))throw ja("noslot",d,ta(z));}else return g(a,b,e,c,Eb)}var m,p,t,w,ma,S,z,Ja;b===e?(f=d,z=d.$$element):(z=C(e),f=new na(z,d));t=c;P?w=c.$new(!0):Q&&(t=c.$parent);g&&(S=k,S.$$boundTransclude=g,S.isSlotFilled=function(a){return!!g.$$slots[a]});
I&&(ma=A(z,f,S,I,w,c));P&&(M.$$addScopeInfo(z,w,!0,!($&&($===P||$===P.$$originalDirective))),M.$$addScopeClass(z,!0),w.$$isolateBindings=P.$$isolateBindings,(Ja=ia(c,f,w,w.$$isolateBindings,P))&&w.$on("$destroy",Ja));for(p in ma){Ja=I[p];var K=ma[p],la=Ja.$$bindings.bindToController;K.identifier&&la&&(m=ia(t,f,K.instance,la,Ja));var q=K();q!==K.instance&&(K.instance=q,z.data("$"+Ja.name+"Controller",q),m&&m(),m=ia(t,f,K.instance,la,Ja))}n(I,function(a,b){var c=a.require;a.bindToController&&!L(c)&&
E(c)&&T(ma[b].instance,s(b,c,z,ma))});n(ma,function(a){D(a.instance.$onInit)&&a.instance.$onInit()});m=0;for(p=h.length;m<p;m++)t=h[m],ka(t,t.isolateScope?w:c,z,f,t.require&&s(t.directiveName,t.require,z,ma),S);var Eb=c;P&&(P.template||null===P.templateUrl)&&(Eb=w);a&&a(Eb,e.childNodes,v,g);for(m=l.length-1;0<=m;m--)t=l[m],ka(t,t.isolateScope?w:c,z,f,t.require&&s(t.directiveName,t.require,z,ma),S)}m=m||{};for(var t=-Number.MAX_VALUE,Q=m.newScopeDirective,I=m.controllerDirectives,P=m.newIsolateScopeDirective,
$=m.templateDirective,S=m.nonTlbTranscludeDirective,z=!1,la=!1,B=m.hasElementTranscludeDirective,ea=d.$$element=C(b),J,H,G,ya=e,O,N=!1,Fb=!1,fa,R=0,Va=a.length;R<Va;R++){J=a[R];var Y=J.$$start,ba=J.$$end;Y&&(ea=q(b,Y,ba));G=v;if(t>J.priority)break;if(fa=J.scope)J.templateUrl||(E(fa)?(Wa("new/isolated scope",P||Q,J,ea),P=J):Wa("new/isolated scope",P,J,ea)),Q=Q||J;H=J.name;if(!N&&(J.replace&&(J.templateUrl||J.template)||J.transclude&&!J.$$tlb)){for(fa=R+1;N=a[fa++];)if(N.transclude&&!N.$$tlb||N.replace&&
(N.templateUrl||N.template)){Fb=!0;break}N=!0}!J.templateUrl&&J.controller&&(fa=J.controller,I=I||Z(),Wa("'"+H+"' controller",I[H],J,ea),I[H]=J);if(fa=J.transclude)if(z=!0,J.$$tlb||(Wa("transclusion",S,J,ea),S=J),"element"==fa)B=!0,t=J.priority,G=ea,ea=d.$$element=C(W.createComment(" "+H+": "+d[H]+" ")),b=ea[0],aa(f,wa.call(G,0),b),ya=ac(Fb,G,e,t,g&&g.name,{nonTlbTranscludeDirective:S});else{var V=Z();G=C(Yb(b)).contents();if(E(fa)){G=[];var ha=Z(),da=Z();n(fa,function(a,b){var c="?"===a.charAt(0);
a=c?a.substring(1):a;ha[a]=b;V[b]=null;da[b]=c});n(ea.contents(),function(a){var b=ha[va(ra(a))];b?(da[b]=!0,V[b]=V[b]||[],V[b].push(a)):G.push(a)});n(da,function(a,b){if(!a)throw ja("reqslot",b);});for(var ga in V)V[ga]&&(V[ga]=ac(Fb,V[ga],e))}ea.empty();ya=ac(Fb,G,e,v,v,{needsNewScope:J.$$isolateScope||J.$$newScope});ya.$$slots=V}if(J.template)if(la=!0,Wa("template",$,J,ea),$=J,fa=D(J.template)?J.template(ea,d):J.template,fa=qa(fa),J.replace){g=J;G=Wb.test(fa)?Zc(U(J.templateNamespace,X(fa))):[];
b=G[0];if(1!=G.length||1!==b.nodeType)throw ja("tplrt",H,"");aa(f,ea,b);Va={$attr:{}};fa=ma(b,[],Va);var oa=a.splice(R+1,a.length-(R+1));(P||Q)&&$c(fa,P,Q);a=a.concat(fa).concat(oa);ad(d,Va);Va=a.length}else ea.html(fa);if(J.templateUrl)la=!0,Wa("template",$,J,ea),$=J,J.replace&&(g=J),u=$f(a.splice(R,a.length-R),ea,d,f,z&&ya,h,l,{controllerDirectives:I,newScopeDirective:Q!==J&&Q,newIsolateScopeDirective:P,templateDirective:$,nonTlbTranscludeDirective:S}),Va=a.length;else if(J.compile)try{O=J.compile(ea,
d,ya),D(O)?p(null,O,Y,ba):O&&p(O.pre,O.post,Y,ba)}catch(pa){c(pa,ta(ea))}J.terminal&&(u.terminal=!0,t=Math.max(t,J.priority))}u.scope=Q&&!0===Q.scope;u.transcludeOnThisElement=z;u.templateOnThisElement=la;u.transclude=ya;m.hasElementTranscludeDirective=B;return u}function $c(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Sb(a[d],{$$isolateScope:b,$$newScope:c})}function H(b,d,f,g,h,k,l){if(d===h)return null;h=null;if(e.hasOwnProperty(d)){var m;d=a.get(d+"Directive");for(var p=0,A=d.length;p<A;p++)try{m=
d[p],(x(g)||g>m.priority)&&-1!=m.restrict.indexOf(f)&&(k&&(m=Sb(m,{$$start:k,$$end:l})),b.push(m),h=m)}catch(t){c(t)}}return h}function O(b){if(e.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,f=c.length;d<f;d++)if(b=c[d],b.multiElement)return!0;return!1}function ad(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;n(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});n(b,function(b,f){"class"==f?($(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+
b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function $f(a,b,c,e,f,g,h,k){var l=[],m,p,s=b[0],A=a.shift(),u=Sb(A,{templateUrl:null,transclude:null,replace:null,$$originalDirective:A}),w=D(A.templateUrl)?A.templateUrl(b,c):A.templateUrl,Q=A.templateNamespace;b.empty();d(w).then(function(d){var t,I;d=qa(d);if(A.replace){d=Wb.test(d)?Zc(U(Q,X(d))):[];t=d[0];if(1!=d.length||1!==t.nodeType)throw ja("tplrt",
A.name,w);d={$attr:{}};aa(e,b,t);var M=ma(t,[],d);E(A.scope)&&$c(M,!0);a=M.concat(a);ad(c,d)}else t=s,b.html(d);a.unshift(u);m=y(a,t,c,f,b,A,g,h,k);n(e,function(a,c){a==t&&(e[c]=b[0])});for(p=P(b[0].childNodes,f);l.length;){d=l.shift();I=l.shift();var z=l.shift(),K=l.shift(),M=b[0];if(!d.$$destroyed){if(I!==s){var la=I.className;k.hasElementTranscludeDirective&&A.replace||(M=Yb(t));aa(z,C(I),M);$(C(M),la)}I=m.transcludeOnThisElement?S(d,m.transclude,K):K;m(p,d,M,e,I)}}l=null});return function(a,b,
c,d,e){a=e;b.$$destroyed||(l?l.push(b,c,d,a):(m.transcludeOnThisElement&&(a=S(b,m.transclude,e)),m(p,b,c,d,a)))}}function ya(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Wa(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ja("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ta(d));}function N(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&M.$$addBindingClass(a);
return function(a,c){var e=c.parent();b||M.$$addBindingClass(e);M.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function U(a,b){a=G(a||"html");switch(a){case "svg":case "math":var c=W.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function R(a,b){if("srcdoc"==b)return la.HTML;var c=ra(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return la.RESOURCE_URL}function Y(a,c,d,e,
f){var g=R(a,e);f=h[e]||f;var k=b(d,!0,g,f);if(k){if("multiple"===e&&"select"===ra(a))throw ja("selmulti",ta(a));c.push({priority:100,compile:function(){return{pre:function(a,c,h){c=h.$$observers||(h.$$observers=Z());if(l.test(e))throw ja("nodomevents");var m=h[e];m!==d&&(k=m&&b(m,!0,g,f),d=m);k&&(h[e]=k(a),(c[e]||(c[e]=[])).$$inter=!0,(h.$$observers&&h.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!=b?h.$updateClass(a,b):h.$set(e,a)}))}}}})}}function aa(a,b,c){var d=b[0],e=b.length,
f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=W.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);C.hasData(d)&&(C.data(c,C.data(d)),C(d).off("$destroy"));C.cleanData(a.querySelectorAll("*"));for(g=1;g<e;g++)delete b[g];b[0]=c;b.length=1}function ca(a,b){return T(function(){return a.apply(null,arguments)},a,b)}function ka(a,
b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ta(d))}}function ia(a,c,d,e,f){var g=[];n(e,function(e,h){var k=e.attrName,l=e.optional,m,A,s,t;switch(e.mode){case "@":l||sa.call(c,k)||(d[h]=c[k]=void 0);c.$observe(k,function(a){F(a)&&(d[h]=a)});c.$$observers[k].$$scope=a;m=c[k];F(m)?d[h]=b(m)(a):Na(m)&&(d[h]=m);break;case "=":if(!sa.call(c,k)){if(l)break;c[k]=void 0}if(l&&!c[k])break;A=p(c[k]);t=A.literal?oa:function(a,b){return a===b||a!==a&&b!==b};s=A.assign||function(){m=d[h]=A(a);throw ja("nonassign",
c[k],k,f.name);};m=d[h]=A(a);l=function(b){t(b,d[h])||(t(b,m)?s(a,b=d[h]):d[h]=b);return m=b};l.$stateful=!0;l=e.collection?a.$watchCollection(c[k],l):a.$watch(p(c[k],l),null,A.literal);g.push(l);break;case "<":if(!sa.call(c,k)){if(l)break;c[k]=void 0}if(l&&!c[k])break;A=p(c[k]);d[h]=A(a);l=a.$watch(A,function(a){d[h]=a},A.literal);g.push(l);break;case "&":A=c.hasOwnProperty(k)?p(c[k]):B;if(A===B&&l)break;d[h]=function(b){return A(a,b)}}});return g.length&&function(){for(var a=0,b=g.length;a<b;++a)g[a]()}}
var V=/^\w/,ba=W.createElement("div"),na=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};na.prototype={$normalize:va,$addClass:function(a){a&&0<a.length&&z.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&z.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=bd(a,b);c&&c.length&&z.addClass(this.$$element,c);(c=bd(b,a))&&c.length&&z.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=
Tc(this.$$element[0],a),g=cd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Bc(a,"-"));f=ra(this.$$element);if("a"===f&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=b=A(b,"src"===a);else if("img"===f&&"srcset"===a){for(var f="",g=X(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+A(X(g[m]),!0),f=f+(" "+X(g[m+1]));g=X(g[2*l]).split(/\s/);
f+=A(X(g[0]),!0);2===g.length&&(f+=" "+X(g[1]));this[a]=b=f}!1!==d&&(null===b||x(b)?this.$$element.removeAttr(e):V.test(e)?this.$$element.attr(e,b):Q(this.$$element[0],e,b));(a=this.$$observers)&&n(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=Z()),e=d[a]||(d[a]=[]);e.push(b);u.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||x(c[a])||b(c[a])});return function(){cb(e,b)}}};var ha=b.startSymbol(),da=b.endSymbol(),qa="{{"==ha&&"}}"==
da?ab:function(a){return a.replace(/\{\{/g,ha).replace(/}}/g,da)},pa=/^ngAttr[A-Z]/,ua=/^(.+)Start$/;M.$$addBindingInfo=m?function(a,b){var c=a.data("$binding")||[];L(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:B;M.$$addBindingClass=m?function(a){$(a,"ng-binding")}:B;M.$$addScopeInfo=m?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:B;M.$$addScopeClass=m?function(a,b){$(a,b?"ng-isolate-scope":"ng-scope")}:B;return M}]}function va(a){return gb(a.replace(Xc,
""))}function bd(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g==e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function Zc(a){a=C(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&ag.call(a,b,1);return a}function Wc(a,b){if(b&&F(b))return b;if(F(a)){var d=dd.exec(a);if(d)return d[3]}}function ff(){var a={},b=!1;this.register=function(b,c){Ta(b,"controller");E(b)?T(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=
["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!E(a.$scope))throw H("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,r;h=!0===h;k&&F(k)&&(r=k);if(F(f)){k=f.match(dd);if(!k)throw bg("ctrlfmt",f);m=k[1];r=r||k[3];f=a.hasOwnProperty(m)?a[m]:Dc(g.$scope,m,!0)||(b?Dc(c,m,!0):v);Sa(f,m,!0)}if(h)return h=(L(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),r&&e(g,r,l,m||f.name),T(function(){var a=d.invoke(f,l,g,m);a!==l&&(E(a)||D(a))&&(l=a,r&&e(g,r,l,m||f.name));
return l},{instance:l,identifier:r});l=d.instantiate(f,g,m);r&&e(g,r,l,m||f.name);return l}}]}function gf(){this.$get=["$window",function(a){return C(a.document)}]}function hf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function bc(a){return E(a)?V(a)?a.toISOString():eb(a):a}function nf(){this.$get=function(){return function(a){if(!a)return"";var b=[];rc(a,function(a,c){null===a||x(a)||(L(a)?n(a,function(a,d){b.push(ha(c)+"="+ha(bc(a)))}):b.push(ha(c)+"="+ha(bc(a))))});
return b.join("&")}}}function of(){this.$get=function(){return function(a){function b(a,e,f){null===a||x(a)||(L(a)?n(a,function(a,c){b(a,e+"["+(E(a)?c:"")+"]")}):E(a)&&!V(a)?rc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ha(e)+"="+ha(bc(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function cc(a,b){if(F(a)){var d=a.replace(cg,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(ed))||(c=(c=d.match(dg))&&eg[c[0]].test(d));c&&(a=wc(d))}}return a}function fd(a){var b=
Z(),d;F(a)?n(a.split("\n"),function(a){d=a.indexOf(":");var e=G(X(a.substr(0,d)));a=X(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):E(a)&&n(a,function(a,d){var f=G(d),g=X(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function gd(a){var b;return function(d){b||(b=fd(a));return d?(d=b[G(d)],void 0===d&&(d=null),d):b}}function hd(a,b,d,c){if(D(c))return c(a,b,d);n(c,function(c){a=c(a,b,d)});return a}function mf(){var a=this.defaults={transformResponse:[cc],transformRequest:[function(a){return E(a)&&"[object File]"!==
ga.call(a)&&"[object Blob]"!==ga.call(a)&&"[object FormData]"!==ga.call(a)?eb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:na(dc),put:na(dc),patch:na(dc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return y(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return y(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory",
"$rootScope","$q","$injector",function(e,f,g,h,k,l){function m(b){function c(a){var b=T({},a);b.data=hd(a.data,a.headers,a.status,f.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}function e(a,b){var c,d={};n(a,function(a,e){D(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}if(!E(b))throw H("$http")("badreq",b);if(!F(b.url))throw H("$http")("badreq",b.url);var f=T({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},
b);f.headers=function(b){var c=a.headers,d=T({},b.headers),f,g,h,c=T({},c.common,c[G(b.method)]);a:for(f in c){g=G(f);for(h in d)if(G(h)===g)continue a;d[f]=c[f]}return e(d,na(b))}(b);f.method=ub(f.method);f.paramSerializer=F(f.paramSerializer)?l.get(f.paramSerializer):f.paramSerializer;var g=[function(b){var d=b.headers,e=hd(b.data,gd(d),v,b.transformRequest);x(e)&&n(d,function(a,b){"content-type"===G(b)&&delete d[b]});x(b.withCredentials)&&!x(a.withCredentials)&&(b.withCredentials=a.withCredentials);
return r(b,e).then(c,c)},v],h=k.when(f);for(n(K,function(a){(a.request||a.requestError)&&g.unshift(a.request,a.requestError);(a.response||a.responseError)&&g.push(a.response,a.responseError)});g.length;){b=g.shift();var m=g.shift(),h=h.then(b,m)}d?(h.success=function(a){Sa(a,"fn");h.then(function(b){a(b.data,b.status,b.headers,f)});return h},h.error=function(a){Sa(a,"fn");h.then(null,function(b){a(b.data,b.status,b.headers,f)});return h}):(h.success=id("success"),h.error=id("error"));return h}function r(c,
d){function g(a,c,d,e){function f(){l(c,a,d,e)}K&&(200<=a&&300>a?K.put(S,[a,c,fd(d),e]):K.remove(S));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function l(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?A.resolve:A.reject)({data:a,status:b,headers:gd(d),config:c,statusText:e})}function r(a){l(a.data,a.status,na(a.headers()),a.statusText)}function z(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var A=k.defer(),Q=A.promise,K,M,P=c.headers,S=s(c.url,c.paramSerializer(c.params));
m.pendingRequests.push(c);Q.then(z,z);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(K=E(c.cache)?c.cache:E(a.cache)?a.cache:I);K&&(M=K.get(S),y(M)?M&&D(M.then)?M.then(r,r):L(M)?l(M[1],M[0],na(M[2]),M[3]):l(M,200,{},"OK"):K.put(S,Q));x(M)&&((M=jd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:v)&&(P[c.xsrfHeaderName||a.xsrfHeaderName]=M),e(c.method,S,d,g,P,c.timeout,c.withCredentials,c.responseType));return Q}function s(a,b){0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b);
return a}var I=g("$http");a.paramSerializer=F(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var K=[];n(c,function(a){K.unshift(F(a)?l.get(a):l.invoke(a))});m.pendingRequests=[];(function(a){n(arguments,function(a){m[a]=function(b,c){return m(T({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){n(arguments,function(a){m[a]=function(b,c,d){return m(T({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");m.defaults=a;return m}]}function qf(){this.$get=
function(){return function(){return new O.XMLHttpRequest}}}function pf(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,d,c){return fg(a,c,a.defer,b.angular.callbacks,d[0])}]}function fg(a,b,d,c,e){function f(a,b,d){var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m,!1);f.removeEventListener("error",m,!1);e.body.removeChild(f);f=null;var g=-1,I="unknown";a&&("load"!==a.type||c[b].called||(a={type:"error"}),
I=a.type,g="error"===a.type?404:200);d&&d(g,I)};f.addEventListener("load",m,!1);f.addEventListener("error",m,!1);e.body.appendChild(f);return m}return function(e,h,k,l,m,r,s,I){function K(){w&&w();u&&u.abort()}function t(b,c,e,f,g){y(z)&&d.cancel(z);w=u=null;b(c,e,f,g);a.$$completeOutstandingRequest(B)}a.$$incOutstandingRequestCount();h=h||a.url();if("jsonp"==G(e)){var p="_"+(c.counter++).toString(36);c[p]=function(a){c[p].data=a;c[p].called=!0};var w=f(h.replace("JSON_CALLBACK","angular.callbacks."+
p),p,function(a,b){t(l,a,c[p].data,"",b);c[p]=B})}else{var u=b(e,h);u.open(e,h,!0);n(m,function(a,b){y(a)&&u.setRequestHeader(b,a)});u.onload=function(){var a=u.statusText||"",b="response"in u?u.response:u.responseText,c=1223===u.status?204:u.status;0===c&&(c=b?200:"file"==za(h).protocol?404:0);t(l,c,b,u.getAllResponseHeaders(),a)};e=function(){t(l,-1,null,null,"")};u.onerror=e;u.onabort=e;s&&(u.withCredentials=!0);if(I)try{u.responseType=I}catch(la){if("json"!==I)throw la;}u.send(x(k)?null:k)}if(0<
r)var z=d(K,r);else r&&D(r.then)&&r.then(K)}}function kf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(r,a).replace(s,b)}function h(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function k(f,k,r,p){function s(a){try{var b=a;a=r?e.getTrusted(r,b):e.valueOf(b);var d;if(p&&!y(a))d=
a;else if(null==a)d="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=eb(a)}d=a}return d}catch(g){c(Ka.interr(f,g))}}if(!f.length||-1===f.indexOf(a)){var u;k||(k=g(f),u=ba(k),u.exp=f,u.expressions=[],u.$$watchDelegate=h);return u}p=!!p;var n,z,A=0,Q=[],$=[];u=f.length;for(var M=[],P=[];A<u;)if(-1!=(n=f.indexOf(a,A))&&-1!=(z=f.indexOf(b,n+l)))A!==n&&M.push(g(f.substring(A,n))),A=f.substring(n+l,z),Q.push(A),$.push(d(A,s)),A=z+m,P.push(M.length),M.push("");else{A!==u&&
M.push(g(f.substring(A)));break}r&&1<M.length&&Ka.throwNoconcat(f);if(!k||Q.length){var S=function(a){for(var b=0,c=Q.length;b<c;b++){if(p&&x(a[b]))return;M[P[b]]=a[b]}return M.join("")};return T(function(a){var b=0,d=Q.length,e=Array(d);try{for(;b<d;b++)e[b]=$[b](a);return S(e)}catch(g){c(Ka.interr(f,g))}},{exp:f,expressions:Q,$$watchDelegate:function(a,b){var c;return a.$watchGroup($,function(d,e){var f=S(d);D(b)&&b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,r=new RegExp(a.replace(/./g,
f),"g"),s=new RegExp(b.replace(/./g,f),"g");k.startSymbol=function(){return a};k.endSymbol=function(){return b};return k}]}function lf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,m){function r(){s?f.apply(null,I):f(p)}var s=4<arguments.length,I=s?wa.call(arguments,4):[],K=b.setInterval,t=b.clearInterval,p=0,w=y(m)&&!m,u=(w?c:d).defer(),n=u.promise;l=y(l)?l:0;n.$$intervalId=K(function(){w?e.defer(r):a.$evalAsync(r);u.notify(p++);0<l&&p>=l&&(u.resolve(p),
t(n.$$intervalId),delete g[n.$$intervalId]);w||a.$apply()},k);g[n.$$intervalId]=u;return n}var g={};f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1};return f}]}function ec(a){a=a.split("/");for(var b=a.length;b--;)a[b]=qb(a[b]);return a.join("/")}function kd(a,b){var d=za(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=ca(d.port)||gg[d.protocol]||null}function ld(a,b){var d="/"!==a.charAt(0);
d&&(a="/"+a);var c=za(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname);b.$$search=zc(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function pa(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function Ia(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function kb(a){return a.replace(/(#.+)|#$/,"$1")}function fc(a,b,d){this.$$html5=!0;d=d||"";kd(a,this);this.$$parse=function(a){var d=pa(b,
a);if(!F(d))throw Gb("ipthprfx",a,b);ld(d,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Ub(this.$$search),d=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=ec(this.$$path)+(a?"?"+a:"")+d;this.$$absUrl=b+this.$$url.substr(1)};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;y(f=pa(a,c))?(g=f,g=y(f=pa(d,f))?b+(pa("/",f)||f):a+g):y(f=pa(b,c))?g=b+f:b==c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function gc(a,b,d){kd(a,this);
this.$$parse=function(c){var e=pa(a,c)||pa(b,c),f;x(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",x(e)&&(a=c,this.replace())):(f=pa(d,e),x(f)&&(f=e));ld(f,this);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=Ub(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=ec(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"")};this.$$parseLinkUrl=
function(b,d){return Ia(a)==Ia(b)?(this.$$parse(b),!0):!1}}function md(a,b,d){this.$$html5=!0;gc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a==Ia(c)?f=c:(g=pa(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=Ub(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=ec(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+d+this.$$url}}function Hb(a){return function(){return this[a]}}function nd(a,
b){return function(d){if(x(d))return this[a];this[a]=b(d);this.$$compose();return this}}function rf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return y(b)?(a=b,this):a};this.html5Mode=function(a){return Na(a)?(b.enabled=a,this):E(a)?(Na(a.enabled)&&(b.enabled=a.enabled),Na(a.requireBase)&&(b.requireBase=a.requireBase),Na(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,
c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g;}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var r=c.url(),s;if(b.enabled){if(!m&&b.requireBase)throw Gb("nobase");s=r.substring(0,r.indexOf("/",r.indexOf("//")+2))+(m||"/");m=e.history?fc:md}else s=Ia(r),m=gc;var I=s.substr(0,Ia(s).lastIndexOf("/")+1);l=new m(s,I,"#"+a);l.$$parseLinkUrl(r,r);l.$$state=c.state();
var n=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=C(a.target);"a"!==ra(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");E(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=za(h.animVal).href);n.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),l.absUrl()!=c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=
!0))}});kb(l.absUrl())!=kb(r)&&c.url(l.absUrl(),!0);var t=!0;c.onUrlChange(function(a,b){x(pa(I,a))?g.location.href=a:(d.$evalAsync(function(){var c=l.absUrl(),e=l.$$state,f;a=kb(a);l.$$parse(a);l.$$state=b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(t=!1,k(c,e)))}),d.$$phase||d.$digest())});d.$watch(function(){var a=kb(c.url()),b=kb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;if(t||
m)t=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))});l.$$replace=!1});return l}]}function sf(){var a=!0,b=this;this.debugEnabled=function(b){return y(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&
(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||B;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];n(arguments,function(b){a.push(c(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Xa(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===
a||"__proto__"===a)throw ka("isecfld",b);return a}function hg(a){return a+""}function Aa(a,b){if(a){if(a.constructor===a)throw ka("isecfn",b);if(a.window===a)throw ka("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ka("isecdom",b);if(a===Object)throw ka("isecobj",b);}return a}function od(a,b){if(a){if(a.constructor===a)throw ka("isecfn",b);if(a===ig||a===jg||a===kg)throw ka("isecff",b);}}function Ib(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||
a==={}.constructor||a===[].constructor||a===Function.constructor))throw ka("isecaf",b);}function lg(a,b){return"undefined"!==typeof a?a:b}function pd(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function R(a,b){var d,c;switch(a.type){case q.Program:d=!0;n(a.body,function(a){R(a.expression,b);d=d&&a.expression.constant});a.constant=d;break;case q.Literal:a.constant=!0;a.toWatch=[];break;case q.UnaryExpression:R(a.argument,b);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;
break;case q.BinaryExpression:R(a.left,b);R(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case q.LogicalExpression:R(a.left,b);R(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case q.ConditionalExpression:R(a.test,b);R(a.alternate,b);R(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case q.Identifier:a.constant=!1;a.toWatch=
[a];break;case q.MemberExpression:R(a.object,b);a.computed&&R(a.property,b);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=[a];break;case q.CallExpression:d=a.filter?!b(a.callee.name).$stateful:!1;c=[];n(a.arguments,function(a){R(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=a.filter&&!b(a.callee.name).$stateful?c:[a];break;case q.AssignmentExpression:R(a.left,b);R(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];
break;case q.ArrayExpression:d=!0;c=[];n(a.elements,function(a){R(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=c;break;case q.ObjectExpression:d=!0;c=[];n(a.properties,function(a){R(a.value,b);d=d&&a.value.constant;a.value.constant||c.push.apply(c,a.value.toWatch)});a.constant=d;a.toWatch=c;break;case q.ThisExpression:a.constant=!1;a.toWatch=[];break;case q.LocalsExpression:a.constant=!1,a.toWatch=[]}}function qd(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;
return 1!==b.length?b:b[0]!==a?b:v}}function rd(a){return a.type===q.Identifier||a.type===q.MemberExpression}function sd(a){if(1===a.body.length&&rd(a.body[0].expression))return{type:q.AssignmentExpression,left:a.body[0].expression,right:{type:q.NGValueParameter},operator:"="}}function td(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===q.Literal||a.body[0].expression.type===q.ArrayExpression||a.body[0].expression.type===q.ObjectExpression)}function ud(a,b){this.astBuilder=
a;this.$filter=b}function vd(a,b){this.astBuilder=a;this.$filter=b}function Jb(a){return"constructor"==a}function hc(a){return D(a.valueOf)?a.valueOf():mg.call(a)}function tf(){var a=Z(),b=Z();this.$get=["$filter",function(d){function c(c,f,r){var u,n,z;r=r||K;switch(typeof c){case "string":z=c=c.trim();var A=r?b:a;u=A[z];if(!u){":"===c.charAt(0)&&":"===c.charAt(1)&&(n=!0,c=c.substring(2));u=r?I:s;var Q=new ic(u);u=(new jc(Q,d,u)).parse(c);u.constant?u.$$watchDelegate=l:n?u.$$watchDelegate=u.literal?
k:h:u.inputs&&(u.$$watchDelegate=g);r&&(u=e(u));A[z]=u}return m(u,f);case "function":return m(c,f);default:return m(B,f)}}function e(a){function b(c,d,e,f){var g=K;K=!0;try{return a(c,d,e,f)}finally{K=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate;b.assign=e(a.assign);b.constant=a.constant;b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=e(a.inputs[c]);b.inputs=a.inputs;return b}function f(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=hc(a),"object"===
typeof a)?!1:a===b||a!==a&&b!==b}function g(a,b,c,d,e){var g=d.inputs,h;if(1===g.length){var k=f,g=g[0];return a.$watch(function(a){var b=g(a);f(b,k)||(h=d(a,v,v,[b]),k=b&&hc(b));return h},b,c,e)}for(var l=[],m=[],r=0,s=g.length;r<s;r++)l[r]=f,m[r]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var k=g[c](a);if(b||(b=!f(k,l[c])))m[c]=k,l[c]=k&&hc(k)}b&&(h=d(a,v,v,m));return h},b,c,e)}function h(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;
D(b)&&b.apply(this,arguments);y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;n(a,function(a){y(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;D(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function m(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==k&&c!==h?function(c,e,f,g){f=d&&g?g[0]:a(c,e,f,g);return b(f,
c,e)}:function(c,d,e,f){e=a(c,d,e,f);c=b(e,c,d);return y(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==g?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=g,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]);return c}var r=Ea().noUnsafeEval,s={csp:r,expensiveChecks:!1},I={csp:r,expensiveChecks:!0},K=!1;c.$$runningExpensiveChecks=function(){return K};return c}]}function vf(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return wd(function(b){a.$evalAsync(b)},b)}]}function wf(){this.$get=
["$browser","$exceptionHandler",function(a,b){return wd(function(b){a.defer(b)},b)}]}function wd(a,b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending;c.processScheduled=!1;c.pending=v;for(var f=0,g=e.length;f<g;++f){d=e[f][0];a=e[f][c.status];try{D(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=
new d}var g=H("$q",TypeError);T(d.prototype,{then:function(a,b,c){if(x(a)&&x(b)&&x(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&e(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}});T(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g("qcycle",
a)):this.$$resolve(a))},$$resolve:function(a){function d(a){k||(k=!0,h.$$resolve(a))}function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{if(E(a)||D(a))g=a&&a.then;D(g)?(this.promise.$$state.status=-1,g.call(a,d,f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,e(this.promise.$$state))}catch(l){f(l),b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;e(this.promise.$$state)},
notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0];a=d[f][3];try{e.notify(D(a)?a(c):c)}catch(h){b(h)}}})}});var h=function(a,b){var c=new f;b?c.resolve(a):c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{D(c)&&(d=c())}catch(e){return h(e,!1)}return d&&D(d.then)?d.then(function(){return h(a,b)},function(a){return h(a,!1)}):h(a,b)},l=function(a,b,c,d){var e=new f;e.resolve(a);return e.promise.then(b,
c,d)},m=function(a){if(!D(a))throw g("norslvr",a);var b=new f;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};m.prototype=d.prototype;m.defer=function(){var a=new f;a.resolve=c(a,a.resolve);a.reject=c(a,a.reject);a.notify=c(a,a.notify);return a};m.reject=function(a){var b=new f;b.reject(a);return b.promise};m.when=l;m.resolve=l;m.all=function(a){var b=new f,c=0,d=L(a)?[]:{};n(a,function(a,e){c++;l(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||
b.reject(a)})});0===c&&b.resolve(d);return b.promise};return m}function Ff(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function uf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=
this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++pb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=H("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===xa&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=
a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++pb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function r(a){if(w.$$phase)throw d("inprog",w.$$phase);w.$$phase=a}function s(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function I(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&
delete a.$$listenerCount[c];while(a=a.$parent)}function q(){}function t(){for(;z.length;)try{z.shift()()}catch(a){f(a)}e=null}function p(){null===e&&(e=h.defer(function(){w.$apply(t)}))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!=this)&&d.$on("$destroy",
k);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:q,get:f,exp:e||a,eq:!!d};c=null;D(b)||(l.fn=B);k||(k=h.$$watchers=[]);k.unshift(l);s(this,1);return function(){0<=cb(k,l)&&s(h,-1);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=
!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});n(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!x(e)){if(E(e))if(Ca(e))for(f!==r&&(f=r,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==s&&(f=s={},u=0,l++);a=0;for(b in e)sa.call(e,
b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)sa.call(e,b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,m=g(a,c),r=[],s={},p=!0,u=0;return this.$watch(m,function(){p?(p=!1,b(e,e,d)):b(e,h,d);if(k)if(E(e))if(Ca(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)sa.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,s,p,n,I=b,z,y=[],x,C;
r("$digest");h.$$checkUrlChange();this===w&&null!==e&&(h.defer.cancel(e),t());c=null;do{n=!1;for(z=this;u.length;){try{C=u.shift(),C.scope.$eval(C.expression,C.locals)}catch(B){f(B)}c=null}a:do{if(s=z.$$watchers)for(p=s.length;p--;)try{if(a=s[p])if(m=a.get,(g=m(z))!==(k=a.last)&&!(a.eq?oa(g,k):"number"===typeof g&&"number"===typeof k&&isNaN(g)&&isNaN(k)))n=!0,c=a,a.last=a.eq?Oa(g,null):g,l=a.fn,l(g,k===q?g:k,z),5>I&&(x=4-I,y[x]||(y[x]=[]),y[x].push({msg:D(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):
a.exp,newVal:g,oldVal:k}));else if(a===c){n=!1;break a}}catch(E){f(E)}if(!(s=z.$$watchersCount&&z.$$childHead||z!==this&&z.$$nextSibling))for(;z!==this&&!(s=z.$$nextSibling);)z=z.$parent}while(z=s);if((n||u.length)&&!I--)throw w.$$phase=null,d("infdig",b,y);}while(n||u.length);for(w.$$phase=null;v.length;)try{v.shift()()}catch(H){f(H)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===w&&h.$$applicationDestroyed();s(this,-this.$$watchersCount);
for(var b in this.$$listenerCount)I(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=B;this.$on=this.$watch=this.$watchGroup=function(){return B};this.$$listeners={};this.$$nextSibling=
null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){w.$$phase||u.length||h.defer(function(){u.length&&w.$digest()});u.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){v.push(a)},$apply:function(a){try{r("$apply");try{return this.$eval(a)}finally{w.$$phase=null}}catch(b){f(b)}finally{try{w.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&z.push(b);a=g(a);p()},$on:function(a,b){var c=this.$$listeners[a];
c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,I(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=db([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,
k)}catch(r){f(r)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=db([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&
c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var w=new m,u=w.$$asyncQueue=[],v=w.$$postDigestQueue=[],z=w.$$applyAsyncQueue=[];return w}]}function ne(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return y(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return y(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=
c?b:a,f;f=za(d).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function ng(a){if("self"===a)return a;if(F(a)){if(-1<a.indexOf("***"))throw Ba("iwcard",a);a=xd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+a+"$")}if($a(a))return new RegExp("^"+a.source+"$");throw Ba("imatcher");}function yd(a){var b=[];y(a)&&n(a,function(a){b.push(ng(a))});return b}function yf(){this.SCE_CONTEXTS=qa;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=yd(b));return a};
this.resourceUrlBlacklist=function(a){arguments.length&&(b=yd(a));return b};this.$get=["$injector",function(d){function c(a,b){return"self"===a?jd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Ba("unsafe");};d.has("$sanitize")&&(f=d.get("$sanitize"));
var g=e(),h={};h[qa.HTML]=e(g);h[qa.CSS]=e(g);h[qa.URL]=e(g);h[qa.JS]=e(g);h[qa.RESOURCE_URL]=e(h[qa.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ba("icontext",a,b);if(null===b||x(b)||""===b)return b;if("string"!==typeof b)throw Ba("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||x(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===qa.RESOURCE_URL){var g=za(e.toString()),r,s,n=!1;
r=0;for(s=a.length;r<s;r++)if(c(a[r],g)){n=!0;break}if(n)for(r=0,s=b.length;r<s;r++)if(c(b[r],g)){n=!1;break}if(n)return e;throw Ba("insecurl",e.toString());}if(d===qa.HTML)return f(e);throw Ba("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function xf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>xa)throw Ba("iequirks");var c=na(qa);c.isEnabled=function(){return a};c.trustAs=d.trustAs;
c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=ab);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;n(qa,function(a,b){var d=G(b);c[gb("parse_as_"+d)]=function(b){return e(a,b)};c[gb("get_trusted_"+d)]=function(b){return f(a,b)};c[gb("trust_as_"+d)]=function(b){return g(a,b)}});return c}]}function zf(){this.$get=["$window","$document",
function(a,b){var d={},c=ca((/android (\d+)/.exec(G((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),f=b[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,k=f.body&&f.body.style,l=!1,m=!1;if(k){for(var r in k)if(l=h.exec(r)){g=l[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in k&&"webkit");l=!!("transition"in k||g+"Transition"in k);m=!!("animation"in k||g+"Animation"in k);!c||l&&m||(l=F(k.webkitTransition),m=F(k.webkitAnimation))}return{history:!(!a.history||
!a.history.pushState||4>c||e),hasEvent:function(a){if("input"===a&&11>=xa)return!1;if(x(d[a])){var b=f.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ea(),vendorPrefix:g,transitions:l,animations:m,android:c}}]}function Bf(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$templateCache","$http","$q","$sce",function(b,d,c,e){function f(g,h){f.totalPendingRequests++;F(g)&&b.get(g)||(g=e.getTrustedResourceUrl(g));var k=d.defaults&&d.defaults.transformResponse;L(k)?k=k.filter(function(a){return a!==
cc}):k===cc&&(k=null);return d.get(g,T({cache:b,transformResponse:k},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){b.put(g,a.data);return a.data},function(a){if(!h)throw ja("tpload",g,a.status,a.statusText);return c.reject(a)})}f.totalPendingRequests=0;return f}]}function Cf(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];n(a,function(a){var c=ia.element(a).data("$binding");
c&&n(c,function(c){d?(new RegExp("(^|\\s)"+xd(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!=c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Df(){this.$get=["$rootScope",
"$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){D(f)||(l=k,k=f,f=B);var m=wa.call(arguments,3),r=y(l)&&!l,s=(r?c:d).defer(),n=s.promise,q;q=b.defer(function(){try{s.resolve(f.apply(null,m))}catch(b){s.reject(b),e(b)}finally{delete g[n.$$timeoutId]}r||a.$apply()},k);n.$$timeoutId=q;g[q]=s;return n}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}function za(a){xa&&
(Y.setAttribute("href",a),a=Y.href);Y.setAttribute("href",a);return{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,""):"",host:Y.host,search:Y.search?Y.search.replace(/^\?/,""):"",hash:Y.hash?Y.hash.replace(/^#/,""):"",hostname:Y.hostname,port:Y.port,pathname:"/"===Y.pathname.charAt(0)?Y.pathname:"/"+Y.pathname}}function jd(a){a=F(a)?za(a):a;return a.protocol===zd.protocol&&a.host===zd.host}function Ef(){this.$get=ba(O)}function Ad(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}
var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;a=d.cookie||"";if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(l=b(g.substring(0,k)),x(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function If(){this.$get=Ad}function Lc(a){function b(d,c){if(E(d)){var e={};n(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",Bd);b("date",Cd);
b("filter",og);b("json",pg);b("limitTo",qg);b("lowercase",rg);b("number",Dd);b("orderBy",Ed);b("uppercase",sg)}function og(){return function(a,b,d){if(!Ca(a)){if(null==a)return a;throw H("filter")("notarray",a);}var c;switch(kc(b)){case "function":break;case "boolean":case "null":case "number":case "string":c=!0;case "object":b=tg(b,d,c);break;default:return a}return Array.prototype.filter.call(a,b)}}function tg(a,b,d){var c=E(a)&&"$"in a;!0===b?b=oa:D(b)||(b=function(a,b){if(x(a))return!1;if(null===
a||null===b)return a===b;if(E(b)||E(a)&&!tc(a))return!1;a=G(""+a);b=G(""+b);return-1!==a.indexOf(b)});return function(e){return c&&!E(e)?La(e,a.$,b,!1):La(e,a,b,d)}}function La(a,b,d,c,e){var f=kc(a),g=kc(b);if("string"===g&&"!"===b.charAt(0))return!La(a,b.substring(1),d,c);if(L(a))return a.some(function(a){return La(a,b,d,c)});switch(f){case "object":var h;if(c){for(h in a)if("$"!==h.charAt(0)&&La(a[h],b,d,!0))return!0;return e?!1:La(a,b,d,!1)}if("object"===g){for(h in b)if(e=b[h],!D(e)&&!x(e)&&
(f="$"===h,!La(f?a:a[h],e,d,f,f)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function kc(a){return null===a?"null":typeof a}function Bd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){x(c)&&(c=b.CURRENCY_SYM);x(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Fd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Dd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Fd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function ug(a){var b=
0,d,c,e,f,g;-1<(c=a.indexOf(Gd))&&(a=a.replace(Gd,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)==lc;e++);if(e==(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)==lc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Hd&&(d=d.splice(0,Hd-1),b=c-1,c=1);return{d:d,e:b,i:c}}function vg(a,b,d,c){var e=a.d,f=e.length-a.i;b=x(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d)e.splice(d);else{a.i=1;e.length=d=b+1;for(var g=0;g<d;g++)e[g]=
0}for(5<=c&&e[d-1]++;f<b;f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Fd(a,b,d,c,e){if(!F(a)&&!N(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="\u221e";else{g=ug(h);vg(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h):(f=k,k=[0]);h=[];for(k.length>b.lgSize&&h.unshift(k.splice(-b.lgSize).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize).join(""));
k.length&&h.unshift(k.join(""));k=h.join(d);f.length&&(k+=c+f.join(""));e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Kb(a,b,d){var c="";0>a&&(c="-",a=-a);for(a=""+a;a.length<b;)a=lc+a;d&&(a=a.substr(a.length-b));return c+a}function aa(a,b,d,c){d=d||0;return function(e){e=e["get"+a]();if(0<d||e>-d)e+=d;0===e&&-12==d&&(e=12);return Kb(e,b,c)}}function Lb(a,b){return function(d,c){var e=d["get"+a](),f=ub(b?"SHORT"+a:a);return c[f][e]}}function Id(a){var b=(new Date(a,
0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Jd(a){return function(b){var d=Id(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Kb(b,a)}}function mc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Cd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=ca(b[9]+b[10]),g=ca(b[9]+b[11]));h.call(a,ca(b[1]),ca(b[2])-
1,ca(b[3]));f=ca(b[4]||0)-f;g=ca(b[5]||0)-g;h=ca(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",h=[],k,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;F(c)&&(c=wg.test(c)?ca(c):b(c));N(c)&&(c=new Date(c));if(!V(c)||!isFinite(c.getTime()))return c;for(;d;)(l=xg.exec(d))?(h=db(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();
f&&(m=xc(f,m),c=Tb(c,f,!0));n(h,function(b){k=yg[b];g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function pg(){return function(a,b){x(b)&&(b=2);return eb(a,b)}}function qg(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):ca(b);if(isNaN(b))return a;N(a)&&(a=a.toString());if(!L(a)&&!F(a))return a;d=!d||isNaN(d)?0:ca(d);d=0>d?Math.max(0,a.length+d):d;return 0<=b?a.slice(d,d+b):0===d?a.slice(b,a.length):a.slice(Math.max(0,d+b),
d)}}function Ed(a){function b(b,d){d=d?-1:1;return b.map(function(b){var c=1,h=ab;if(D(b))h=b;else if(F(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(h=a(b),h.constant))var k=h(),h=function(a){return a[k]}}return{get:h,descending:c*d}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}return function(a,e,f){if(null==a)return a;if(!Ca(a))throw H("orderBy")("notarray",a);L(e)||(e=[e]);0===e.length&&
(e=["+"]);var g=b(e,f);g.push({get:function(){return{}},descending:f?-1:1});a=Array.prototype.map.call(a,function(a,b){return{value:a,predicateValues:g.map(function(c){var e=c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("string"===c)e=e.toLowerCase();else if("object"===c)a:{if("function"===typeof e.valueOf&&(e=e.valueOf(),d(e)))break a;if(tc(e)&&(e=e.toString(),d(e)))break a;e=b}return{value:e,type:c}})}});a.sort(function(a,b){for(var c=0,d=0,e=g.length;d<e;++d){var c=a.predicateValues[d],
f=b.predicateValues[d],n=0;c.type===f.type?c.value!==f.value&&(n=c.value<f.value?-1:1):n=c.type<f.type?-1:1;if(c=n*g[d].descending)break}return c});return a=a.map(function(a){return a.value})}}function Ma(a){D(a)&&(a={link:a});a.restrict=a.restrict||"AC";return ba(a)}function Kd(a,b,d,c,e){var f=this,g=[];f.$error={};f.$$success={};f.$pending=v;f.$name=e(b.name||b.ngForm||"")(d);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;f.$$parentForm=Mb;f.$rollbackViewValue=function(){n(g,
function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){n(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){Ta(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a);a.$$parentForm=f};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];n(f.$pending,function(b,c){f.$setValidity(c,null,a)});n(f.$error,function(b,c){f.$setValidity(c,null,a)});n(f.$$success,function(b,c){f.$setValidity(c,
null,a)});cb(g,a);a.$$parentForm=Mb};Ld({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(cb(d,c),0===d.length&&delete a[b])},$animate:c});f.$setDirty=function(){c.removeClass(a,Ya);c.addClass(a,Nb);f.$dirty=!0;f.$pristine=!1;f.$$parentForm.$setDirty()};f.$setPristine=function(){c.setClass(a,Ya,Nb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;n(g,function(a){a.$setPristine()})};f.$setUntouched=function(){n(g,
function(a){a.$setUntouched()})};f.$setSubmitted=function(){c.addClass(a,"ng-submitted");f.$submitted=!0;f.$$parentForm.$setSubmitted()}}function nc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function lb(a,b,d,c,e,f){var g=G(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0});b.on("compositionend",function(){h=!1;k()})}var k=function(a){l&&(f.defer.cancel(l),l=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||
(e=X(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",k);else{var l,m=function(a,b,c){l||(l=f.defer(function(){l=null;b&&b.value===c||k(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",m)}b.on("change",k);c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Ob(a,b){return function(d,c){var e,
f;if(V(d))return d;if(F(d)){'"'==d.charAt(0)&&'"'==d.charAt(d.length-1)&&(d=d.substring(1,d.length-1));if(zg.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},n(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function mb(a,b,d,c){return function(e,
f,g,h,k,l,m){function r(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function s(a){return y(a)&&!V(a)?d(a)||v:a}Md(e,f,g,h);lb(e,f,g,h,k,l);var n=h&&h.$options&&h.$options.timezone,q;h.$$parserName=a;h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?(a=d(a,q),n&&(a=Tb(a,n)),a):v});h.$formatters.push(function(a){if(a&&!V(a))throw nb("datefmt",a);if(r(a))return(q=a)&&n&&(q=Tb(q,n,!0)),m("date")(a,c,n);q=null;return""});if(y(g.min)||g.ngMin){var t;h.$validators.min=function(a){return!r(a)||
x(t)||d(a)>=t};g.$observe("min",function(a){t=s(a);h.$validate()})}if(y(g.max)||g.ngMax){var p;h.$validators.max=function(a){return!r(a)||x(p)||d(a)<=p};g.$observe("max",function(a){p=s(a);h.$validate()})}}}function Md(a,b,d,c){(c.$$hasNativeValidators=E(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?v:a})}function Nd(a,b,d,c,e){if(y(c)){a=a(c);if(!a.constant)throw nb("constexpr",d,c);return a(b)}return e}function oc(a,b){a="ngClass"+a;
return["$animate",function(d){function c(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){var b=[];return L(a)?(n(a,function(a){b=b.concat(e(a))}),b):F(a)?a.split(" "):E(a)?(n(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a,b){var c=g.data("$classCounts")||Z(),d=[];n(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",
c);return d.join(" ")}function l(a){if(!0===b||f.$index%2===b){var l=e(a||[]);if(!m){var n=k(l,1);h.$addClass(n)}else if(!oa(a,m)){var q=e(m),n=c(l,q),l=c(q,l),n=k(n,1),l=k(l,-1);n&&n.length&&d.addClass(g,n);l&&l.length&&d.removeClass(g,l)}}m=na(a)}var m;f.$watch(h[a],l,!0);h.$observe("class",function(b){l(f.$eval(h[a]))});"ngClass"!==a&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var l=e(f.$eval(h[a]));g===b?(g=k(l,1),h.$addClass(g)):(g=k(l,-1),h.$removeClass(g))}})}}}]}function Ld(a){function b(a,
b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+Bc(a,"-"):"";b(ob+a,!0===c);b(Od+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[Od]=!(f[ob]=e.hasClass(ob));c.$setValidity=function(a,e,f){x(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),Pd(c.$pending)&&(c.$pending=v));Na(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,a,f));
c.$pending?(b(Qd,!0),c.$valid=c.$invalid=v,d("",null)):(b(Qd,!1),c.$valid=Pd(c.$error),c.$invalid=!c.$valid,d("",c.$valid));e=c.$pending&&c.$pending[a]?v:c.$error[a]?!1:c.$$success[a]?!0:null;d(a,e);c.$$parentForm.$setValidity(a,e,c)}}function Pd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Ag=/^\/(.+)\/([a-z]*)$/,sa=Object.prototype.hasOwnProperty,G=function(a){return F(a)?a.toLowerCase():a},ub=function(a){return F(a)?a.toUpperCase():a},xa,C,ua,wa=[].slice,ag=[].splice,Bg=
[].push,ga=Object.prototype.toString,uc=Object.getPrototypeOf,Da=H("ng"),ia=O.angular||(O.angular={}),Vb,pb=0;xa=W.documentMode;B.$inject=[];ab.$inject=[];var L=Array.isArray,ae=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,X=function(a){return F(a)?a.trim():a},xd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ea=function(){if(!y(Ea.rules)){var a=W.querySelector("[ng-csp]")||W.querySelector("[data-ng-csp]");
if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ea.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ea;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ea.rules},rb=function(){if(y(rb.name_))return rb.name_;var a,b,d=Qa.length,c,e;for(b=0;b<d;++b)if(c=Qa[b],a=W.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return rb.name_=e},de=/:/g,Qa=["ng-",
"data-ng-","ng:","x-ng-"],ie=/[A-Z]/g,Cc=!1,Pa=3,me={full:"1.5.0",major:1,minor:5,dot:0,codeName:"ennoblement-facilitation"};U.expando="ng339";var ib=U.cache={},Of=1;U._data=function(a){return this.cache[a[this.expando]]||{}};var Jf=/([\:\-\_]+(.))/g,Kf=/^moz([A-Z])/,yb={mouseleave:"mouseout",mouseenter:"mouseover"},Xb=H("jqLite"),Nf=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Wb=/<|&#?\w+;/,Lf=/<([\w:-]+)/,Mf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,da={option:[1,'<select multiple="multiple">',
"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=da.caption=da.thead;da.th=da.td;var Tf=Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Ra=U.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===W.readyState?setTimeout(b):(this.on("DOMContentLoaded",
b),U(O).on("load",b))},toString:function(){var a=[];n(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?C(this[a]):C(this[this.length+a])},length:0,push:Bg,sort:[].sort,splice:[].splice},Db={};n("multiple selected checked disabled readOnly required open".split(" "),function(a){Db[G(a)]=a});var Uc={};n("input select option textarea button form details".split(" "),function(a){Uc[a]=!0});var cd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",
ngPattern:"pattern"};n({data:Zb,removeData:hb,hasData:function(a){for(var b in ib[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)hb(a[b])}},function(a,b){U[b]=a});n({data:Zb,inheritedData:Cb,scope:function(a){return C.data(a,"$scope")||Cb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return C.data(a,"$isolateScope")||C.data(a,"$isolateScopeNoTemplate")},controller:Rc,injector:function(a){return Cb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},
hasClass:zb,css:function(a,b,d){b=gb(b);if(y(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Pa&&2!==c&&8!==c)if(c=G(b),Db[c])if(y(d))d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c));else return a[b]||(a.attributes.getNamedItem(b)||B).specified?c:v;else if(y(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?v:a},prop:function(a,b,d){if(y(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(x(d)){var c=a.nodeType;
return 1===c||c===Pa?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(x(b)){if(a.multiple&&"select"===ra(a)){var d=[];n(a.options,function(a){a.selected&&d.push(a.value||a.text)});return 0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(x(b))return a.innerHTML;wb(a,!0);a.innerHTML=b},empty:Sc},function(a,b){U.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==Sc&&x(2==a.length&&a!==zb&&a!==Rc?b:c)){if(E(b)){for(e=0;e<g;e++)if(a===Zb)a(this[e],b);else for(f in b)a(this[e],
f,b[f]);return this}e=a.$dv;g=x(e)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});n({removeData:hb,on:function(a,b,d,c){if(y(c))throw Xb("onargs");if(Mc(a)){c=xb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Qf(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f,!1));h.push(d)};g--;)b=c[g],yb[b]?(h(yb[b],Sf),
h(b,v,!0)):h(b)}},off:Qc,one:function(a,b,d){a=C(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;wb(a);n(new U(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];n(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new U(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},
prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;n(new U(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Oc(a,C(b).eq(0).clone()[0])},remove:$b,detach:function(a){$b(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new U(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}},addClass:Bb,removeClass:Ab,toggleClass:function(a,b,d){b&&n(b.split(" "),function(b){var e=d;x(e)&&(e=!zb(a,b));(e?Bb:Ab)(a,b)})},parent:function(a){return(a=a.parentNode)&&
11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Yb,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=xb(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},
stopPropagation:B,type:f,target:a},b.type&&(c=T(c,b)),b=na(g),e=d?[c].concat(d):[c],n(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){U.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)x(f)?(f=a(this[g],b,c,e),y(f)&&(f=C(f))):Pc(f,a(this[g],b,c,e));return y(f)?f:this};U.prototype.bind=U.prototype.on;U.prototype.unbind=U.prototype.off});Ua.prototype={put:function(a,b){this[Fa(a,this.nextUid)]=b},get:function(a){return this[Fa(a,this.nextUid)]},remove:function(a){var b=
this[a=Fa(a,this.nextUid)];delete this[a];return b}};var Hf=[function(){this.$get=[function(){return Ua}]}],Vf=/^([^\(]+?)=>/,Wf=/^[^\(]*\(\s*([^\)]*)\)/m,Cg=/,/,Dg=/^\s*(_?)(\S+?)\1\s*$/,Uf=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ga=H("$injector");fb.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw F(d)&&d||(d=a.name||Xf(a)),Ga("strictdi",d);b=Vc(a);n(b[1].split(Cg),function(a){a.replace(Dg,function(a,b,d){c.push(d)})})}a.$inject=c}}else L(a)?
(b=a.length-1,Sa(a[b],"fn"),c=a.slice(0,b)):Sa(a,"fn",!0);return c};var Rd=H("$animate"),$e=function(){this.$get=function(){}},af=function(){var a=new Ua,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=F(b)?b.split(" "):L(b)?b:[],n(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){n(b,function(b){var c=a.get(b);if(c){var d=Yf(b.attr("class")),e="",f="";n(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});n(b,function(a){e&&
Bb(a,e);f&&Ab(a,f)});a.remove(b)}});b.length=0}return{enabled:B,on:B,off:B,pin:B,push:function(g,h,k,l){l&&l();k=k||{};k.from&&g.css(k.from);k.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),h||l)a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},Ye=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null);this.register=function(d,c){if(d&&"."!==d.charAt(0))throw Rd("notcsel",
d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e;a.factory(e,c)};this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Rd("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||
(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){f=f&&C(f);g=g&&C(g);f=f||g.parent();b(e,f,g);return a.push(e,"enter",Ha(h))},move:function(e,f,g,h){f=f&&C(f);g=g&&C(g);f=f||g.parent();b(e,f,g);return a.push(e,"move",Ha(h))},leave:function(b,c){return a.push(b,"leave",Ha(c),function(){b.remove()})},addClass:function(b,c,g){g=Ha(g);g.addClass=jb(g.addclass,c);return a.push(b,"addClass",g)},removeClass:function(b,
c,g){g=Ha(g);g.removeClass=jb(g.removeClass,c);return a.push(b,"removeClass",g)},setClass:function(b,c,g,h){h=Ha(h);h.addClass=jb(h.addClass,c);h.removeClass=jb(h.removeClass,g);return a.push(b,"setClass",h)},animate:function(b,c,g,h,k){k=Ha(k);k.from=k.from?T(k.from,c):c;k.to=k.to?T(k.to,g):g;k.tempClasses=jb(k.tempClasses,h||"ng-inline-animate");return a.push(b,"animate",k)}}}]}],cf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();
d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},bf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===
a.length&&b(e)}var d=0,e=!0;n(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:B,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&
this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(n(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},Ze=function(){this.$get=["$$rAF","$q","$$AnimateRunner",
function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=Oa(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},ja=H("$compile");Ec.$inject=["$provide","$$sanitizeUriProvider"];var Xc=/^((?:x|data)[\:\-_])/i,bg=H("$controller"),
dd=/^(\S+)(\s+as\s+([\w$]+))?$/,jf=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof C&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},ed="application/json",dc={"Content-Type":ed+";charset=utf-8"},dg=/^\[|^\{(?!\{)/,eg={"[":/]$/,"{":/}$/},cg=/^\)\]\}',?\n/,Eg=H("$http"),id=function(a){return function(){throw Eg("legacy",a);}},Ka=ia.$interpolateMinErr=H("$interpolate");Ka.throwNoconcat=function(a){throw Ka("noconcat",a);};Ka.interr=function(a,b){return Ka("interr",
a,b.toString())};var Fg=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,gg={http:80,https:443,ftp:21},Gb=H("$location"),Gg={$$html5:!1,$$replace:!1,absUrl:Hb("$$absUrl"),url:function(a){if(x(a))return this.$$url;var b=Fg.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Hb("$$protocol"),host:Hb("$$host"),port:Hb("$$port"),path:nd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,
b){switch(arguments.length){case 0:return this.$$search;case 1:if(F(a)||N(a))a=a.toString(),this.$$search=zc(a);else if(E(a))a=Oa(a,{}),n(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw Gb("isrcharg");break;default:x(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:nd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};n([md,gc,fc],function(a){a.prototype=Object.create(Gg);a.prototype.state=
function(b){if(!arguments.length)return this.$$state;if(a!==fc||!this.$$html5)throw Gb("nostate");this.$$state=x(b)?null:b;return this}});var ka=H("$parse"),ig=Function.prototype.call,jg=Function.prototype.apply,kg=Function.prototype.bind,Pb=Z();n("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Pb[a]=!0});var Hg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ic=function(a){this.options=a};ic.prototype={constructor:ic,lex:function(a){this.text=a;this.index=0;for(this.tokens=
[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Pb[b],e=Pb[d];Pb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=
a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===
a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=y(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw ka("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=G(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"==d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||
c&&this.isNumber(c)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=
this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=Hg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var q=function(a,b){this.lexer=a;this.options=b};q.Program="Program";q.ExpressionStatement=
"ExpressionStatement";q.AssignmentExpression="AssignmentExpression";q.ConditionalExpression="ConditionalExpression";q.LogicalExpression="LogicalExpression";q.BinaryExpression="BinaryExpression";q.UnaryExpression="UnaryExpression";q.CallExpression="CallExpression";q.MemberExpression="MemberExpression";q.Identifier="Identifier";q.Literal="Literal";q.ArrayExpression="ArrayExpression";q.Property="Property";q.ObjectExpression="ObjectExpression";q.ThisExpression="ThisExpression";q.LocalsExpression="LocalsExpression";
q.NGValueParameter="NGValueParameter";q.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:q.Program,body:a}},expressionStatement:function(){return{type:q.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=
this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();this.expect("=")&&(a={type:q.AssignmentExpression,left:a,right:this.assignment(),operator:"="});return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:q.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a=
{type:q.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:q.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:q.BinaryExpression,
operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:q.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:
this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=Oa(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:q.CallExpression,callee:a,arguments:this.parseArguments()},
this.consume(")")):"["===b.text?(a={type:q.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:q.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:q.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.expression());
while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:q.Identifier,name:a.text}},constant:function(){return{type:q.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:q.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;
b={type:q.Property,kind:"init"};this.peek().constant?b.key=this.constant():this.peek().identifier?b.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");b.value=this.expression();a.push(b)}while(this.expect(","))}this.consume("}");return{type:q.ObjectExpression,properties:a}},throwError:function(a,b){throw ka("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw ka("ueoe",this.text);var b=this.expect(a);
b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw ka("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},constants:{"true":{type:q.Literal,value:!0},
"false":{type:q.Literal,value:!1},"null":{type:q.Literal,value:null},undefined:{type:q.Literal,value:v},"this":{type:q.ThisExpression},$locals:{type:q.LocalsExpression}}};ud.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};R(c,d.$filter);var e="",f;this.stage="assign";if(f=sd(c))this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),
e="fn.assign="+this.generateFunction("assign","s,v,l");f=qd(c.body);d.stage="inputs";n(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}};d.state.computing=c;var e=d.nextId();d.recurse(a,e);d.return_(e);d.state.inputs.push(c);a.watchId=b});this.state.computing="fn";this.stage="main";this.recurse(c);e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+e+this.watchFns()+"return fn;";e=(new Function("$filter","ensureSafeMemberName","ensureSafeObject",
"ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e))(this.$filter,Xa,Aa,od,hg,Ib,lg,pd,a);this.state=this.stage=v;e.literal=td(c);e.constant=c.constant;return e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;n(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))});b.length&&a.push("fn.inputs=["+b.join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+
"};"},filterPrefix:function(){var a=[],b=this;n(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,k=this,l,m;c=c||B;if(!f&&y(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,
c,e,!0));else switch(a.type){case q.Program:n(a.body,function(b,c){k.recurse(b.expression,v,v,function(a){h=a});c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case q.Literal:m=this.escape(a.value);this.assign(b,m);c(m);break;case q.UnaryExpression:this.recurse(a.argument,v,v,function(a){h=a});m=a.operator+"("+this.ifDefined(h,0)+")";this.assign(b,m);c(m);break;case q.BinaryExpression:this.recurse(a.left,v,v,function(a){g=a});this.recurse(a.right,v,v,function(a){h=a});m="+"===
a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")";this.assign(b,m);c(m);break;case q.LogicalExpression:b=b||this.nextId();k.recurse(a.left,b);k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b));c(b);break;case q.ConditionalExpression:b=b||this.nextId();k.recurse(a.test,b);k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b));c(b);break;case q.Identifier:b=b||this.nextId();d&&(d.context="inputs"===k.stage?
"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);Xa(a.name);k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}"));k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name)));(k.state.expensiveChecks||Jb(a.name))&&k.addEnsureSafeObject(b);c(b);
break;case q.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();k.recurse(a.object,g,v,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g);if(a.computed)h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h);else{Xa(a.property.name);e&&
1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}"));m=k.nonComputedMember(g,a.property.name);if(k.state.expensiveChecks||Jb(a.property.name))m=k.ensureSafeObject(m);k.assign(b,m);d&&(d.computed=!1,d.name=a.property.name)}},function(){k.assign(b,"undefined")});c(b)},!!e);break;case q.CallExpression:b=b||this.nextId();a.filter?(h=k.filter(a.callee.name),l=[],n(a.arguments,function(a){var b=k.nextId();k.recurse(a,b);l.push(b)}),m=h+"("+
l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h);n(a.arguments,function(a){k.recurse(a,k.nextId(),v,function(a){l.push(k.ensureSafeObject(a))})});g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),m=k.member(g.context,g.name,g.computed)+"("+l.join(",")+")"):m=h+"("+l.join(",")+")";m=k.ensureSafeObject(m);k.assign(b,m)},function(){k.assign(b,"undefined")});c(b)}));break;case q.AssignmentExpression:h=
this.nextId();g={};if(!rd(a.left))throw ka("lval");this.recurse(a.left,v,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h);k.addEnsureSafeObject(k.member(g.context,g.name,g.computed));k.addEnsureSafeAssignContext(g.context);m=k.member(g.context,g.name,g.computed)+a.operator+h;k.assign(b,m);c(b||m)})},1);break;case q.ArrayExpression:l=[];n(a.elements,function(a){k.recurse(a,k.nextId(),v,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(m);break;case q.ObjectExpression:l=
[];n(a.properties,function(a){k.recurse(a.value,k.nextId(),v,function(b){l.push(k.escape(a.key.type===q.Identifier?a.key.name:""+a.key.value)+":"+b)})});m="{"+l.join(",")+"}";this.assign(b,m);c(m);break;case q.ThisExpression:this.assign(b,"s");c("s");break;case q.LocalsExpression:this.assign(b,"l");c("l");break;case q.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+
a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");
d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),
";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=
this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(F(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(N(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===typeof a)return"undefined";throw ka("esc");},nextId:function(a,
b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};vd.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=b;R(c,d.$filter);var e,f;if(e=sd(c))f=this.recurse(e);e=qd(c.body);var g;e&&(g=[],n(e,function(a,b){var c=d.recurse(a);a.input=c;g.push(c);a.watchId=b}));var h=[];n(c.body,function(a){h.push(d.recurse(a.expression))});e=0===c.body.length?function(){}:
1===c.body.length?h[0]:function(a,b){var c;n(h,function(d){c=d(a,b)});return c};f&&(e.assign=function(a,b,c){return f(a,c,b)});g&&(e.inputs=g);e.literal=td(c);e.constant=c.constant;return e},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case q.Literal:return this.value(a.value,b);case q.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case q.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),
this["binary"+a.operator](c,e,b);case q.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case q.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case q.Identifier:return Xa(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Jb(a.name),b,d,f.expression);case q.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Xa(a.property.name,f.expression),
e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case q.CallExpression:return g=[],n(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var r=[],n=0;n<g.length;++n)r.push(g[n](a,c,d,f));a=e.apply(v,r,f);return b?{context:v,name:v,value:a}:a}:function(a,c,d,m){var r=
e(a,c,d,m),n;if(null!=r.value){Aa(r.context,f.expression);od(r.value,f.expression);n=[];for(var q=0;q<g.length;++q)n.push(Aa(g[q](a,c,d,m),f.expression));n=Aa(r.value.apply(r.context,n),f.expression)}return b?{value:n}:n};case q.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var r=c(a,d,g,m);a=e(a,d,g,m);Aa(r.value,f.expression);Ib(r.context);r.context[r.name]=a;return b?{value:a}:a};case q.ArrayExpression:return g=[],n(a.elements,function(a){g.push(f.recurse(a))}),
function(a,c,d,e){for(var f=[],n=0;n<g.length;++n)f.push(g[n](a,c,d,e));return b?{value:f}:f};case q.ObjectExpression:return g=[],n(a.properties,function(a){g.push({key:a.key.type===q.Identifier?a.key.name:""+a.key.value,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},n=0;n<g.length;++n)f[g[n].key]=g[n].value(a,c,d,e);return b?{value:f}:f};case q.ThisExpression:return function(a){return b?{value:a}:a};case q.LocalsExpression:return function(a,c){return b?{value:c}:c};case q.NGValueParameter:return function(a,
c,d,e){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=y(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=y(d)?-d:0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=pd(h,c);return d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);
h=(y(h)?h:0)-(y(c)?c:0);return d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,
e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,
g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:v,
name:v,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){f=g&&a in g?g:f;c&&1!==c&&f&&!f[a]&&(f[a]={});g=f?f[a]:v;b&&Aa(g,e);return d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var l=a(f,g,h,k),m,n;null!=l&&(m=b(f,g,h,k),m+="",Xa(m,e),c&&1!==c&&(Ib(l),l&&!l[m]&&(l[m]={})),n=l[m],Aa(n,e));return d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){g=a(g,h,k,l);e&&1!==e&&(Ib(g),g&&!g[b]&&
(g[b]={}));h=null!=g?g[b]:v;(d||Jb(b))&&Aa(h,f);return c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var jc=function(a,b,d){this.lexer=a;this.$filter=b;this.options=d;this.ast=new q(this.lexer);this.astCompiler=d.csp?new vd(this.ast,b):new ud(this.ast,b)};jc.prototype={constructor:jc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var mg=Object.prototype.valueOf,Ba=H("$sce"),qa={HTML:"html",CSS:"css",URL:"url",
RESOURCE_URL:"resourceUrl",JS:"js"},ja=H("$compile"),Y=W.createElement("a"),zd=za(O.location.href);Ad.$inject=["$document"];Lc.$inject=["$provide"];var Hd=22,Gd=".",lc="0";Bd.$inject=["$locale"];Dd.$inject=["$locale"];var yg={yyyy:aa("FullYear",4),yy:aa("FullYear",2,0,!0),y:aa("FullYear",1),MMMM:Lb("Month"),MMM:Lb("Month",!0),MM:aa("Month",2,1),M:aa("Month",1,1),dd:aa("Date",2),d:aa("Date",1),HH:aa("Hours",2),H:aa("Hours",1),hh:aa("Hours",2,-12),h:aa("Hours",1,-12),mm:aa("Minutes",2),m:aa("Minutes",
1),ss:aa("Seconds",2),s:aa("Seconds",1),sss:aa("Milliseconds",3),EEEE:Lb("Day"),EEE:Lb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Kb(Math[0<a?"floor":"ceil"](a/60),2)+Kb(Math.abs(a%60),2))},ww:Jd(2),w:Jd(1),G:mc,GG:mc,GGG:mc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},xg=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,wg=/^\-?\d+$/;Cd.$inject=["$locale"];
var rg=ba(G),sg=ba(ub);Ed.$inject=["$parse"];var oe=ba({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ga.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};n(Db,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!=a){var c=va("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,
e)});vb[c]=function(){return{restrict:"A",priority:100,link:e}}}});n(cd,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"==e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Ag))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});n(["src","srcset","href"],function(a){var b=va("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ga.call(c.prop("href"))&&
(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),xa&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Mb={$addControl:B,$$renameControl:function(a,b){a.$name=b},$removeControl:B,$setValidity:B,$setDirty:B,$setPristine:B,$setSubmitted:B};Kd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Sd=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||B}return{name:"form",restrict:a?
"EAC":"E",require:["form","^^?form"],controller:Kd,compile:function(d,f){d.addClass(Ya).addClass(ob);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var s=function(b){a.$apply(function(){n.$commitViewValue();n.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",s,!1);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",s,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var q=g?c(n.$name):B;g&&(q(a,n),e.$observe(g,
function(b){n.$name!==b&&(q(a,v),n.$$parentForm.$$renameControl(n,b),q=c(n.$name),q(a,n))}));d.on("$destroy",function(){n.$$parentForm.$removeControl(n);q(a,v);T(n,Mb)})}}}}}]},pe=Sd(),Ce=Sd(!0),zg=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ig=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Jg=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Kg=
/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Td=/^(\d{4})-(\d{2})-(\d{2})$/,Ud=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,pc=/^(\d{4})-W(\d\d)$/,Vd=/^(\d{4})-(\d\d)$/,Wd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Xd={text:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);nc(c)},date:mb("date",Td,Ob(Td,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mb("datetimelocal",Ud,Ob(Ud,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:mb("time",Wd,Ob(Wd,["HH","mm","ss",
"sss"]),"HH:mm:ss.sss"),week:mb("week",pc,function(a,b){if(V(a))return a;if(F(a)){pc.lastIndex=0;var d=pc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Id(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());return new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:mb("month",Vd,Ob(Vd,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Md(a,b,d,c);lb(a,b,d,c,e,f);c.$$parserName="number";c.$parsers.push(function(a){return c.$isEmpty(a)?null:
Kg.test(a)?parseFloat(a):v});c.$formatters.push(function(a){if(!c.$isEmpty(a)){if(!N(a))throw nb("numfmt",a);a=a.toString()}return a});if(y(d.min)||d.ngMin){var g;c.$validators.min=function(a){return c.$isEmpty(a)||x(g)||a>=g};d.$observe("min",function(a){y(a)&&!N(a)&&(a=parseFloat(a,10));g=N(a)&&!isNaN(a)?a:v;c.$validate()})}if(y(d.max)||d.ngMax){var h;c.$validators.max=function(a){return c.$isEmpty(a)||x(h)||a<=h};d.$observe("max",function(a){y(a)&&!N(a)&&(a=parseFloat(a,10));h=N(a)&&!isNaN(a)?
a:v;c.$validate()})}},url:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);nc(c);c.$$parserName="url";c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||Ig.test(d)}},email:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);nc(c);c.$$parserName="email";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||Jg.test(d)}},radio:function(a,b,d,c){x(d.name)&&b.attr("name",++pb);b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)});c.$render=function(){b[0].checked=d.value==c.$viewValue};
d.$observe("value",c.$render)},checkbox:function(a,b,d,c,e,f,g,h){var k=Nd(h,a,"ngTrueValue",d.ngTrueValue,!0),l=Nd(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return oa(a,k)});c.$parsers.push(function(a){return a?k:l})},hidden:B,button:B,submit:B,reset:B,file:B},Fc=["$browser","$sniffer","$filter","$parse",function(a,b,d,
c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Xd[G(g.type)]||Xd.text)(e,f,g,h[0],b,a,d,c)}}}}],Lg=/^(true|false|\d+)$/,Ue=function(){return{restrict:"A",priority:100,compile:function(a,b){return Lg.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},ue=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,
e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=x(a)?"":a})}}}}],we=["$interpolate","$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=x(a)?"":a})}}}}],ve=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});
d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){c.html(a.getTrustedHtml(f(b))||"")})}}}}],Te=ba({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),xe=oc("",!0),ze=oc("Odd",0),ye=oc("Even",1),Ae=Ma({compile:function(a,b){b.$set("ngCloak",v);a.removeClass("ng-cloak")}}),Be=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Kc={},Mg={blur:!0,focus:!0};n("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var b=va("ng-"+a);Kc[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Mg[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ee=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(b,d,c,e,f){var g,h,k;b.$watch(c.ngIf,function(b){b?h||f(function(b,e){h=e;b[b.length++]=W.createComment(" end ngIf: "+
c.ngIf+" ");g={clone:b};a.enter(b,d.parent(),d)}):(k&&(k.remove(),k=null),h&&(h.$destroy(),h=null),g&&(k=tb(g.clone),a.leave(k).then(function(){k=null}),g=null))})}}}],Fe=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ia.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,s){var q=0,v,t,p,w=function(){t&&(t.remove(),t=null);v&&(v.$destroy(),v=null);p&&
(d.leave(p).then(function(){t=null}),t=p,p=null)};c.$watch(f,function(f){var m=function(){!y(h)||h&&!c.$eval(h)||b()},z=++q;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&z===q){var b=c.$new();n.template=a;a=s(b,function(a){w();d.enter(a,null,e).then(m)});v=b;p=a;v.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||z!==q||(w(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(w(),n.template=null)})}}}}],We=["$compile",function(a){return{restrict:"ECA",
priority:-400,require:"ngInclude",link:function(b,d,c,e){ga.call(d[0]).match(/SVG/)?(d.empty(),a(Nc(e.template,W).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ge=Ma({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Se=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?X(e):e;c.$parsers.push(function(a){if(!x(a)){var b=
[];a&&n(a.split(g),function(a){a&&b.push(f?X(a):a)});return b}});c.$formatters.push(function(a){return L(a)?a.join(e):v});c.$isEmpty=function(a){return!a||!a.length}}}},ob="ng-valid",Od="ng-invalid",Ya="ng-pristine",Nb="ng-dirty",Qd="ng-pending",nb=H("ngModel"),Ng=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=v;this.$validators={};this.$asyncValidators=
{};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=v;this.$name=l(d.name||"",!1)(a);this.$$parentForm=Mb;var m=e(d.ngModel),r=m.assign,q=m,I=r,K=null,t,p=this;this.$$setOptions=function(a){if((p.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");q=function(a){var c=m(a);D(c)&&(c=b(a));return c};I=function(a,
b){D(m(a))?f(a,{$$$p:p.$modelValue}):r(a,p.$modelValue)}}else if(!m.assign)throw nb("nonassign",d.ngModel,ta(c));};this.$render=B;this.$isEmpty=function(a){return x(a)||""===a||null===a||a!==a};this.$$updateEmptyClasses=function(a){p.$isEmpty(a)?(f.removeClass(c,"ng-not-empty"),f.addClass(c,"ng-empty")):(f.removeClass(c,"ng-empty"),f.addClass(c,"ng-not-empty"))};var w=0;Ld({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f});this.$setPristine=function(){p.$dirty=
!1;p.$pristine=!0;f.removeClass(c,Nb);f.addClass(c,Ya)};this.$setDirty=function(){p.$dirty=!0;p.$pristine=!1;f.removeClass(c,Ya);f.addClass(c,Nb);p.$$parentForm.$setDirty()};this.$setUntouched=function(){p.$touched=!1;p.$untouched=!0;f.setClass(c,"ng-untouched","ng-touched")};this.$setTouched=function(){p.$touched=!0;p.$untouched=!1;f.setClass(c,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){g.cancel(K);p.$viewValue=p.$$lastCommittedViewValue;p.$render()};this.$validate=function(){if(!N(p.$modelValue)||
!isNaN(p.$modelValue)){var a=p.$$rawModelValue,b=p.$valid,c=p.$modelValue,d=p.$options&&p.$options.allowInvalid;p.$$runValidators(a,p.$$lastCommittedViewValue,function(e){d||b===e||(p.$modelValue=e?a:v,p.$modelValue!==c&&p.$$writeModelToScope())})}};this.$$runValidators=function(a,b,c){function d(){var c=!0;n(p.$validators,function(d,e){var g=d(a,b);c=c&&g;f(e,g)});return c?!0:(n(p.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;n(p.$asyncValidators,function(e,g){var h=e(a,
b);if(!h||!D(h.then))throw nb("nopromise",h);f(g,v);c.push(h.then(function(){f(g,!0)},function(a){d=!1;f(g,!1)}))});c.length?k.all(c).then(function(){g(d)},B):g(!0)}function f(a,b){h===w&&p.$setValidity(a,b)}function g(a){h===w&&c(a)}w++;var h=w;(function(){var a=p.$$parserName||"parse";if(x(t))f(a,null);else return t||(n(p.$validators,function(a,b){f(b,null)}),n(p.$asyncValidators,function(a,b){f(b,null)})),f(a,t),t;return!0})()?d()?e():g(!1):g(!1)};this.$commitViewValue=function(){var a=p.$viewValue;
g.cancel(K);if(p.$$lastCommittedViewValue!==a||""===a&&p.$$hasNativeValidators)p.$$updateEmptyClasses(a),p.$$lastCommittedViewValue=a,p.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var b=p.$$lastCommittedViewValue;if(t=x(b)?v:!0)for(var c=0;c<p.$parsers.length;c++)if(b=p.$parsers[c](b),x(b)){t=!1;break}N(p.$modelValue)&&isNaN(p.$modelValue)&&(p.$modelValue=q(a));var d=p.$modelValue,e=p.$options&&p.$options.allowInvalid;p.$$rawModelValue=b;e&&(p.$modelValue=
b,p.$modelValue!==d&&p.$$writeModelToScope());p.$$runValidators(b,p.$$lastCommittedViewValue,function(a){e||(p.$modelValue=a?b:v,p.$modelValue!==d&&p.$$writeModelToScope())})};this.$$writeModelToScope=function(){I(a,p.$modelValue);n(p.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})};this.$setViewValue=function(a,b){p.$viewValue=a;p.$options&&!p.$options.updateOnDefault||p.$$debounceViewValueCommit(b)};this.$$debounceViewValueCommit=function(b){var c=0,d=p.$options;d&&y(d.debounce)&&(d=d.debounce,
N(d)?c=d:N(d[b])?c=d[b]:N(d["default"])&&(c=d["default"]));g.cancel(K);c?K=g(function(){p.$commitViewValue()},c):h.$$phase?p.$commitViewValue():a.$apply(function(){p.$commitViewValue()})};a.$watch(function(){var b=q(a);if(b!==p.$modelValue&&(p.$modelValue===p.$modelValue||b===b)){p.$modelValue=p.$$rawModelValue=b;t=v;for(var c=p.$formatters,d=c.length,e=b;d--;)e=c[d](e);p.$viewValue!==e&&(p.$$updateEmptyClasses(e),p.$viewValue=p.$$lastCommittedViewValue=e,p.$render(),p.$$runValidators(b,e,B))}return b})}],
Re=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ng,priority:1,compile:function(b){b.addClass(Ya).addClass("ng-untouched").addClass(ob);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;g.$$setOptions(f[2]&&f[2].$options);b.$addControl(g);e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){var g=f[0];if(g.$options&&
g.$options.updateOn)c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(c){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],Og=/(\s+|^)default(\s+|$)/,Ve=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=Oa(a.$eval(b.ngModelOptions));y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=X(this.$options.updateOn.replace(Og,function(){d.$options.updateOnDefault=
!0;return" "}))):this.$options.updateOnDefault=!0}]}},He=Ma({terminal:!0,priority:1E3}),Pg=H("ngOptions"),Qg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pe=["$compile","$parse",function(a,b){function d(a,c,d){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}
function l(a){var b;if(!q&&Ca(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var m=a.match(Qg);if(!m)throw Pg("iexp",a,ta(c));var n=m[5]||m[7],q=m[6];a=/ as /.test(m[0])&&m[1];var v=m[9];c=b(m[2]?m[1]:n);var y=a&&b(a)||c,t=v&&b(v),p=v?function(a,b){return t(d,b)}:function(a){return Fa(a)},w=function(a,b){return p(a,B(a,b))},u=b(m[2]||m[1]),x=b(m[3]||""),z=b(m[4]||""),A=b(m[8]),C={},B=q?function(a,b){C[q]=b;C[n]=a;return C}:function(a){C[n]=a;return C};return{trackBy:v,
getTrackByValue:w,getWatchables:b(A,function(a){var b=[];a=a||[];for(var c=l(a),e=c.length,f=0;f<e;f++){var g=a===c?f:c[f],k=B(a[g],g),g=p(a[g],k);b.push(g);if(m[2]||m[1])g=u(d,k),b.push(g);m[4]&&(k=z(d,k),b.push(k))}return b}),getOptions:function(){for(var a=[],b={},c=A(d)||[],f=l(c),g=f.length,m=0;m<g;m++){var n=c===f?m:f[m],r=B(c[n],n),q=y(d,r),n=p(q,r),s=u(d,r),t=x(d,r),r=z(d,r),q=new e(n,q,s,t,r);a.push(q);b[n]=q}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[w(a)]},
getViewValueFromOption:function(a){return v?ia.copy(a.viewValue):a.viewValue}}}}}var c=W.createElement("option"),e=W.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=B},post:function(b,g,h,k){function l(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);a.value!==b.value&&(b.value=a.selectValue)}function m(a,b,c,d){b&&G(b.nodeName)===c?c=b:(c=d.cloneNode(!1),b?a.insertBefore(c,
b):a.appendChild(c));return c}function r(a){for(var b;a;)b=a.nextSibling,$b(a),a=b}function q(a){var b=w&&w[0],c=A&&A[0];if(b||c)for(;a&&(a===b||a===c||8===a.nodeType||"option"===ra(a)&&""===a.value);)a=a.nextSibling;return a}function v(){var a=D&&x.readValue();D=E.getOptions();var b={},d=g[0].firstChild;z&&g.prepend(w);d=q(d);D.items.forEach(function(a){var f,h;y(a.group)?(f=b[a.group],f||(f=m(g[0],d,"optgroup",e),d=f.nextSibling,f.label=a.group,f=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),
h=m(f.groupElement,f.currentOptionElement,"option",c),l(a,h),f.currentOptionElement=h.nextSibling):(h=m(g[0],d,"option",c),l(a,h),d=h.nextSibling)});Object.keys(b).forEach(function(a){r(b[a].currentOptionElement)});r(d);t.$render();if(!t.$isEmpty(a)){var f=x.readValue();(E.trackBy||p?oa(a,f):a===f)||(t.$setViewValue(f),t.$render())}}var x=k[0],t=k[1],p=h.multiple,w;k=0;for(var u=g.children(),B=u.length;k<B;k++)if(""===u[k].value){w=u.eq(k);break}var z=!!w,A=C(c.cloneNode(!1));A.val("?");var D,E=d(h.ngOptions,
g,b);p?(t.$isEmpty=function(a){return!a||0===a.length},x.writeValue=function(a){D.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){(a=D.getOptionFromViewValue(a))&&!a.disabled&&(a.element.selected=!0)})},x.readValue=function(){var a=g.val()||[],b=[];n(a,function(a){(a=D.selectValueMap[a])&&!a.disabled&&b.push(D.getViewValueFromOption(a))});return b},E.trackBy&&b.$watchCollection(function(){if(L(t.$viewValue))return t.$viewValue.map(function(a){return E.getTrackByValue(a)})},
function(){t.$render()})):(x.writeValue=function(a){var b=D.getOptionFromViewValue(a);b&&!b.disabled?g[0].value!==b.selectValue&&(A.remove(),z||w.remove(),g[0].value=b.selectValue,b.element.selected=!0,b.element.setAttribute("selected","selected")):null===a||z?(A.remove(),z||g.prepend(w),g.val(""),w.prop("selected",!0),w.attr("selected",!0)):(z||w.remove(),g.prepend(A),g.val("?"),A.prop("selected",!0),A.attr("selected",!0))},x.readValue=function(){var a=D.selectValueMap[g.val()];return a&&!a.disabled?
(z||w.remove(),A.remove(),D.getViewValueFromOption(a)):null},E.trackBy&&b.$watch(function(){return E.getTrackByValue(t.$viewValue)},function(){t.$render()}));z?(w.remove(),a(w)(b),w.removeClass("ng-scope")):w=C(c.cloneNode(!1));v();b.$watchCollection(E.getWatchables,v)}}}}],Ie=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),r=h.offset||0,q=f.$eval(m)||{},v=
{},y=b.startSymbol(),t=b.endSymbol(),p=y+l+"-"+r+t,w=ia.noop,u;n(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+G(c[2]),q[c]=g.attr(h.$attr[b]))});n(q,function(a,d){v[d]=b(a.replace(c,p))});f.$watch(l,function(b){var c=parseFloat(b),e=isNaN(c);e||c in q||(c=a.pluralCat(c-r));c===u||e&&N(u)&&isNaN(u)||(w(),e=v[c],x(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),w=B,k()):w=f.$watch(e,k),u=c)})}}}],Je=["$parse","$animate",function(a,b){var d=H("ngRepeat"),c=function(a,b,
c,d,k,l,m){a[c]=d;k&&(a[k]=l);a.$index=b;a.$first=0===b;a.$last=b===m-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(e,f){var g=f.ngRepeat,h=W.createComment(" end ngRepeat: "+g+" "),k=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw d("iexp",g);var l=k[1],m=k[2],r=k[3],q=k[4],k=l.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);
if(!k)throw d("iidexp",l);var x=k[3]||k[1],y=k[2];if(r&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw d("badident",r);var t,p,w,u,B={$id:Fa};q?t=a(q):(w=function(a,b){return Fa(b)},u=function(a){return a});return function(a,e,f,k,l){t&&(p=function(b,c,d){y&&(B[y]=b);B[x]=c;B.$index=d;return t(a,B)});var q=Z();a.$watchCollection(m,function(f){var k,m,s=e[0],t,B=Z(),D,E,H,F,L,G,N;r&&(a[r]=f);if(Ca(f))L=
f,m=p||w;else for(N in m=p||u,L=[],f)sa.call(f,N)&&"$"!==N.charAt(0)&&L.push(N);D=L.length;N=Array(D);for(k=0;k<D;k++)if(E=f===L?k:L[k],H=f[E],F=m(E,H,k),q[F])G=q[F],delete q[F],B[F]=G,N[k]=G;else{if(B[F])throw n(N,function(a){a&&a.scope&&(q[a.id]=a)}),d("dupes",g,F,H);N[k]={id:F,scope:v,clone:v};B[F]=!0}for(t in q){G=q[t];F=tb(G.clone);b.leave(F);if(F[0].parentNode)for(k=0,m=F.length;k<m;k++)F[k].$$NG_REMOVED=!0;G.scope.$destroy()}for(k=0;k<D;k++)if(E=f===L?k:L[k],H=f[E],G=N[k],G.scope){t=s;do t=
t.nextSibling;while(t&&t.$$NG_REMOVED);G.clone[0]!=t&&b.move(tb(G.clone),null,C(s));s=G.clone[G.clone.length-1];c(G.scope,k,x,H,y,E,D)}else l(function(a,d){G.scope=d;var e=h.cloneNode(!1);a[a.length++]=e;b.enter(a,null,C(s));s=e;G.clone=a;B[G.id]=G;c(G.scope,k,x,H,y,E,D)});q=B})}}}}],Ke=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],De=["$animate",function(a){return{restrict:"A",
multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Le=Ma(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&n(d,function(a,c){b.css(c,"")});a&&b.css(a)},!0)}),Me=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,d,c,e){var f=[],g=[],h=[],k=[],l=function(a,b){return function(){a.splice(b,1)}};b.$watch(c.ngSwitch||c.on,function(b){var c,
d;c=0;for(d=h.length;c<d;++c)a.cancel(h[c]);c=h.length=0;for(d=k.length;c<d;++c){var q=tb(g[c].clone);k[c].$destroy();(h[c]=a.leave(q)).then(l(h,c))}g.length=0;k.length=0;(f=e.cases["!"+b]||e.cases["?"])&&n(f,function(b){b.transclude(function(c,d){k.push(d);var e=b.element;c[c.length++]=W.createComment(" end ngSwitchWhen: ");g.push({clone:c});a.enter(c,e.parent(),e)})})})}}}],Ne=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=
c.cases["!"+d.ngSwitchWhen]||[];c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),Oe=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),Rg=H("ngTransclude"),Qe=Ma({restrict:"EAC",link:function(a,b,d,c,e){d.ngTransclude===d.$attr.ngTransclude&&(d.ngTransclude="");if(!e)throw Rg("orphan",ta(b));e(function(a){a.length&&(b.empty(),b.append(a))},null,d.ngTransclude||
d.ngTranscludeSlot)}}),qe=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"==d.type&&a.put(d.id,b[0].text)}}}],Sg={$setViewValue:B,$render:B},Tg=["$element","$scope","$attrs",function(a,b,d){var c=this,e=new Ua;c.ngModelCtrl=Sg;c.unknownOption=C(W.createElement("option"));c.renderUnknownOption=function(b){b="? "+Fa(b)+" ?";c.unknownOption.val(b);a.prepend(c.unknownOption);a.val(b)};b.$on("$destroy",function(){c.renderUnknownOption=B});c.removeUnknownOption=
function(){c.unknownOption.parent()&&c.unknownOption.remove()};c.readValue=function(){c.removeUnknownOption();return a.val()};c.writeValue=function(b){c.hasOption(b)?(c.removeUnknownOption(),a.val(b),""===b&&c.emptyOption.prop("selected",!0)):null==b&&c.emptyOption?(c.removeUnknownOption(),a.val("")):c.renderUnknownOption(b)};c.addOption=function(a,b){if(8!==b[0].nodeType){Ta(a,'"option value"');""===a&&(c.emptyOption=b);var d=e.get(a)||0;e.put(a,d+1);c.ngModelCtrl.$render();b[0].hasAttribute("selected")&&
(b[0].selected=!0)}};c.removeOption=function(a){var b=e.get(a);b&&(1===b?(e.remove(a),""===a&&(c.emptyOption=v)):e.put(a,b-1))};c.hasOption=function(a){return!!e.get(a)};c.registerOption=function(a,b,d,e,l){if(e){var m;d.$observe("value",function(a){y(m)&&c.removeOption(m);m=a;c.addOption(a,b)})}else l?a.$watch(l,function(a,e){d.$set("value",a);e!==a&&c.removeOption(e);c.addOption(a,b)}):c.addOption(d.value,b);b.on("$destroy",function(){c.removeOption(d.value);c.ngModelCtrl.$render()})}}],re=function(){return{restrict:"E",
require:["select","?ngModel"],controller:Tg,priority:1,link:{pre:function(a,b,d,c){var e=c[1];if(e){var f=c[0];f.ngModelCtrl=e;b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})});if(d.multiple){f.readValue=function(){var a=[];n(b.find("option"),function(b){b.selected&&a.push(b.value)});return a};f.writeValue=function(a){var c=new Ua(a);n(b.find("option"),function(a){a.selected=y(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||oa(g,e.$viewValue)||(g=
na(e.$viewValue),e.$render());h=e.$viewValue});e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},te=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(y(d.value))var c=a(d.value,!0);else{var e=a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,
b,d,c,e)}}}}],se=ba({restrict:"E",terminal:!1}),Hc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Gc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){F(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw H("ngPattern")("noregexp",
f,a,ta(b));e=a||v;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||x(e)||e.test(b)}}}}},Jc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=ca(a);e=isNaN(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},Ic=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=ca(a)||0;c.$validate()});
c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};O.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(je(),le(ia),ia.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),
SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",
PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=a|0,f=c;v===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),C(W).ready(function(){fe(W,Ac)}))})(window,document);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');


},{}],12:[function(require,module,exports){
var wanakana,
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

wanakana = wanakana || {};

wanakana.version = "1.3.7";

if (typeof define === "function" && define.amd) {
  define("wanakana", [], function() {
    return wanakana;
  });
}

wanakana.LOWERCASE_START = 0x61;

wanakana.LOWERCASE_END = 0x7A;

wanakana.UPPERCASE_START = 0x41;

wanakana.UPPERCASE_END = 0x5A;

wanakana.HIRAGANA_START = 0x3041;

wanakana.HIRAGANA_END = 0x3096;

wanakana.KATAKANA_START = 0x30A1;

wanakana.KATAKANA_END = 0x30FA;

wanakana.LOWERCASE_FULLWIDTH_START = 0xFF41;

wanakana.LOWERCASE_FULLWIDTH_END = 0xFF5A;

wanakana.UPPERCASE_FULLWIDTH_START = 0xFF21;

wanakana.UPPERCASE_FULLWIDTH_END = 0xFF3A;

wanakana.defaultOptions = {
  useObseleteKana: false,
  IMEMode: false
};

/**
 * Automatically sets up an input field to be an IME.
*/


wanakana.bind = function(input) {
  return input.addEventListener('input', wanakana._onInput);
};

wanakana.unbind = function(input) {
  return input.removeEventListener('input', wanakana._onInput);
};

wanakana._onInput = function(event) {
  var input, newText, normalizedInputString, range, startingCursor, startingLength;
  input = event.target;
  startingCursor = input.selectionStart;
  startingLength = input.value.length;
  normalizedInputString = wanakana._convertFullwidthCharsToASCII(input.value);
  newText = wanakana.toKana(normalizedInputString, {
    IMEMode: true
  });
  if (normalizedInputString !== newText) {
    input.value = newText;
    if (typeof input.selectionStart === "number") {
      return input.selectionStart = input.selectionEnd = input.value.length;
    } else if (typeof input.createTextRange !== "undefined") {
      input.focus();
      range = input.createTextRange();
      range.collapse(false);
      return range.select();
    }
  }
};

wanakana._extend = function(target, source) {
  var prop;
  if (target == null) {
    return source;
  }
  for (prop in source) {
    if ((target[prop] == null) && (source[prop] != null)) {
      target[prop] = source[prop];
    }
  }
  return target;
};

/**
 * Takes a character and a unicode range. Returns true if the char is in the range.
*/


wanakana._isCharInRange = function(char, start, end) {
  var code;
  code = char.charCodeAt(0);
  return (start <= code && code <= end);
};

wanakana._isCharVowel = function(char, includeY) {
  var regexp;
  if (includeY == null) {
    includeY = true;
  }
  regexp = includeY ? /[aeiouy]/ : /[aeiou]/;
  return char.toLowerCase().charAt(0).search(regexp) !== -1;
};

wanakana._isCharConsonant = function(char, includeY) {
  var regexp;
  if (includeY == null) {
    includeY = true;
  }
  regexp = includeY ? /[bcdfghjklmnpqrstvwxyz]/ : /[bcdfghjklmnpqrstvwxz]/;
  return char.toLowerCase().charAt(0).search(regexp) !== -1;
};

wanakana._isCharKatakana = function(char) {
  return wanakana._isCharInRange(char, wanakana.KATAKANA_START, wanakana.KATAKANA_END);
};

wanakana._isCharHiragana = function(char) {
  return wanakana._isCharInRange(char, wanakana.HIRAGANA_START, wanakana.HIRAGANA_END);
};

wanakana._isCharKana = function(char) {
  return wanakana._isCharHiragana(char) || wanakana._isCharKatakana(char);
};

wanakana._isCharNotKana = function(char) {
  return !wanakana._isCharHiragana(char) && !wanakana._isCharKatakana(char);
};

wanakana._convertFullwidthCharsToASCII = function(string) {
  var char, chars, code, i, _i, _len;
  chars = string.split("");
  for (i = _i = 0, _len = chars.length; _i < _len; i = ++_i) {
    char = chars[i];
    code = char.charCodeAt(0);
    if (wanakana._isCharInRange(char, wanakana.LOWERCASE_FULLWIDTH_START, wanakana.LOWERCASE_FULLWIDTH_END)) {
      chars[i] = String.fromCharCode(code - wanakana.LOWERCASE_FULLWIDTH_START + wanakana.LOWERCASE_START);
    }
    if (wanakana._isCharInRange(char, wanakana.UPPERCASE_FULLWIDTH_START, wanakana.UPPERCASE_FULLWIDTH_END)) {
      chars[i](String.fromCharCode(code - wanakana.UPPERCASE_FULLWIDTH_START + wanakana.UPPERCASE_START));
    }
  }
  return chars.join("");
};

wanakana._katakanaToHiragana = function(kata) {
  var code, hira, hiraChar, kataChar, _i, _len, _ref;
  hira = [];
  _ref = kata.split("");
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    kataChar = _ref[_i];
    if (wanakana._isCharKatakana(kataChar)) {
      code = kataChar.charCodeAt(0);
      code += wanakana.HIRAGANA_START - wanakana.KATAKANA_START;
      hiraChar = String.fromCharCode(code);
      hira.push(hiraChar);
    } else {
      hira.push(kataChar);
    }
  }
  return hira.join("");
};

wanakana._hiraganaToKatakana = function(hira) {
  var code, hiraChar, kata, kataChar, _i, _len, _ref;
  kata = [];
  _ref = hira.split("");
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    hiraChar = _ref[_i];
    if (wanakana._isCharHiragana(hiraChar)) {
      code = hiraChar.charCodeAt(0);
      code += wanakana.KATAKANA_START - wanakana.HIRAGANA_START;
      kataChar = String.fromCharCode(code);
      kata.push(kataChar);
    } else {
      kata.push(hiraChar);
    }
  }
  return kata.join("");
};

wanakana._hiraganaToRomaji = function(hira, options) {
  var chunk, chunkSize, cursor, getChunk, len, maxChunk, nextCharIsDoubleConsonant, resetChunkSize, roma, romaChar;
  options = wanakana._extend(options, wanakana.defaultOptions);
  len = hira.length;
  roma = [];
  cursor = 0;
  chunkSize = 0;
  maxChunk = 2;
  getChunk = function() {
    return hira.substr(cursor, chunkSize);
  };
  resetChunkSize = function() {
    return chunkSize = Math.min(maxChunk, len - cursor);
  };
  while (cursor < len) {
    resetChunkSize();
    while (chunkSize > 0) {
      chunk = getChunk();
      if (wanakana.isKatakana(chunk)) {
        chunk = wanakana._katakanaToHiragana(chunk);
      }
      if (chunk.charAt(0) === "っ" && chunkSize === 1 && cursor < (len - 1)) {
        nextCharIsDoubleConsonant = true;
        romaChar = "";
        break;
      }
      romaChar = wanakana.J_to_R[chunk];
      if ((romaChar != null) && nextCharIsDoubleConsonant) {
        romaChar = romaChar.charAt(0).concat(romaChar);
        nextCharIsDoubleConsonant = false;
      }
      if (romaChar != null) {
        break;
      }
      chunkSize--;
    }
    if (romaChar == null) {
      romaChar = chunk;
    }
    roma.push(romaChar);
    cursor += chunkSize || 1;
  }
  return roma.join("");
};

wanakana._romajiToHiragana = function(roma, options) {
  return wanakana._romajiToKana(roma, options, true);
};

wanakana._romajiToKana = function(roma, options, ignoreCase) {
  var chunk, chunkLC, chunkSize, cursor, getChunk, isCharUpperCase, kana, kanaChar, len, maxChunk;
  if (ignoreCase == null) {
    ignoreCase = false;
  }
  options = wanakana._extend(options, wanakana.defaultOptions);
  len = roma.length;
  kana = [];
  cursor = 0;
  maxChunk = 3;
  getChunk = function() {
    return roma.substr(cursor, chunkSize);
  };
  isCharUpperCase = function(char) {
    return wanakana._isCharInRange(char, wanakana.UPPERCASE_START, wanakana.UPPERCASE_END);
  };
  while (cursor < len) {
    chunkSize = Math.min(maxChunk, len - cursor);
    while (chunkSize > 0) {
      chunk = getChunk();
      chunkLC = chunk.toLowerCase();
      if (__indexOf.call(wanakana.FOUR_CHARACTER_EDGE_CASES, chunkLC) >= 0 && (len - cursor) >= 4) {
        chunkSize++;
        chunk = getChunk();
        chunkLC = chunk.toLowerCase();
      } else {
        if (chunkLC.charAt(0) === "n") {
          if (options.IMEMode && chunkLC.charAt(1) === "'" && chunkSize === 2) {
            kanaChar = "ん";
            break;
          }
          if (wanakana._isCharConsonant(chunkLC.charAt(1), false) && wanakana._isCharVowel(chunkLC.charAt(2))) {
            chunkSize = 1;
            chunk = getChunk();
            chunkLC = chunk.toLowerCase();
          }
        }
        if (chunkLC.charAt(0) !== "n" && wanakana._isCharConsonant(chunkLC.charAt(0)) && chunk.charAt(0) === chunk.charAt(1)) {
          chunkSize = 1;
          if (wanakana._isCharInRange(chunk.charAt(0), wanakana.UPPERCASE_START, wanakana.UPPERCASE_END)) {
            chunkLC = chunk = "ッ";
          } else {
            chunkLC = chunk = "っ";
          }
        }
      }
      kanaChar = wanakana.R_to_J[chunkLC];
      if (kanaChar != null) {
        break;
      }
      if (chunkSize === 4) {
        chunkSize -= 2;
      } else {
        chunkSize--;
      }
    }
    if (kanaChar == null) {
      chunk = wanakana._convertPunctuation(chunk);
      kanaChar = chunk;
    }
    if (options != null ? options.useObseleteKana : void 0) {
      if (chunkLC === "wi") {
        kanaChar = "ゐ";
      }
      if (chunkLC === "we") {
        kanaChar = "ゑ";
      }
    }
    if (options.IMEMode && chunkLC.charAt(0) === "n") {
      if (roma.charAt(cursor + 1).toLowerCase() === "y" && wanakana._isCharVowel(roma.charAt(cursor + 2)) === false || cursor === (len - 1) || wanakana.isKana(roma.charAt(cursor + 1))) {
        kanaChar = chunk.charAt(0);
      }
    }
    if (!ignoreCase) {
      if (isCharUpperCase(chunk.charAt(0))) {
        kanaChar = wanakana._hiraganaToKatakana(kanaChar);
      }
    }
    kana.push(kanaChar);
    cursor += chunkSize || 1;
  }
  return kana.join("");
};

wanakana._convertPunctuation = function(input, options) {
  if (input === '　') {
    return ' ';
  }
  if (input === '-') {
    return 'ー';
  }
  return input;
};

/**
* Returns true if input is entirely hiragana.
*/


wanakana.isHiragana = function(input) {
  var chars;
  chars = input.split("");
  return chars.every(wanakana._isCharHiragana);
};

wanakana.isKatakana = function(input) {
  var chars;
  chars = input.split("");
  return chars.every(wanakana._isCharKatakana);
};

wanakana.isKana = function(input) {
  var chars;
  chars = input.split("");
  return chars.every(function(char) {
    return (wanakana.isHiragana(char)) || (wanakana.isKatakana(char));
  });
};

wanakana.isRomaji = function(input) {
  var chars;
  chars = input.split("");
  return chars.every(function(char) {
    return (!wanakana.isHiragana(char)) && (!wanakana.isKatakana(char));
  });
};

wanakana.toHiragana = function(input, options) {
  if (wanakana.isRomaji(input)) {
    return input = wanakana._romajiToHiragana(input, options);
  }
  if (wanakana.isKatakana(input)) {
    return input = wanakana._katakanaToHiragana(input, options);
  }
  return input;
};

wanakana.toKatakana = function(input, options) {
  if (wanakana.isHiragana(input)) {
    return input = wanakana._hiraganaToKatakana(input, options);
  }
  if (wanakana.isRomaji(input)) {
    input = wanakana._romajiToHiragana(input, options);
    return input = wanakana._hiraganaToKatakana(input, options);
  }
  return input;
};

wanakana.toKana = function(input, options) {
  return input = wanakana._romajiToKana(input, options);
};

wanakana.toRomaji = function(input, options) {
  return input = wanakana._hiraganaToRomaji(input);
};

wanakana.R_to_J = {
  a: 'あ',
  i: 'い',
  u: 'う',
  e: 'え',
  o: 'お',
  yi: 'い',
  wu: 'う',
  whu: 'う',
  xa: 'ぁ',
  xi: 'ぃ',
  xu: 'ぅ',
  xe: 'ぇ',
  xo: 'ぉ',
  xyi: 'ぃ',
  xye: 'ぇ',
  ye: 'いぇ',
  wha: 'うぁ',
  whi: 'うぃ',
  whe: 'うぇ',
  who: 'うぉ',
  wi: 'うぃ',
  we: 'うぇ',
  va: 'ゔぁ',
  vi: 'ゔぃ',
  vu: 'ゔ',
  ve: 'ゔぇ',
  vo: 'ゔぉ',
  vya: 'ゔゃ',
  vyi: 'ゔぃ',
  vyu: 'ゔゅ',
  vye: 'ゔぇ',
  vyo: 'ゔょ',
  ka: 'か',
  ki: 'き',
  ku: 'く',
  ke: 'け',
  ko: 'こ',
  lka: 'ヵ',
  lke: 'ヶ',
  xka: 'ヵ',
  xke: 'ヶ',
  kya: 'きゃ',
  kyi: 'きぃ',
  kyu: 'きゅ',
  kye: 'きぇ',
  kyo: 'きょ',
  ca: 'か',
  ci: 'き',
  cu: 'く',
  ce: 'け',
  co: 'こ',
  lca: 'ヵ',
  lce: 'ヶ',
  xca: 'ヵ',
  xce: 'ヶ',
  qya: 'くゃ',
  qyu: 'くゅ',
  qyo: 'くょ',
  qwa: 'くぁ',
  qwi: 'くぃ',
  qwu: 'くぅ',
  qwe: 'くぇ',
  qwo: 'くぉ',
  qa: 'くぁ',
  qi: 'くぃ',
  qe: 'くぇ',
  qo: 'くぉ',
  kwa: 'くぁ',
  qyi: 'くぃ',
  qye: 'くぇ',
  ga: 'が',
  gi: 'ぎ',
  gu: 'ぐ',
  ge: 'げ',
  go: 'ご',
  gya: 'ぎゃ',
  gyi: 'ぎぃ',
  gyu: 'ぎゅ',
  gye: 'ぎぇ',
  gyo: 'ぎょ',
  gwa: 'ぐぁ',
  gwi: 'ぐぃ',
  gwu: 'ぐぅ',
  gwe: 'ぐぇ',
  gwo: 'ぐぉ',
  sa: 'さ',
  si: 'し',
  shi: 'し',
  su: 'す',
  se: 'せ',
  so: 'そ',
  za: 'ざ',
  zi: 'じ',
  zu: 'ず',
  ze: 'ぜ',
  zo: 'ぞ',
  ji: 'じ',
  sya: 'しゃ',
  syi: 'しぃ',
  syu: 'しゅ',
  sye: 'しぇ',
  syo: 'しょ',
  sha: 'しゃ',
  shu: 'しゅ',
  she: 'しぇ',
  sho: 'しょ',
  shya: 'しゃ',
  shyu: 'しゅ',
  shye: 'しぇ',
  shyo: 'しょ',
  swa: 'すぁ',
  swi: 'すぃ',
  swu: 'すぅ',
  swe: 'すぇ',
  swo: 'すぉ',
  zya: 'じゃ',
  zyi: 'じぃ',
  zyu: 'じゅ',
  zye: 'じぇ',
  zyo: 'じょ',
  ja: 'じゃ',
  ju: 'じゅ',
  je: 'じぇ',
  jo: 'じょ',
  jya: 'じゃ',
  jyi: 'じぃ',
  jyu: 'じゅ',
  jye: 'じぇ',
  jyo: 'じょ',
  ta: 'た',
  ti: 'ち',
  tu: 'つ',
  te: 'て',
  to: 'と',
  chi: 'ち',
  tsu: 'つ',
  ltu: 'っ',
  xtu: 'っ',
  tya: 'ちゃ',
  tyi: 'ちぃ',
  tyu: 'ちゅ',
  tye: 'ちぇ',
  tyo: 'ちょ',
  cha: 'ちゃ',
  chu: 'ちゅ',
  che: 'ちぇ',
  cho: 'ちょ',
  cya: 'ちゃ',
  cyi: 'ちぃ',
  cyu: 'ちゅ',
  cye: 'ちぇ',
  cyo: 'ちょ',
  chya: 'ちゃ',
  chyu: 'ちゅ',
  chye: 'ちぇ',
  chyo: 'ちょ',
  tsa: 'つぁ',
  tsi: 'つぃ',
  tse: 'つぇ',
  tso: 'つぉ',
  tha: 'てゃ',
  thi: 'てぃ',
  thu: 'てゅ',
  the: 'てぇ',
  tho: 'てょ',
  twa: 'とぁ',
  twi: 'とぃ',
  twu: 'とぅ',
  twe: 'とぇ',
  two: 'とぉ',
  da: 'だ',
  di: 'ぢ',
  du: 'づ',
  de: 'で',
  "do": 'ど',
  dya: 'ぢゃ',
  dyi: 'ぢぃ',
  dyu: 'ぢゅ',
  dye: 'ぢぇ',
  dyo: 'ぢょ',
  dha: 'でゃ',
  dhi: 'でぃ',
  dhu: 'でゅ',
  dhe: 'でぇ',
  dho: 'でょ',
  dwa: 'どぁ',
  dwi: 'どぃ',
  dwu: 'どぅ',
  dwe: 'どぇ',
  dwo: 'どぉ',
  na: 'な',
  ni: 'に',
  nu: 'ぬ',
  ne: 'ね',
  no: 'の',
  nya: 'にゃ',
  nyi: 'にぃ',
  nyu: 'にゅ',
  nye: 'にぇ',
  nyo: 'にょ',
  ha: 'は',
  hi: 'ひ',
  hu: 'ふ',
  he: 'へ',
  ho: 'ほ',
  fu: 'ふ',
  hya: 'ひゃ',
  hyi: 'ひぃ',
  hyu: 'ひゅ',
  hye: 'ひぇ',
  hyo: 'ひょ',
  fya: 'ふゃ',
  fyu: 'ふゅ',
  fyo: 'ふょ',
  fwa: 'ふぁ',
  fwi: 'ふぃ',
  fwu: 'ふぅ',
  fwe: 'ふぇ',
  fwo: 'ふぉ',
  fa: 'ふぁ',
  fi: 'ふぃ',
  fe: 'ふぇ',
  fo: 'ふぉ',
  fyi: 'ふぃ',
  fye: 'ふぇ',
  ba: 'ば',
  bi: 'び',
  bu: 'ぶ',
  be: 'べ',
  bo: 'ぼ',
  bya: 'びゃ',
  byi: 'びぃ',
  byu: 'びゅ',
  bye: 'びぇ',
  byo: 'びょ',
  pa: 'ぱ',
  pi: 'ぴ',
  pu: 'ぷ',
  pe: 'ぺ',
  po: 'ぽ',
  pya: 'ぴゃ',
  pyi: 'ぴぃ',
  pyu: 'ぴゅ',
  pye: 'ぴぇ',
  pyo: 'ぴょ',
  ma: 'ま',
  mi: 'み',
  mu: 'む',
  me: 'め',
  mo: 'も',
  mya: 'みゃ',
  myi: 'みぃ',
  myu: 'みゅ',
  mye: 'みぇ',
  myo: 'みょ',
  ya: 'や',
  yu: 'ゆ',
  yo: 'よ',
  xya: 'ゃ',
  xyu: 'ゅ',
  xyo: 'ょ',
  ra: 'ら',
  ri: 'り',
  ru: 'る',
  re: 'れ',
  ro: 'ろ',
  rya: 'りゃ',
  ryi: 'りぃ',
  ryu: 'りゅ',
  rye: 'りぇ',
  ryo: 'りょ',
  la: 'ら',
  li: 'り',
  lu: 'る',
  le: 'れ',
  lo: 'ろ',
  lya: 'りゃ',
  lyi: 'りぃ',
  lyu: 'りゅ',
  lye: 'りぇ',
  lyo: 'りょ',
  wa: 'わ',
  wo: 'を',
  lwe: 'ゎ',
  xwa: 'ゎ',
  n: 'ん',
  nn: 'ん',
  'n ': 'ん',
  xn: 'ん',
  ltsu: 'っ'
};

wanakana.FOUR_CHARACTER_EDGE_CASES = ['lts', 'chy', 'shy'];

wanakana.J_to_R = {
  あ: 'a',
  い: 'i',
  う: 'u',
  え: 'e',
  お: 'o',
  ゔぁ: 'va',
  ゔぃ: 'vi',
  ゔ: 'vu',
  ゔぇ: 've',
  ゔぉ: 'vo',
  か: 'ka',
  き: 'ki',
  きゃ: 'kya',
  きぃ: 'kyi',
  きゅ: 'kyu',
  く: 'ku',
  け: 'ke',
  こ: 'ko',
  が: 'ga',
  ぎ: 'gi',
  ぐ: 'gu',
  げ: 'ge',
  ご: 'go',
  ぎゃ: 'gya',
  ぎぃ: 'gyi',
  ぎゅ: 'gyu',
  ぎぇ: 'gye',
  ぎょ: 'gyo',
  さ: 'sa',
  す: 'su',
  せ: 'se',
  そ: 'so',
  ざ: 'za',
  ず: 'zu',
  ぜ: 'ze',
  ぞ: 'zo',
  し: 'shi',
  しゃ: 'sha',
  しゅ: 'shu',
  しょ: 'sho',
  じ: 'ji',
  じゃ: 'ja',
  じゅ: 'ju',
  じょ: 'jo',
  た: 'ta',
  ち: 'chi',
  ちゃ: 'cha',
  ちゅ: 'chu',
  ちょ: 'cho',
  つ: 'tsu',
  て: 'te',
  と: 'to',
  だ: 'da',
  ぢ: 'di',
  づ: 'du',
  で: 'de',
  ど: 'do',
  な: 'na',
  に: 'ni',
  にゃ: 'nya',
  にゅ: 'nyu',
  にょ: 'nyo',
  ぬ: 'nu',
  ね: 'ne',
  の: 'no',
  は: 'ha',
  ひ: 'hi',
  ふ: 'fu',
  へ: 'he',
  ほ: 'ho',
  ひゃ: 'hya',
  ひゅ: 'hyu',
  ひょ: 'hyo',
  ふぁ: 'fa',
  ふぃ: 'fi',
  ふぇ: 'fe',
  ふぉ: 'fo',
  ば: 'ba',
  び: 'bi',
  ぶ: 'bu',
  べ: 'be',
  ぼ: 'bo',
  びゃ: 'bya',
  びゅ: 'byu',
  びょ: 'byo',
  ぱ: 'pa',
  ぴ: 'pi',
  ぷ: 'pu',
  ぺ: 'pe',
  ぽ: 'po',
  ぴゃ: 'pya',
  ぴゅ: 'pyu',
  ぴょ: 'pyo',
  ま: 'ma',
  み: 'mi',
  む: 'mu',
  め: 'me',
  も: 'mo',
  みゃ: 'mya',
  みゅ: 'myu',
  みょ: 'myo',
  や: 'ya',
  ゆ: 'yu',
  よ: 'yo',
  ら: 'ra',
  り: 'ri',
  る: 'ru',
  れ: 're',
  ろ: 'ro',
  りゃ: 'rya',
  りゅ: 'ryu',
  りょ: 'ryo',
  わ: 'wa',
  を: 'wo',
  ん: 'n',
  ゐ: 'wi',
  ゑ: 'we',
  きぇ: 'kye',
  きょ: 'kyo',
  じぃ: 'jyi',
  じぇ: 'jye',
  ちぃ: 'cyi',
  ちぇ: 'che',
  ひぃ: 'hyi',
  ひぇ: 'hye',
  びぃ: 'byi',
  びぇ: 'bye',
  ぴぃ: 'pyi',
  ぴぇ: 'pye',
  みぇ: 'mye',
  みぃ: 'myi',
  りぃ: 'ryi',
  りぇ: 'rye',
  にぃ: 'nyi',
  にぇ: 'nye',
  しぃ: 'syi',
  しぇ: 'she',
  いぇ: 'ye',
  うぁ: 'wha',
  うぉ: 'who',
  うぃ: 'wi',
  うぇ: 'we',
  ゔゃ: 'vya',
  ゔゅ: 'vyu',
  ゔょ: 'vyo',
  すぁ: 'swa',
  すぃ: 'swi',
  すぅ: 'swu',
  すぇ: 'swe',
  すぉ: 'swo',
  くゃ: 'qya',
  くゅ: 'qyu',
  くょ: 'qyo',
  くぁ: 'qwa',
  くぃ: 'qwi',
  くぅ: 'qwu',
  くぇ: 'qwe',
  くぉ: 'qwo',
  ぐぁ: 'gwa',
  ぐぃ: 'gwi',
  ぐぅ: 'gwu',
  ぐぇ: 'gwe',
  ぐぉ: 'gwo',
  つぁ: 'tsa',
  つぃ: 'tsi',
  つぇ: 'tse',
  つぉ: 'tso',
  てゃ: 'tha',
  てぃ: 'thi',
  てゅ: 'thu',
  てぇ: 'the',
  てょ: 'tho',
  とぁ: 'twa',
  とぃ: 'twi',
  とぅ: 'twu',
  とぇ: 'twe',
  とぉ: 'two',
  ぢゃ: 'dya',
  ぢぃ: 'dyi',
  ぢゅ: 'dyu',
  ぢぇ: 'dye',
  ぢょ: 'dyo',
  でゃ: 'dha',
  でぃ: 'dhi',
  でゅ: 'dhu',
  でぇ: 'dhe',
  でょ: 'dho',
  どぁ: 'dwa',
  どぃ: 'dwi',
  どぅ: 'dwu',
  どぇ: 'dwe',
  どぉ: 'dwo',
  ふぅ: 'fwu',
  ふゃ: 'fya',
  ふゅ: 'fyu',
  ふょ: 'fyo',
  ぁ: 'a',
  ぃ: 'i',
  ぇ: 'e',
  ぅ: 'u',
  ぉ: 'o',
  ゃ: 'ya',
  ゅ: 'yu',
  ょ: 'yo',
  っ: '',
  ゕ: 'ka',
  ゖ: 'ka',
  ゎ: 'wa',
  '　': ' ',
  んあ: 'n\'a',
  んい: 'n\'i',
  んう: 'n\'u',
  んえ: 'n\'e',
  んお: 'n\'o',
  んや: 'n\'ya',
  んゆ: 'n\'yu',
  んよ: 'n\'yo'
};

module.exports = wanakana;

},{}],13:[function(require,module,exports){
"use strict";

var wanakana = require("../lib/wanakana.js");

var QuizController = function($rootScope, Progression, ConjugationService) {
	
	var vm = this;

    var progression = new Progression.Sequence(ConjugationService.all(), 3);

	angular.extend(vm, {

        questions : progression,
        answered : false,
        state : "",
        userInput : "",

        attempt : function() {

            if(vm.questions.getCurrent().ime) {
                vm.userInput = wanakana.toKana(vm.userInput);
            }

            if(vm.checkAnswer(vm.userInput)){
                vm.state = "has-success";
                vm.answered = true;
            } else {
                vm.state = "has-error";
                vm.answered = true;
            }

        },

        next : function() {

            if(vm.questions.next()){

                vm.answered = false;
                vm.state = "";
                vm.userInput = "";

            } else {

                vm.quizFinished();

            }

        },

        checkAnswer : function(ans) {
            return ConjugationService.checkAnswer(
                vm.questions.getCurrent(), 
                vm.userInput
            );
        },

        getCurrent : function() {
            return vm.questions.getCurrent();
        },

        quizFinished : function() {
            $rootScope.$emit("slide-finished");
        }

    });

    $rootScope.finished = true;

};

angular.module("app.quiz").controller("QuizController", QuizController);

module.exports = QuizController;
},{"../lib/wanakana.js":12}],14:[function(require,module,exports){
"use strict";

var QuizDirective = function() {

    return {
        restrict: "AC",
        templateUrl: '/static/partials/quiz.html'
    }

};

angular.module("app.quiz").directive("ngQuiz", QuizDirective);

module.exports = QuizDirective;
},{}],15:[function(require,module,exports){
angular.module("app.quiz", []);

module.exports.QuizController = require("./controller");
module.exports.QuizDirective = require("./directive");
module.exports.Progression = require("./progression");

},{"./controller":13,"./directive":14,"./progression":16}],16:[function(require,module,exports){
"use strict";

var Progression = function() {

    this.Sequence = function(array, maxQuestions) {

        this.ind = array.length-1;
        this.current = array[array.length-1];
        this.items = array;
        this.count = 0;
        this.max = typeof maxQuestions !== 'undefined' ? maxQuestions : -1;

        this.getCurrent = function() {
            return this.current;
        }

        this.next = function() {

            // if we've reached the end of the progression, return false

            if(this.count == this.max){
                return false;
            }

            // if only one question then we
            // can't get another one.

            if(this.items.length == 1){
                return;
            }

            // items at end of array more likely to be picked
            // than those at the beginning of the array
            
            var ind = this.ind;
            
            // loop until we pick a question different than our current one
            
            while(ind == this.ind) {
                var y = Math.random()*(Math.pow(this.items.length, 2));
                var x = Math.sqrt(y);
                ind   = Math.trunc(x);
            }

            var next  = this.items[ind];

            this.ind = ind;
            this.current = next;
            this.count += 1;

            return true;
            
        };
            
        this.up = function() {

            // user answered the question correctly,
            // shift item left.
            
            if(this.ind == 0){
                return;
            }
            
            var t = this.items[this.ind-1];
            this.items[this.ind-1] = this.items[this.ind];
            this.items[this.ind] = t;
            
        };
            
        this.down = function(i) {
            
            // user answered the question incorrectly,
            // shift item right.
            
            if(this.ind == this.items.length){
                return;
            }
            
            var t = this.items[this.ind+1];
            this.items[this.ind+1] = this.items[this.ind];
            this.items[this.ind] = t;
            
        };

    }

};

angular.module("app.quiz").service("Progression", Progression);

module.exports = Progression;

},{}],17:[function(require,module,exports){
"use strict";

var SlideController = function($rootScope) {

    var vm = this;

    angular.extend(vm, {

        currentSlide : 1,

        isShown : function(n) {
            return n == vm.currentSlide;
        },

        moveToNextSlide : function() {
            vm.currentSlide += 1;
        }

    });

    $rootScope.$on("slide-finished", function(){
        vm.moveToNextSlide();
    })

    $rootScope.finished = true;

};

angular.module("app.slides").controller("SlideController", SlideController);
},{}],18:[function(require,module,exports){
angular.module("app.slides", []);

module.exports.SlideController = require("./controller");

},{"./controller":17}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Vzci9sb2NhbC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInN0YXRpYy9qcy9hcHAuanMiLCJzdGF0aWMvanMvZGF0YXNvdXJjZXMvY29uanVnYXRpb24uanMiLCJzdGF0aWMvanMvZGF0YXNvdXJjZXMvaW5kZXguanMiLCJzdGF0aWMvanMvZGF0YXNvdXJjZXMvcGFydGljbGVzLmpzIiwic3RhdGljL2pzL2ltZS9kaXJlY3RpdmVzLmpzIiwic3RhdGljL2pzL2ltZS9pbmRleC5qcyIsInN0YXRpYy9qcy9saWIvYW5ndWxhci1hbmltYXRlLm1pbi5qcyIsInN0YXRpYy9qcy9saWIvYW5ndWxhci1tb2Nrcy5qcyIsInN0YXRpYy9qcy9saWIvYW5ndWxhci1yb3V0ZS5taW4uanMiLCJzdGF0aWMvanMvbGliL2FuZ3VsYXItc2FuaXRpemUubWluLmpzIiwic3RhdGljL2pzL2xpYi9hbmd1bGFyLm1pbi5qcyIsInN0YXRpYy9qcy9saWIvd2FuYWthbmEuanMiLCJzdGF0aWMvanMvcXVpei9jb250cm9sbGVyLmpzIiwic3RhdGljL2pzL3F1aXovZGlyZWN0aXZlLmpzIiwic3RhdGljL2pzL3F1aXovaW5kZXguanMiLCJzdGF0aWMvanMvcXVpei9wcm9ncmVzc2lvbi5qcyIsInN0YXRpYy9qcy9zbGlkZXMvY29udHJvbGxlci5qcyIsInN0YXRpYy9qcy9zbGlkZXMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxeEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDblRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1NEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVCQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcbi8vIDNyZCBwYXJ0eSBsaWJzXG5cbnJlcXVpcmUoXCIuL2xpYi9hbmd1bGFyLm1pbi5qc1wiKTtcbnJlcXVpcmUoXCIuL2xpYi9hbmd1bGFyLXNhbml0aXplLm1pbi5qc1wiKTtcbnJlcXVpcmUoXCIuL2xpYi9hbmd1bGFyLWFuaW1hdGUubWluLmpzXCIpO1xucmVxdWlyZShcIi4vbGliL2FuZ3VsYXItYW5pbWF0ZS5taW4uanNcIik7XG5yZXF1aXJlKFwiLi9saWIvYW5ndWxhci1yb3V0ZS5taW4uanNcIik7XG5yZXF1aXJlKFwiLi9saWIvYW5ndWxhci1tb2Nrcy5qc1wiKTtcblxuLy8gbWFpbiBhcHBsaWNhdGlvbiBpbXBvcnRzXG5cbnJlcXVpcmUoXCIuL3NsaWRlc1wiKTtcbnJlcXVpcmUoXCIuL3F1aXpcIik7XG5yZXF1aXJlKFwiLi9kYXRhc291cmNlc1wiKTtcbnJlcXVpcmUoXCIuL2ltZVwiKTtcblxuLy8gYW5ndWxhciBzdGFydHVwXG5cbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZShcInF1aXp6ZXJcIiwgW1xuICAgIFwibmdBbmltYXRlXCIsXG4gICAgXCJuZ1Nhbml0aXplXCIsXG4gICAgXCJuZ1JvdXRlXCIsXG4gICAgXCJhcHAucXVpelwiLFxuICAgIFwiYXBwLnNsaWRlc1wiLFxuICAgIFwiYXBwLnNvdXJjZXNcIixcbiAgICBcImFwcC5pbWVcIlxuXSk7XG5cbnZhciBjb25maWcgPSBmdW5jdGlvbigkaW50ZXJwb2xhdGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIsICRyb3V0ZVByb3ZpZGVyKSB7XG5cbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbCgneyQnKTtcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2woJyR9Jyk7XG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuXG4gICAgJHJvdXRlUHJvdmlkZXIud2hlbihcIi9jb25qdWdhdGlvblwiLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsIDogXCIvc3RhdGljL3BhcnRpYWxzL2Nvbmp1Z2F0aW9uLmh0bWxcIixcbiAgICAgICAgY29udHJvbGxlciA6IFwiU2xpZGVDb250cm9sbGVyXCIsXG4gICAgICAgIGNvbnRyb2xsZXJBcyA6IFwic2xpZGVzXCJcbiAgICB9KTtcblxufVxuXG5hcHAuY29uZmlnKGNvbmZpZyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuXG4vLyBnaXZlbiBhIHN0cmluZyBhLCBhbmQgYSBzdHJpbmcgdHJhbnNmb3JtLCByZXR1cm5zIHRoZSB0cmFuc2Zvcm1lZCBhLlxuLy8gZXhhbXBsZSB0cmFuc2Zvcm1zIDogXCJhPmJcIiwgXCJhPmIsYj5jXCIsIFwiPmFcIiwgXCJhPlwiLCBcImE+YnxiPmNcIlxuXG4vLyBXaHkgbm90IHJlZ2V4PyBCZWNhdXNlIEkgYWxzbyBuZWVkIHRvIHByZXNlbnQgdGhlIHRyYW5zZm9ybWF0aW9ucyB0b1xuLy8gbGF5bWVuIHVzZXJzIGFzIGEgZ3VpZGUgb24gaG93IGl0IHdhcyBtZWNoYW5pY2FsbCBjb25qdWdhdGVkLlxuXG52YXIgVCA9IGZ1bmN0aW9uKHcsIHQpIHtcblxuICAgIHZhciBzZWdzICA9IHQuc3BsaXQoXCJ8XCIpO1xuXG4gICAgLy8gZm9yIGVhY2ggfCBkZWxpbWl0ZWQgcGFydFxuXG4gICAgZm9yKHZhciBzID0gMDsgcyA8IHNlZ3MubGVuZ3RoOyBzKyspIHtcblxuICAgICAgICB2YXIgcGFydHMgPSBzZWdzW3NdLnNwbGl0KFwiLFwiKTtcblxuICAgICAgICAvLyBmb3IgZWFjaCAsIGRlbGltaXRlZCBwYXJ0XG5cbiAgICAgICAgZm9yKHZhciBwID0gMDsgcCA8IHBhcnRzLmxlbmd0aDsgcCsrKSB7XG5cbiAgICAgICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgb3BlciA9IHBhcnRzW3BdO1xuXG4gICAgICAgICAgICAvLyBwZXJmb3JtIHRoZSA+IG9wZXJhdGlvblxuXG4gICAgICAgICAgICBpZihvcGVyLmNvbnRhaW5zKFwiPlwiKSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGJlZnIgPSBvcGVyLnNwbGl0KFwiPlwiKVswXTtcbiAgICAgICAgICAgICAgICB2YXIgYWZ0ciA9IG9wZXIuc3BsaXQoXCI+XCIpWzFdO1xuXG4gICAgICAgICAgICAgICAgaWYody5lbmRzV2l0aChiZWZyKSl7XG4gICAgICAgICAgICAgICAgICAgIHcgPSB3LnN1YnN0cmluZygwLCB3Lmxlbmd0aCAtIGJlZnIubGVuZ3RoKSArIGFmdHI7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBicmVhayBhZnRlciB0aGUgZmlyc3QgY2hhbmdlXG5cbiAgICAgICAgICAgIGlmKGNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICByZXR1cm4gdztcblxufVxuXG4vLyB0aGUgY29uanVnYXRpb25zXG5cbnZhciBnb2Rhbl9jb25qdWdhdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgXG4gICAgdGhpcy5kaWN0ID0gXCJcIixcbiAgICB0aGlzLnN0ZW0gPSBcInU+XCIsXG4gICAgdGhpcy50YSAgID0gXCJudT5uZGEsbXU+bmRhLGJ1Pm5kYSxydT50dGEsdT50dGEsdHN1PnR0YSxrdT5pdGEsZ3U+aWRhLHN1PnNoaXRhXCIsXG4gICAgdGhpcy50ZSAgID0gXCJudT5uZGUsbXU+bmRlLGJ1Pm5kZSxydT50dGUsdT50dGUsdHN1PnR0ZSxrdT5pdGUsZ3U+aWRlLHN1PnNoaXRlXCIsXG5cbiAgICB0aGlzLmluZGljYXRpdmUgPSB7XG5cbiAgICAgICAgcHJlc2VudCA6IHtcbiAgICAgICAgICAgIHBvc2l0aXZlIDogeyBwbGFpbiA6IFwiXCIsIGZvcm1hbCA6IFwidT5pbWFzdVwiIH0sXG4gICAgICAgICAgICBuZWdhdGl2ZSA6IHsgcGxhaW4gOiBcInU+YW5haVwiLCBmb3JtYWwgOiBcInU+aW1hc2VuXCIgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHBhc3QgOiB7XG4gICAgICAgICAgICBwb3NpdGl2ZSA6IHsgcGxhaW4gOiB0aGlzLnRhLCBmb3JtYWwgOiBcInU+aW1hc2hpdGFcIiB9LFxuICAgICAgICAgICAgbmVnYXRpdmUgOiB7IHBsYWluIDogXCJ1PmFuYWthdHRhXCIsIGZvcm1hbCA6IFwidT5pbWFzZW4gZGVzaGl0YVwiIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHRoaXMucG90ZW50aWFsID0ge1xuXG4gICAgICAgIHByZXNlbnQgOiB7XG4gICAgICAgICAgICBwb3NpdGl2ZSA6IHsgcGxhaW4gOiBcInU+ZXJ1XCIsIGZvcm1hbCA6IFwidT5lbWFzdVwiIH0sXG4gICAgICAgICAgICBuZWdhdGl2ZSA6IHsgcGxhaW4gOiBcInU+ZW5haVwiLCBmb3JtYWwgOiBcInU+ZW1hc2VuXCIgfVxuICAgICAgICB9XG5cbiAgICB9OyBcblxuICAgIHRoaXMuY2F1c2F0aXZlID0ge1xuXG4gICAgICAgIHByZXNlbnQgOiB7XG4gICAgICAgICAgICBwb3NpdGl2ZSA6IHsgcGxhaW4gOiBcInU+YXNlcnVcIiwgZm9ybWFsIDogXCJ1PmFzZW1hc3VcIiB9LFxuICAgICAgICAgICAgbmVnYXRpdmUgOiB7IHBsYWluIDogXCJ1PmFzZW5haVwiLCBmb3JtYWwgOiBcInU+YXNlbWFzZW5cIiB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICB0aGlzLmltcGVyYXRpdmUgPSB7XG5cbiAgICAgICAgcHJlc2VudCA6IHtcbiAgICAgICAgICAgIHBvc2l0aXZlIDogeyBwbGFpbiA6IFwidT5lXCIsIGZvcm1hbCA6IHRoaXMudGUrXCJ8Pmt1ZGFzYWlcIiB9LFxuICAgICAgICAgICAgbmVnYXRpdmUgOiB7IHBsYWluIDogXCI+bmFcIiwgZm9ybWFsIDogXCJ1PmFuYWkga3VkYXNhaVwiIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHRoaXMucHJvZ3Jlc3NpdmUgPSB7XG5cbiAgICAgICAgcHJlc2VudCA6IHtcbiAgICAgICAgICAgIHBvc2l0aXZlIDogeyBwbGFpbiA6IHRoaXMudGUrXCJ8PmlydVwiLCBmb3JtYWwgOiB0aGlzLnRlK1wifD5pbWFzdVwiIH0sXG4gICAgICAgICAgICBuZWdhdGl2ZSA6IHsgcGxhaW4gOiBcIlwiLCBmb3JtYWwgOiB0aGlzLnRlK1wifD5pbWFzZW5cIiB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGFzdCA6IHtcbiAgICAgICAgICAgIHBvc2l0aXZlIDogeyBwbGFpbiA6IHRoaXMudGUrXCJ8Pml0YVwiLCBmb3JtYWwgOiB0aGlzLnRlK1wifD5pbWFzaGl0YVwiIH0sXG4gICAgICAgICAgICBuZWdhdGl2ZSA6IHsgcGxhaW4gOiBcIlwiLCBmb3JtYWwgOiB0aGlzLnRlK1wifD5pbWFzZW4gZGVzaGl0YVwiIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHRoaXMucHJlc3VtcHRpdmVfcHJvYmFibGUgPSB7XG5cbiAgICAgICAgcHJlc2VudCA6IHtcbiAgICAgICAgICAgIHBvc2l0aXZlIDogeyBwbGFpbiA6IFwiPiBkYXJvXCIsIGZvcm1hbCA6IFwiPiBkZXNob1wiIH0sXG4gICAgICAgICAgICBuZWdhdGl2ZSA6IHsgcGxhaW4gOiBcInU+YW5haXw+IGRhcm9cIiwgZm9ybWFsIDogXCJ1PmFuYWl8PiBkZXNob1wiIH1cbiAgICAgICAgfSxcblxuICAgICAgICBwYXN0IDoge1xuICAgICAgICAgICAgcG9zaXRpdmUgOiB7IHBsYWluIDogdGhpcy50YStcInw+IGRhcm9cIiwgZm9ybWFsIDogdGhpcy50YStcInw+IGRlc2hvXCJ9LFxuICAgICAgICAgICAgbmVnYXRpdmUgOiB7IHBsYWluIDogXCJ1PmFuYWthdHRhfD4gZGFyb1wiLCBmb3JtYWwgOiBcInU+YW5ha2F0dGF8PiBkZXNob1wiIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuXHR0aGlzLnByZXN1bXB0aXZlX2ludGVudCA9IHtcblxuICAgICAgICBwcmVzZW50IDoge1xuICAgICAgICAgICAgcG9zaXRpdmUgOiB7IHBsYWluIDogXCJ1Pm9cIiwgZm9ybWFsIDogXCJ1Pm1hc2hvXCIgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG59O1xuXG52YXIgaWNoaWRhbl9jb25qdWdhdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgXG4gICAgdGhpcy5kaWN0ID0gXCJcIixcbiAgICB0aGlzLnN0ZW0gPSBcInJ1PlwiLFxuICAgIHRoaXMudGEgICA9IFwicnU+dGFcIixcbiAgICB0aGlzLnRlICAgPSBcInJ1PnRlXCIsXG5cbiAgICB0aGlzLmluZGljYXRpdmUgPSB7XG5cbiAgICAgICAgcHJlc2VudCA6IHtcbiAgICAgICAgICAgIHBvc2l0aXZlIDogeyBwbGFpbiA6IFwiXCIsIGZvcm1hbCA6IFwicnU+bWFzdVwiIH0sXG4gICAgICAgICAgICBuZWdhdGl2ZSA6IHsgcGxhaW4gOiBcInJ1Pm5haVwiLCBmb3JtYWwgOiBcInJ1Pm1hc2VuXCIgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHBhc3QgOiB7XG4gICAgICAgICAgICBwb3NpdGl2ZSA6IHsgcGxhaW4gOiBcInJ1PnRhXCIsIGZvcm1hbCA6IFwicnU+bWFzaGl0YVwiIH0sXG4gICAgICAgICAgICBuZWdhdGl2ZSA6IHsgcGxhaW4gOiBcInJ1Pm5ha2F0dGFcIiwgZm9ybWFsIDogXCJydT5tYXNlbiBkZXNoaXRhXCIgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdGhpcy5wb3RlbnRpYWwgPSB7XG5cbiAgICAgICAgcHJlc2VudCA6IHtcbiAgICAgICAgICAgIHBvc2l0aXZlIDogeyBwbGFpbiA6IFwicnU+cmFyZXJ1XCIsIGZvcm1hbCA6IFwicnU+cmFyZW1hc3VcIiB9LFxuICAgICAgICAgICAgbmVnYXRpdmUgOiB7IHBsYWluIDogXCJydT5yYXJlbmFpXCIsIGZvcm1hbCA6IFwicnU+cmFyZW1hc2VuXCIgfVxuICAgICAgICB9XG5cbiAgICB9OyBcblxuICAgIHRoaXMuY2F1c2F0aXZlID0ge1xuXG4gICAgICAgIHByZXNlbnQgOiB7XG4gICAgICAgICAgICBwb3NpdGl2ZSA6IHsgcGxhaW4gOiBcInJ1PnNhc2VydVwiLCBmb3JtYWwgOiBcInJ1PnNhc2VtYXN1XCIgfSxcbiAgICAgICAgICAgIG5lZ2F0aXZlIDogeyBwbGFpbiA6IFwicnU+c2FzZW5haVwiLCBmb3JtYWwgOiBcInJ1PnNhc2VtYXNlblwiIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHRoaXMuaW1wZXJhdGl2ZSA9IHtcblxuICAgICAgICBwcmVzZW50IDoge1xuICAgICAgICAgICAgcG9zaXRpdmUgOiB7IHBsYWluIDogXCJydT5yb1wiLCBmb3JtYWwgOiBcInJ1PnRlfD5rdWRhc2FpXCIgfSxcbiAgICAgICAgICAgIG5lZ2F0aXZlIDogeyBwbGFpbiA6IFwiPm5hXCIsIGZvcm1hbCA6IFwicnU+bmFpfD5kZSBrdWRhc2FpXCIgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdGhpcy5wcm9ncmVzc2l2ZSA9IHtcblxuICAgICAgICBwcmVzZW50IDoge1xuICAgICAgICAgICAgcG9zaXRpdmUgOiB7IHBsYWluIDogXCJydT50ZXw+aXJ1XCIsIGZvcm1hbCA6IFwicnU+dGV8PmltYXN1XCIgfSxcbiAgICAgICAgICAgIG5lZ2F0aXZlIDogeyBwbGFpbiA6IFwiXCIsIGZvcm1hbCA6IFwicnU+dGV8PmltYXNlblwiIH1cbiAgICAgICAgfSxcblxuICAgICAgICBwYXN0IDoge1xuICAgICAgICAgICAgcG9zaXRpdmUgOiB7IHBsYWluIDogXCJydT50ZXw+aXRhXCIsIGZvcm1hbCA6IFwicnU+dGV8PmltYXNoaXRhXCIgfSxcbiAgICAgICAgICAgIG5lZ2F0aXZlIDogeyBwbGFpbiA6IFwiXCIsIGZvcm1hbCA6IFwicnU+dGV8PmltYXNlbiBkZXNoaXRhXCIgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdGhpcy5wcmVzdW1wdGl2ZV9wcm9iYWJsZSA9IHtcblxuICAgICAgICBwcmVzZW50IDoge1xuICAgICAgICAgICAgcG9zaXRpdmUgOiB7IHBsYWluIDogXCI+IGRhcm9cIiwgZm9ybWFsIDogXCJydT5uYWkgZGFyb1wiIH0sXG4gICAgICAgICAgICBuZWdhdGl2ZSA6IHsgcGxhaW4gOiBcIj4gZGVzaG9cIiwgZm9ybWFsIDogXCJydT5uYWkgZGVzaG9cIiB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGFzdCA6IHtcbiAgICAgICAgICAgIHBvc2l0aXZlIDogeyBwbGFpbiA6IFwicnU+dGF8PiBkYXJvXCIsIGZvcm1hbCA6IFwicnU+dGF8PiBkZXNob1wiIH0sXG4gICAgICAgICAgICBuZWdhdGl2ZSA6IHsgcGxhaW4gOiBcInJ1Pm5ha2F0dGF8PiBkYXJvXCIsIGZvcm1hbCA6IFwicnU+bmFrYXR0YXw+IGRlc2hvXCIgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdGhpcy5wcmVzdW1wdGl2ZV9pbnRlbnQgPSB7XG5cbiAgICAgICAgcHJlc2VudCA6IHtcbiAgICAgICAgICAgIHBvc2l0aXZlIDogeyBwbGFpbiA6IFwicnU+eW9cIiwgZm9ybWFsIDogXCJydT4gbWFzaG9cIiB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbn07XG5cbnZhciBDb25qdWdhdGlvblNlcnZpY2UgPSBmdW5jdGlvbigpIHtcblxuICAgIHJldHVybiB7XG5cbiAgICBcdGdvZGFuX2Nvbmp1Z2F0aW9ucyA6IG5ldyBnb2Rhbl9jb25qdWdhdGlvbnMoKSxcbiAgICAgICAgaWNoaWRhbl9jb25qdWdhdGlvbnMgOiBuZXcgaWNoaWRhbl9jb25qdWdhdGlvbnMoKSxcblxuICAgIFx0Y29uanVnYXRlIDogZnVuY3Rpb24odywgYykge1xuICAgIFx0XHRyZXR1cm4gVCh3LCBjKTtcbiAgICBcdH0sXG5cbiAgICAgICAgYWxsIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgICAgICBpdGVtIDogXCJIT0RPUj9cIixcbiAgICAgICAgICAgICAgICBxdWVzdGlvbiA6IFwiV2hhdCdzIHRoYXQgaG9kb3I/XCIsXG4gICAgICAgICAgICAgICAgYW5zd2VycyA6IFtcIkhPRE9SXCIsIFwiSE9ET1JcIiwgXCJIT0RPUlwiXSxcbiAgICAgICAgICAgICAgICBleHBsYW5hdGlvbiA6IFwiSE9ET1JcIixcbiAgICAgICAgICAgICAgICBleGFtcGxlIDogXCJIT0RPUlwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaXRlbSA6IFwiQlJPRE9SP1wiLFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uIDogXCJXaGF0J3MgdGhhdCBicm9kb3I/XCIsXG4gICAgICAgICAgICAgICAgYW5zd2VycyA6IFtcIkJST0RPUlwiXSxcbiAgICAgICAgICAgICAgICBleHBsYW5hdGlvbiA6IFwiQlJPRE9SXCIsXG4gICAgICAgICAgICAgICAgZXhhbXBsZSA6IFwiQlJPRE9SXCJcbiAgICAgICAgICAgIH1dO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoZWNrQW5zd2VyIDogZnVuY3Rpb24ocXVlc3Rpb24sIGFucykge1xuICAgICAgICAgICAgdmFyIG5vcm1hbGlzZWRBbnMgPSBhbnMucmVwbGFjZShcIiBcIiwgXCJcXFxcVypcIik7XG4gICAgICAgICAgICByZXR1cm4gcXVlc3Rpb24uYW5zd2Vycy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oZil7IHJldHVybiBmLm1hdGNoKG5vcm1hbGlzZWRBbnMpICE9PSBudWxsIH1cbiAgICAgICAgICAgICkubGVuZ3RoID4gMDtcbiAgICAgICAgfVxuICAgIH07XG5cbn07XG5cbmFuZ3VsYXIubW9kdWxlKFwiYXBwLnNvdXJjZXNcIikuZmFjdG9yeShcIkNvbmp1Z2F0aW9uU2VydmljZVwiLCBDb25qdWdhdGlvblNlcnZpY2UpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbmp1Z2F0aW9uU2VydmljZTtcbiIsIlxuYW5ndWxhci5tb2R1bGUoXCJhcHAuc291cmNlc1wiLCBbXSk7XG5cbm1vZHVsZS5leHBvcnRzLkNvbmp1Z2F0aW9uU2VydmljZSA9IHJlcXVpcmUoXCIuL2Nvbmp1Z2F0aW9uLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMuUGFydGljbGVTZXJ2aWNlID0gcmVxdWlyZShcIi4vcGFydGljbGVzLmpzXCIpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBQYXJ0aWNsZVNlcnZpY2UgPSBmdW5jdGlvbigpIHtcblxuICAgIHJldHVybiB7XG5cbiAgICAgICAgYWxsIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgICAgICBpdGVtIDogXCLjgatcIixcbiAgICAgICAgICAgICAgICBxdWVzdGlvbiA6IFwiV2hhdCdzIHRoYXQgcGFydGljbGU/XCIsXG4gICAgICAgICAgICAgICAgYW5zd2VycyA6IFtcInRpbWVcIiwgXCJkZXN0aW5hdGlvblwiLCBcImRpcmVjdGlvblwiXSxcbiAgICAgICAgICAgICAgICBleHBsYW5hdGlvbiA6IFwi44GrIGNhbiBiZSB0aG91Z2h0IG9mIGFzIHRoZSAndGFyZ2V0JyBvZiBhIHZlcmIuIEl0IGNhbiBjb21lIGFmdGVyIHRpbWUsIGRlc3RpbmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgZXhhbXBsZSA6IFwi44Gr44G744KTIDxzdHJvbmc+44GrPC9zdHJvbmc+IOOBhOOBjeOBvuOBmSAvIHdlbnQgdG8gSmFwYW5cIlxuICAgICAgICAgICAgfSx7XG4gICAgICAgICAgICAgICAgaXRlbSA6IFwi44GnXCIsXG4gICAgICAgICAgICAgICAgcXVlc3Rpb24gOiBcIldoYXQncyB0aGF0IHBhcnRpY2xlP1wiLFxuICAgICAgICAgICAgICAgIGFuc3dlcnMgOiBbXCJwbGFjZVwiLCBcImF0XCIsIFwiYnkgd2F5IG9mXCJdLFxuICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uIDogXCLjgacgZGVub3RlcyB0aGUgJ2hvdycgb3IgJ3doZXJlJyBvZiBhIHZlcmJcIixcbiAgICAgICAgICAgICAgICBleGFtcGxlIDogXCLjgY/jgovjgb4gPHN0cm9uZz7jgac8L3N0cm9uZz4g44GE44GN44G+44GZIC8gdG8gZ28gYnkgY2FyXCJcbiAgICAgICAgICAgIH0se1xuICAgICAgICAgICAgICAgIGl0ZW0gOiBcIuOBr1wiLFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uIDogXCJXaGF0J3MgdGhhdCBwYXJ0aWNsZT9cIixcbiAgICAgICAgICAgICAgICBhbnN3ZXJzIDogW1widG9waWMgbWFya2VyXCIsIFwidG9waWNcIl0sXG4gICAgICAgICAgICAgICAgZXhwbGFuYXRpb24gOiBcIuOBryBpcyB0aGUgVG9waWMgTWFya2VyLCBpdCBwbGFjZXMgZW1waGFzaXMgb24gd2hhdCBjYW1lIGJlZm9yZSBpdFwiLFxuICAgICAgICAgICAgICAgIGV4YW1wbGUgOiBcIueJmyA8c3Ryb25nPuOBrzwvc3Ryb25nPiDjgZ/jgbnjgb7jgZkgLyBJIGF0ZSB0aGUgY293XCJcbiAgICAgICAgICAgIH0se1xuICAgICAgICAgICAgICAgIGl0ZW0gOiBcIuOBq+OBu+OCkyA8c3BhbiBjbGFzcz0nbGlnaHQnPj88L3NwYW4+IOOBhOOBjeOBvuOBmVwiLFxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uIDogXCJXaGF0J3MgdGhhdCBwYXJ0aWNsZT9cIixcbiAgICAgICAgICAgICAgICBhbnN3ZXJzIDogW1wi44GrXCJdLFxuICAgICAgICAgICAgICAgIGV4cGxhbmF0aW9uIDogXCLjgasgY2FuIGJlIHRob3VnaHQgb2YgYXMgdGhlICd0YXJnZXQnIG9mIGEgdmVyYi4gSXQgY2FuIGNvbWUgYWZ0ZXIgdGltZSwgZGVzdGluYXRpb24sIGRpcmVjdGlvblwiLFxuICAgICAgICAgICAgICAgIGltZTogdHJ1ZVxuICAgICAgICAgICAgfV07XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hlY2tBbnN3ZXIgOiBmdW5jdGlvbihxdWVzdGlvbiwgYW5zKSB7XG4gICAgICAgICAgICB2YXIgbm9ybWFsaXNlZEFucyA9IGFucy5yZXBsYWNlKFwiIFwiLCBcIlxcXFxXKlwiKTtcbiAgICAgICAgICAgIHJldHVybiBxdWVzdGlvbi5hbnN3ZXJzLmZpbHRlcihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihmKXsgcmV0dXJuIGYubWF0Y2gobm9ybWFsaXNlZEFucykgIT09IG51bGwgfVxuICAgICAgICAgICAgKS5sZW5ndGggPiAwO1xuICAgICAgICB9XG5cbiAgICB9XG59O1xuXG5hbmd1bGFyLm1vZHVsZShcImFwcC5zb3VyY2VzXCIpLnNlcnZpY2UoXCJQYXJ0aWNsZVNlcnZpY2VcIiwgUGFydGljbGVTZXJ2aWNlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYXJ0aWNsZVNlcnZpY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHdhbmFrYW5hID0gcmVxdWlyZShcIi4uL2xpYi93YW5ha2FuYS5qc1wiKTtcblxudmFyIEltZURpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiQUNcIixcbiAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG5cbiAgICAgICAgICAgIGVsZW0uYmluZChcImtleXByZXNzXCIsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBpZihldmVudC53aGljaCA9PSAxMyl7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNjb3BlLnF1aXouYW5zd2VyZWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnF1aXoubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5xdWl6LmF0dGVtcHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChcInF1aXoucXVlc3Rpb25zLmN1cnJlbnRcIiwgZnVuY3Rpb24obiwgbyl7XG4gICAgICAgICAgICAgICAgd2FuYWthbmEudW5iaW5kKGVsZW1bMF0pO1xuICAgICAgICAgICAgICAgIGlmKHNjb3BlLmZpbmlzaGVkICYmIHNjb3BlLnF1aXoucXVlc3Rpb25zLmN1cnJlbnQuaW1lKXtcbiAgICAgICAgICAgICAgICAgICAgd2FuYWthbmEuYmluZChlbGVtWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmFuZ3VsYXIubW9kdWxlKFwiYXBwLmltZVwiKS5kaXJlY3RpdmUoXCJuZ0ltZVwiLCBJbWVEaXJlY3RpdmUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEltZURpcmVjdGl2ZTtcbiIsIlxuYW5ndWxhci5tb2R1bGUoXCJhcHAuaW1lXCIsIFtdKTtcblxubW9kdWxlLmV4cG9ydHMuSW1lRGlyZWN0aXZlID0gcmVxdWlyZShcIi4vZGlyZWN0aXZlcy5qc1wiKTtcbiIsIi8qXG4gQW5ndWxhckpTIHYxLjUuMFxuIChjKSAyMDEwLTIwMTYgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gTGljZW5zZTogTUlUXG4qL1xuKGZ1bmN0aW9uKEQscixWYSl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIHlhKGEsYixjKXtpZighYSl0aHJvdyBLYShcImFyZXFcIixifHxcIj9cIixjfHxcInJlcXVpcmVkXCIpO3JldHVybiBhfWZ1bmN0aW9uIHphKGEsYil7aWYoIWEmJiFiKXJldHVyblwiXCI7aWYoIWEpcmV0dXJuIGI7aWYoIWIpcmV0dXJuIGE7YmEoYSkmJihhPWEuam9pbihcIiBcIikpO2JhKGIpJiYoYj1iLmpvaW4oXCIgXCIpKTtyZXR1cm4gYStcIiBcIitifWZ1bmN0aW9uIExhKGEpe3ZhciBiPXt9O2EmJihhLnRvfHxhLmZyb20pJiYoYi50bz1hLnRvLGIuZnJvbT1hLmZyb20pO3JldHVybiBifWZ1bmN0aW9uIFgoYSxiLGMpe3ZhciBkPVwiXCI7YT1iYShhKT9hOmEmJlIoYSkmJmEubGVuZ3RoP2Euc3BsaXQoL1xccysvKTpbXTtzKGEsZnVuY3Rpb24oYSxnKXthJiYwPGEubGVuZ3RoJiYoZCs9MDxnP1wiIFwiOlwiXCIsZCs9Yz9iK2E6YStiKX0pO3JldHVybiBkfWZ1bmN0aW9uIE1hKGEpe2lmKGEgaW5zdGFuY2VvZiBJKXN3aXRjaChhLmxlbmd0aCl7Y2FzZSAwOnJldHVybltdO1xuY2FzZSAxOmlmKDE9PT1hWzBdLm5vZGVUeXBlKXJldHVybiBhO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIEkob2EoYSkpfWlmKDE9PT1hLm5vZGVUeXBlKXJldHVybiBJKGEpfWZ1bmN0aW9uIG9hKGEpe2lmKCFhWzBdKXJldHVybiBhO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2lmKDE9PWMubm9kZVR5cGUpcmV0dXJuIGN9fWZ1bmN0aW9uIE5hKGEsYixjKXtzKGIsZnVuY3Rpb24oYil7YS5hZGRDbGFzcyhiLGMpfSl9ZnVuY3Rpb24gT2EoYSxiLGMpe3MoYixmdW5jdGlvbihiKXthLnJlbW92ZUNsYXNzKGIsYyl9KX1mdW5jdGlvbiBVKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2MuYWRkQ2xhc3MmJihOYShhLGIsYy5hZGRDbGFzcyksYy5hZGRDbGFzcz1udWxsKTtjLnJlbW92ZUNsYXNzJiYoT2EoYSxiLGMucmVtb3ZlQ2xhc3MpLGMucmVtb3ZlQ2xhc3M9bnVsbCl9fWZ1bmN0aW9uIGthKGEpe2E9YXx8e307aWYoIWEuJCRwcmVwYXJlZCl7dmFyIGI9YS5kb21PcGVyYXRpb258fFxuUTthLmRvbU9wZXJhdGlvbj1mdW5jdGlvbigpe2EuJCRkb21PcGVyYXRpb25GaXJlZD0hMDtiKCk7Yj1RfTthLiQkcHJlcGFyZWQ9ITB9cmV0dXJuIGF9ZnVuY3Rpb24gZmEoYSxiKXtBYShhLGIpO0JhKGEsYil9ZnVuY3Rpb24gQWEoYSxiKXtiLmZyb20mJihhLmNzcyhiLmZyb20pLGIuZnJvbT1udWxsKX1mdW5jdGlvbiBCYShhLGIpe2IudG8mJihhLmNzcyhiLnRvKSxiLnRvPW51bGwpfWZ1bmN0aW9uIFYoYSxiLGMpe3ZhciBkPWIub3B0aW9uc3x8e307Yz1jLm9wdGlvbnN8fHt9O3ZhciBlPShkLmFkZENsYXNzfHxcIlwiKStcIiBcIisoYy5hZGRDbGFzc3x8XCJcIiksZz0oZC5yZW1vdmVDbGFzc3x8XCJcIikrXCIgXCIrKGMucmVtb3ZlQ2xhc3N8fFwiXCIpO2E9UGEoYS5hdHRyKFwiY2xhc3NcIiksZSxnKTtjLnByZXBhcmF0aW9uQ2xhc3NlcyYmKGQucHJlcGFyYXRpb25DbGFzc2VzPWNhKGMucHJlcGFyYXRpb25DbGFzc2VzLGQucHJlcGFyYXRpb25DbGFzc2VzKSxkZWxldGUgYy5wcmVwYXJhdGlvbkNsYXNzZXMpO1xuZT1kLmRvbU9wZXJhdGlvbiE9PVE/ZC5kb21PcGVyYXRpb246bnVsbDtDYShkLGMpO2UmJihkLmRvbU9wZXJhdGlvbj1lKTtkLmFkZENsYXNzPWEuYWRkQ2xhc3M/YS5hZGRDbGFzczpudWxsO2QucmVtb3ZlQ2xhc3M9YS5yZW1vdmVDbGFzcz9hLnJlbW92ZUNsYXNzOm51bGw7Yi5hZGRDbGFzcz1kLmFkZENsYXNzO2IucmVtb3ZlQ2xhc3M9ZC5yZW1vdmVDbGFzcztyZXR1cm4gZH1mdW5jdGlvbiBQYShhLGIsYyl7ZnVuY3Rpb24gZChhKXtSKGEpJiYoYT1hLnNwbGl0KFwiIFwiKSk7dmFyIGI9e307cyhhLGZ1bmN0aW9uKGEpe2EubGVuZ3RoJiYoYlthXT0hMCl9KTtyZXR1cm4gYn12YXIgZT17fTthPWQoYSk7Yj1kKGIpO3MoYixmdW5jdGlvbihhLGIpe2VbYl09MX0pO2M9ZChjKTtzKGMsZnVuY3Rpb24oYSxiKXtlW2JdPTE9PT1lW2JdP251bGw6LTF9KTt2YXIgZz17YWRkQ2xhc3M6XCJcIixyZW1vdmVDbGFzczpcIlwifTtzKGUsZnVuY3Rpb24oYixjKXt2YXIgZCxlOzE9PT1iPyhkPVwiYWRkQ2xhc3NcIixcbmU9IWFbY10pOi0xPT09YiYmKGQ9XCJyZW1vdmVDbGFzc1wiLGU9YVtjXSk7ZSYmKGdbZF0ubGVuZ3RoJiYoZ1tkXSs9XCIgXCIpLGdbZF0rPWMpfSk7cmV0dXJuIGd9ZnVuY3Rpb24gRyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIHIuZWxlbWVudD9hWzBdOmF9ZnVuY3Rpb24gUWEoYSxiLGMpe3ZhciBkPVwiXCI7YiYmKGQ9WChiLFwibmctXCIsITApKTtjLmFkZENsYXNzJiYoZD1jYShkLFgoYy5hZGRDbGFzcyxcIi1hZGRcIikpKTtjLnJlbW92ZUNsYXNzJiYoZD1jYShkLFgoYy5yZW1vdmVDbGFzcyxcIi1yZW1vdmVcIikpKTtkLmxlbmd0aCYmKGMucHJlcGFyYXRpb25DbGFzc2VzPWQsYS5hZGRDbGFzcyhkKSl9ZnVuY3Rpb24gbGEoYSxiKXt2YXIgYz1iP1wiLVwiK2IrXCJzXCI6XCJcIjtoYShhLFtpYSxjXSk7cmV0dXJuW2lhLGNdfWZ1bmN0aW9uIHBhKGEsYil7dmFyIGM9Yj9cInBhdXNlZFwiOlwiXCIsZD1ZK1wiUGxheVN0YXRlXCI7aGEoYSxbZCxjXSk7cmV0dXJuW2QsY119ZnVuY3Rpb24gaGEoYSxiKXthLnN0eWxlW2JbMF1dPVxuYlsxXX1mdW5jdGlvbiBjYShhLGIpe3JldHVybiBhP2I/YStcIiBcIitiOmE6Yn1mdW5jdGlvbiBEYShhLGIsYyl7dmFyIGQ9T2JqZWN0LmNyZWF0ZShudWxsKSxlPWEuZ2V0Q29tcHV0ZWRTdHlsZShiKXx8e307cyhjLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZVthXTtpZihjKXt2YXIgQz1jLmNoYXJBdCgwKTtpZihcIi1cIj09PUN8fFwiK1wiPT09Q3x8MDw9QyljPVJhKGMpOzA9PT1jJiYoYz1udWxsKTtkW2JdPWN9fSk7cmV0dXJuIGR9ZnVuY3Rpb24gUmEoYSl7dmFyIGI9MDthPWEuc3BsaXQoL1xccyosXFxzKi8pO3MoYSxmdW5jdGlvbihhKXtcInNcIj09YS5jaGFyQXQoYS5sZW5ndGgtMSkmJihhPWEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtMSkpO2E9cGFyc2VGbG9hdChhKXx8MDtiPWI/TWF0aC5tYXgoYSxiKTphfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gcWEoYSl7cmV0dXJuIDA9PT1hfHxudWxsIT1hfWZ1bmN0aW9uIEVhKGEsYil7dmFyIGM9UyxkPWErXCJzXCI7Yj9jKz1cIkR1cmF0aW9uXCI6ZCs9XCIgbGluZWFyIGFsbFwiO1xucmV0dXJuW2MsZF19ZnVuY3Rpb24gRmEoKXt2YXIgYT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybntmbHVzaDpmdW5jdGlvbigpe2E9T2JqZWN0LmNyZWF0ZShudWxsKX0sY291bnQ6ZnVuY3Rpb24oYil7cmV0dXJuKGI9YVtiXSk/Yi50b3RhbDowfSxnZXQ6ZnVuY3Rpb24oYil7cmV0dXJuKGI9YVtiXSkmJmIudmFsdWV9LHB1dDpmdW5jdGlvbihiLGMpe2FbYl0/YVtiXS50b3RhbCsrOmFbYl09e3RvdGFsOjEsdmFsdWU6Y319fX1mdW5jdGlvbiBHYShhLGIsYyl7cyhjLGZ1bmN0aW9uKGMpe2FbY109WihhW2NdKT9hW2NdOmIuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShjKX0pfXZhciBRPXIubm9vcCxIYT1yLmNvcHksQ2E9ci5leHRlbmQsST1yLmVsZW1lbnQscz1yLmZvckVhY2gsYmE9ci5pc0FycmF5LFI9ci5pc1N0cmluZyxyYT1yLmlzT2JqZWN0LFA9ci5pc1VuZGVmaW5lZCxaPXIuaXNEZWZpbmVkLElhPXIuaXNGdW5jdGlvbixzYT1yLmlzRWxlbWVudCxTLHRhLFksdWE7UChELm9udHJhbnNpdGlvbmVuZCkmJlxuWihELm9ud2Via2l0dHJhbnNpdGlvbmVuZCk/KFM9XCJXZWJraXRUcmFuc2l0aW9uXCIsdGE9XCJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmRcIik6KFM9XCJ0cmFuc2l0aW9uXCIsdGE9XCJ0cmFuc2l0aW9uZW5kXCIpO1AoRC5vbmFuaW1hdGlvbmVuZCkmJlooRC5vbndlYmtpdGFuaW1hdGlvbmVuZCk/KFk9XCJXZWJraXRBbmltYXRpb25cIix1YT1cIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmRcIik6KFk9XCJhbmltYXRpb25cIix1YT1cImFuaW1hdGlvbmVuZFwiKTt2YXIgbWE9WStcIkRlbGF5XCIsdmE9WStcIkR1cmF0aW9uXCIsaWE9UytcIkRlbGF5XCI7RD1TK1wiRHVyYXRpb25cIjt2YXIgS2E9ci4kJG1pbkVycihcIm5nXCIpLFNhPXt0cmFuc2l0aW9uRHVyYXRpb246RCx0cmFuc2l0aW9uRGVsYXk6aWEsdHJhbnNpdGlvblByb3BlcnR5OlMrXCJQcm9wZXJ0eVwiLGFuaW1hdGlvbkR1cmF0aW9uOnZhLGFuaW1hdGlvbkRlbGF5Om1hLGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OlkrXCJJdGVyYXRpb25Db3VudFwifSxcblRhPXt0cmFuc2l0aW9uRHVyYXRpb246RCx0cmFuc2l0aW9uRGVsYXk6aWEsYW5pbWF0aW9uRHVyYXRpb246dmEsYW5pbWF0aW9uRGVsYXk6bWF9O3IubW9kdWxlKFwibmdBbmltYXRlXCIsW10pLmRpcmVjdGl2ZShcIm5nQW5pbWF0ZVN3YXBcIixbXCIkYW5pbWF0ZVwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIsdGVybWluYWw6ITAscHJpb3JpdHk6NjAwLGxpbms6ZnVuY3Rpb24oYixkLGUsZyxIKXt2YXIgQSxDO2IuJHdhdGNoQ29sbGVjdGlvbihlLm5nQW5pbWF0ZVN3YXB8fGVbXCJmb3JcIl0sZnVuY3Rpb24oZSl7QSYmYS5sZWF2ZShBKTtDJiYoQy4kZGVzdHJveSgpLEM9bnVsbCk7aWYoZXx8MD09PWUpQz1iLiRuZXcoKSxIKEMsZnVuY3Rpb24oYil7QT1iO2EuZW50ZXIoYixudWxsLGQpfSl9KX19fV0pLmRpcmVjdGl2ZShcIm5nQW5pbWF0ZUNoaWxkcmVuXCIsW1wiJGludGVycG9sYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue2xpbms6ZnVuY3Rpb24oYixcbmMsZCl7ZnVuY3Rpb24gZShhKXtjLmRhdGEoXCIkJG5nQW5pbWF0ZUNoaWxkcmVuXCIsXCJvblwiPT09YXx8XCJ0cnVlXCI9PT1hKX12YXIgZz1kLm5nQW5pbWF0ZUNoaWxkcmVuO3IuaXNTdHJpbmcoZykmJjA9PT1nLmxlbmd0aD9jLmRhdGEoXCIkJG5nQW5pbWF0ZUNoaWxkcmVuXCIsITApOihlKGEoZykoYikpLGQuJG9ic2VydmUoXCJuZ0FuaW1hdGVDaGlsZHJlblwiLGUpKX19fV0pLmZhY3RvcnkoXCIkJHJBRlNjaGVkdWxlclwiLFtcIiQkckFGXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtkPWQuY29uY2F0KGEpO2MoKX1mdW5jdGlvbiBjKCl7aWYoZC5sZW5ndGgpe2Zvcih2YXIgYj1kLnNoaWZ0KCksSD0wO0g8Yi5sZW5ndGg7SCsrKWJbSF0oKTtlfHxhKGZ1bmN0aW9uKCl7ZXx8YygpfSl9fXZhciBkLGU7ZD1iLnF1ZXVlPVtdO2Iud2FpdFVudGlsUXVpZXQ9ZnVuY3Rpb24oYil7ZSYmZSgpO2U9YShmdW5jdGlvbigpe2U9bnVsbDtiKCk7YygpfSl9O3JldHVybiBifV0pLnByb3ZpZGVyKFwiJCRhbmltYXRlUXVldWVcIixcbltcIiRhbmltYXRlUHJvdmlkZXJcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2lmKCFhKXJldHVybiBudWxsO2E9YS5zcGxpdChcIiBcIik7dmFyIGI9T2JqZWN0LmNyZWF0ZShudWxsKTtzKGEsZnVuY3Rpb24oYSl7YlthXT0hMH0pO3JldHVybiBifWZ1bmN0aW9uIGMoYSxjKXtpZihhJiZjKXt2YXIgZD1iKGMpO3JldHVybiBhLnNwbGl0KFwiIFwiKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBkW2FdfSl9fWZ1bmN0aW9uIGQoYSxiLGMsZCl7cmV0dXJuIGdbYV0uc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYShiLGMsZCl9KX1mdW5jdGlvbiBlKGEsYil7dmFyIGM9MDwoYS5hZGRDbGFzc3x8XCJcIikubGVuZ3RoLGQ9MDwoYS5yZW1vdmVDbGFzc3x8XCJcIikubGVuZ3RoO3JldHVybiBiP2MmJmQ6Y3x8ZH12YXIgZz10aGlzLnJ1bGVzPXtza2lwOltdLGNhbmNlbDpbXSxqb2luOltdfTtnLmpvaW4ucHVzaChmdW5jdGlvbihhLGIsYyl7cmV0dXJuIWIuc3RydWN0dXJhbCYmZShiKX0pO2cuc2tpcC5wdXNoKGZ1bmN0aW9uKGEsXG5iLGMpe3JldHVybiFiLnN0cnVjdHVyYWwmJiFlKGIpfSk7Zy5za2lwLnB1c2goZnVuY3Rpb24oYSxiLGMpe3JldHVyblwibGVhdmVcIj09Yy5ldmVudCYmYi5zdHJ1Y3R1cmFsfSk7Zy5za2lwLnB1c2goZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjLnN0cnVjdHVyYWwmJjI9PT1jLnN0YXRlJiYhYi5zdHJ1Y3R1cmFsfSk7Zy5jYW5jZWwucHVzaChmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMuc3RydWN0dXJhbCYmYi5zdHJ1Y3R1cmFsfSk7Zy5jYW5jZWwucHVzaChmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDI9PT1jLnN0YXRlJiZiLnN0cnVjdHVyYWx9KTtnLmNhbmNlbC5wdXNoKGZ1bmN0aW9uKGEsYixkKXthPWIuYWRkQ2xhc3M7Yj1iLnJlbW92ZUNsYXNzO3ZhciBlPWQuYWRkQ2xhc3M7ZD1kLnJlbW92ZUNsYXNzO3JldHVybiBQKGEpJiZQKGIpfHxQKGUpJiZQKGQpPyExOmMoYSxkKXx8YyhiLGUpfSk7dGhpcy4kZ2V0PVtcIiQkckFGXCIsXCIkcm9vdFNjb3BlXCIsXCIkcm9vdEVsZW1lbnRcIixcIiRkb2N1bWVudFwiLFxuXCIkJEhhc2hNYXBcIixcIiQkYW5pbWF0aW9uXCIsXCIkJEFuaW1hdGVSdW5uZXJcIixcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiQkanFMaXRlXCIsXCIkJGZvcmNlUmVmbG93XCIsZnVuY3Rpb24oYixjLGcsbSxNLHIsdSxuYSx2LHope2Z1bmN0aW9uIEsoKXt2YXIgYT0hMTtyZXR1cm4gZnVuY3Rpb24oYil7YT9iKCk6Yy4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXthPSEwO2IoKX0pfX1mdW5jdGlvbiBKKGEsYixjKXt2YXIgZj1HKGIpLGQ9RyhhKSxoPVtdOyhhPXhbY10pJiZzKGEsZnVuY3Rpb24oYSl7eS5jYWxsKGEubm9kZSxmKT9oLnB1c2goYS5jYWxsYmFjayk6XCJsZWF2ZVwiPT09YyYmeS5jYWxsKGEubm9kZSxkKSYmaC5wdXNoKGEuY2FsbGJhY2spfSk7cmV0dXJuIGh9ZnVuY3Rpb24gaChhLGYsaCl7ZnVuY3Rpb24gbChjLGYsZCxoKXtnKGZ1bmN0aW9uKCl7dmFyIGM9Sih5LGEsZik7Yy5sZW5ndGgmJmIoZnVuY3Rpb24oKXtzKGMsZnVuY3Rpb24oYil7YihhLGQsaCl9KX0pfSk7Yy5wcm9ncmVzcyhmLFxuZCxoKX1mdW5jdGlvbiB4KGIpe3ZhciBjPWEsZj1uO2YucHJlcGFyYXRpb25DbGFzc2VzJiYoYy5yZW1vdmVDbGFzcyhmLnByZXBhcmF0aW9uQ2xhc3NlcyksZi5wcmVwYXJhdGlvbkNsYXNzZXM9bnVsbCk7Zi5hY3RpdmVDbGFzc2VzJiYoYy5yZW1vdmVDbGFzcyhmLmFjdGl2ZUNsYXNzZXMpLGYuYWN0aXZlQ2xhc3Nlcz1udWxsKTtKYShhLG4pO2ZhKGEsbik7bi5kb21PcGVyYXRpb24oKTtrLmNvbXBsZXRlKCFiKX12YXIgbj1IYShoKSx6LHk7aWYoYT1NYShhKSl6PUcoYSkseT1hLnBhcmVudCgpO3ZhciBuPWthKG4pLGs9bmV3IHUsZz1LKCk7YmEobi5hZGRDbGFzcykmJihuLmFkZENsYXNzPW4uYWRkQ2xhc3Muam9pbihcIiBcIikpO24uYWRkQ2xhc3MmJiFSKG4uYWRkQ2xhc3MpJiYobi5hZGRDbGFzcz1udWxsKTtiYShuLnJlbW92ZUNsYXNzKSYmKG4ucmVtb3ZlQ2xhc3M9bi5yZW1vdmVDbGFzcy5qb2luKFwiIFwiKSk7bi5yZW1vdmVDbGFzcyYmIVIobi5yZW1vdmVDbGFzcykmJihuLnJlbW92ZUNsYXNzPVxubnVsbCk7bi5mcm9tJiYhcmEobi5mcm9tKSYmKG4uZnJvbT1udWxsKTtuLnRvJiYhcmEobi50bykmJihuLnRvPW51bGwpO2lmKCF6KXJldHVybiB4KCksaztoPVt6LmNsYXNzTmFtZSxuLmFkZENsYXNzLG4ucmVtb3ZlQ2xhc3NdLmpvaW4oXCIgXCIpO2lmKCFVYShoKSlyZXR1cm4geCgpLGs7dmFyIEM9MDw9W1wiZW50ZXJcIixcIm1vdmVcIixcImxlYXZlXCJdLmluZGV4T2YoZiksdz0hTHx8bVswXS5oaWRkZW58fEUuZ2V0KHopO2g9IXcmJkIuZ2V0KHopfHx7fTt2YXIgdj0hIWguc3RhdGU7d3x8diYmMT09aC5zdGF0ZXx8KHc9IXEoYSx5LGYpKTtpZih3KXJldHVybiB4KCksaztDJiZ4YShhKTt3PXtzdHJ1Y3R1cmFsOkMsZWxlbWVudDphLGV2ZW50OmYsYWRkQ2xhc3M6bi5hZGRDbGFzcyxyZW1vdmVDbGFzczpuLnJlbW92ZUNsYXNzLGNsb3NlOngsb3B0aW9uczpuLHJ1bm5lcjprfTtpZih2KXtpZihkKFwic2tpcFwiLGEsdyxoKSl7aWYoMj09PWguc3RhdGUpcmV0dXJuIHgoKSxrO1YoYSxoLHcpO1xucmV0dXJuIGgucnVubmVyfWlmKGQoXCJjYW5jZWxcIixhLHcsaCkpaWYoMj09PWguc3RhdGUpaC5ydW5uZXIuZW5kKCk7ZWxzZSBpZihoLnN0cnVjdHVyYWwpaC5jbG9zZSgpO2Vsc2UgcmV0dXJuIFYoYSxoLHcpLGgucnVubmVyO2Vsc2UgaWYoZChcImpvaW5cIixhLHcsaCkpaWYoMj09PWguc3RhdGUpVihhLHcse30pO2Vsc2UgcmV0dXJuIFFhKGEsQz9mOm51bGwsbiksZj13LmV2ZW50PWguZXZlbnQsbj1WKGEsaCx3KSxoLnJ1bm5lcn1lbHNlIFYoYSx3LHt9KTsodj13LnN0cnVjdHVyYWwpfHwodj1cImFuaW1hdGVcIj09PXcuZXZlbnQmJjA8T2JqZWN0LmtleXMody5vcHRpb25zLnRvfHx7fSkubGVuZ3RofHxlKHcpKTtpZighdilyZXR1cm4geCgpLE4oYSksazt2YXIgTT0oaC5jb3VudGVyfHwwKSsxO3cuY291bnRlcj1NO3QoYSwxLHcpO2MuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7dmFyIGI9Qi5nZXQoeiksYz0hYixiPWJ8fHt9LGQ9MDwoYS5wYXJlbnQoKXx8W10pLmxlbmd0aCYmKFwiYW5pbWF0ZVwiPT09XG5iLmV2ZW50fHxiLnN0cnVjdHVyYWx8fGUoYikpO2lmKGN8fGIuY291bnRlciE9PU18fCFkKXtjJiYoSmEoYSxuKSxmYShhLG4pKTtpZihjfHxDJiZiLmV2ZW50IT09ZiluLmRvbU9wZXJhdGlvbigpLGsuZW5kKCk7ZHx8TihhKX1lbHNlIGY9IWIuc3RydWN0dXJhbCYmZShiLCEwKT9cInNldENsYXNzXCI6Yi5ldmVudCx0KGEsMiksYj1yKGEsZixiLm9wdGlvbnMpLGIuZG9uZShmdW5jdGlvbihiKXt4KCFiKTsoYj1CLmdldCh6KSkmJmIuY291bnRlcj09PU0mJk4oRyhhKSk7bChrLGYsXCJjbG9zZVwiLHt9KX0pLGsuc2V0SG9zdChiKSxsKGssZixcInN0YXJ0XCIse30pfSk7cmV0dXJuIGt9ZnVuY3Rpb24geGEoYSl7YT1HKGEpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1uZy1hbmltYXRlXVwiKTtzKGEsZnVuY3Rpb24oYSl7dmFyIGI9cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5nLWFuaW1hdGVcIikpLGM9Qi5nZXQoYSk7aWYoYylzd2l0Y2goYil7Y2FzZSAyOmMucnVubmVyLmVuZCgpO1xuY2FzZSAxOkIucmVtb3ZlKGEpfX0pfWZ1bmN0aW9uIE4oYSl7YT1HKGEpO2EucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1uZy1hbmltYXRlXCIpO0IucmVtb3ZlKGEpfWZ1bmN0aW9uIGsoYSxiKXtyZXR1cm4gRyhhKT09PUcoYil9ZnVuY3Rpb24gcShhLGIsYyl7Yz1JKG1bMF0uYm9keSk7dmFyIGY9ayhhLGMpfHxcIkhUTUxcIj09PWFbMF0ubm9kZU5hbWUsZD1rKGEsZyksaD0hMSxsLGU9RS5nZXQoRyhhKSk7Zm9yKChhPWEuZGF0YShcIiRuZ0FuaW1hdGVQaW5cIikpJiYoYj1hKTtiJiZiLmxlbmd0aDspe2R8fChkPWsoYixnKSk7dmFyIHg9YlswXTtpZigxIT09eC5ub2RlVHlwZSlicmVhazthPUIuZ2V0KHgpfHx7fTtpZighaCl7eD1FLmdldCh4KTtpZighMD09PXgmJiExIT09ZSl7ZT0hMDticmVha31lbHNlITE9PT14JiYoZT0hMSk7aD1hLnN0cnVjdHVyYWx9aWYoUChsKXx8ITA9PT1sKWE9Yi5kYXRhKFwiJCRuZ0FuaW1hdGVDaGlsZHJlblwiKSxaKGEpJiYobD1hKTtpZihoJiYhMT09PWwpYnJlYWs7XG5mfHwoZj1rKGIsYykpO2lmKGYmJmQpYnJlYWs7aWYoIWQmJihhPWIuZGF0YShcIiRuZ0FuaW1hdGVQaW5cIikpKXtiPWE7Y29udGludWV9Yj1iLnBhcmVudCgpfXJldHVybighaHx8bCkmJiEwIT09ZSYmZCYmZn1mdW5jdGlvbiB0KGEsYixjKXtjPWN8fHt9O2Muc3RhdGU9YjthPUcoYSk7YS5zZXRBdHRyaWJ1dGUoXCJkYXRhLW5nLWFuaW1hdGVcIixiKTtjPShiPUIuZ2V0KGEpKT9DYShiLGMpOmM7Qi5wdXQoYSxjKX12YXIgQj1uZXcgTSxFPW5ldyBNLEw9bnVsbCxmPWMuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1uYS50b3RhbFBlbmRpbmdSZXF1ZXN0c30sZnVuY3Rpb24oYSl7YSYmKGYoKSxjLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2MuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7bnVsbD09PUwmJihMPSEwKX0pfSkpfSkseD17fSxsPWEuY2xhc3NOYW1lRmlsdGVyKCksVWE9bD9mdW5jdGlvbihhKXtyZXR1cm4gbC50ZXN0KGEpfTpmdW5jdGlvbigpe3JldHVybiEwfSxKYT1VKHYpLFxueT1Ob2RlLnByb3RvdHlwZS5jb250YWluc3x8ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXM9PT1hfHwhISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpJjE2KX07cmV0dXJue29uOmZ1bmN0aW9uKGEsYixjKXtiPW9hKGIpO3hbYV09eFthXXx8W107eFthXS5wdXNoKHtub2RlOmIsY2FsbGJhY2s6Y30pfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPW9hKGIpO3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4hKGEubm9kZT09PWQmJighY3x8YS5jYWxsYmFjaz09PWMpKX0pfXZhciBkPXhbYV07ZCYmKHhbYV09MT09PWFyZ3VtZW50cy5sZW5ndGg/bnVsbDpmKGQsYixjKSl9LHBpbjpmdW5jdGlvbihhLGIpe3lhKHNhKGEpLFwiZWxlbWVudFwiLFwibm90IGFuIGVsZW1lbnRcIik7eWEoc2EoYiksXCJwYXJlbnRFbGVtZW50XCIsXCJub3QgYW4gZWxlbWVudFwiKTthLmRhdGEoXCIkbmdBbmltYXRlUGluXCIsYil9LHB1c2g6ZnVuY3Rpb24oYSxiLGMsZil7Yz1cbmN8fHt9O2MuZG9tT3BlcmF0aW9uPWY7cmV0dXJuIGgoYSxiLGMpfSxlbmFibGVkOmZ1bmN0aW9uKGEsYil7dmFyIGM9YXJndW1lbnRzLmxlbmd0aDtpZigwPT09YyliPSEhTDtlbHNlIGlmKHNhKGEpKXt2YXIgZj1HKGEpLGQ9RS5nZXQoZik7MT09PWM/Yj0hZDpFLnB1dChmLCFiKX1lbHNlIGI9TD0hIWE7cmV0dXJuIGJ9fX1dfV0pLnByb3ZpZGVyKFwiJCRhbmltYXRpb25cIixbXCIkYW5pbWF0ZVByb3ZpZGVyXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYS5kYXRhKFwiJCRhbmltYXRpb25SdW5uZXJcIil9dmFyIGM9dGhpcy5kcml2ZXJzPVtdO3RoaXMuJGdldD1bXCIkJGpxTGl0ZVwiLFwiJHJvb3RTY29wZVwiLFwiJGluamVjdG9yXCIsXCIkJEFuaW1hdGVSdW5uZXJcIixcIiQkSGFzaE1hcFwiLFwiJCRyQUZTY2hlZHVsZXJcIixmdW5jdGlvbihhLGUsZyxILEEsQyl7ZnVuY3Rpb24gbShhKXtmdW5jdGlvbiBiKGEpe2lmKGEucHJvY2Vzc2VkKXJldHVybiBhO2EucHJvY2Vzc2VkPSEwO3ZhciBkPVxuYS5kb21Ob2RlLE49ZC5wYXJlbnROb2RlO2UucHV0KGQsYSk7Zm9yKHZhciBrO047KXtpZihrPWUuZ2V0KE4pKXtrLnByb2Nlc3NlZHx8KGs9YihrKSk7YnJlYWt9Tj1OLnBhcmVudE5vZGV9KGt8fGMpLmNoaWxkcmVuLnB1c2goYSk7cmV0dXJuIGF9dmFyIGM9e2NoaWxkcmVuOltdfSxkLGU9bmV3IEE7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGc9YVtkXTtlLnB1dChnLmRvbU5vZGUsYVtkXT17ZG9tTm9kZTpnLmRvbU5vZGUsZm46Zy5mbixjaGlsZHJlbjpbXX0pfWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspYihhW2RdKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkO2ZvcihkPTA7ZDxhLmNoaWxkcmVuLmxlbmd0aDtkKyspYy5wdXNoKGEuY2hpbGRyZW5bZF0pO2E9Yy5sZW5ndGg7dmFyIGU9MCx0PVtdO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBnPWNbZF07MD49YSYmKGE9ZSxlPTAsYi5wdXNoKHQpLHQ9W10pO3QucHVzaChnLmZuKTtnLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oYSl7ZSsrO1xuYy5wdXNoKGEpfSk7YS0tfXQubGVuZ3RoJiZiLnB1c2godCk7cmV0dXJuIGJ9KGMpfXZhciBNPVtdLHI9VShhKTtyZXR1cm4gZnVuY3Rpb24odSxBLHYpe2Z1bmN0aW9uIHooYSl7YT1hLmhhc0F0dHJpYnV0ZShcIm5nLWFuaW1hdGUtcmVmXCIpP1thXTphLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmctYW5pbWF0ZS1yZWZdXCIpO3ZhciBiPVtdO3MoYSxmdW5jdGlvbihhKXt2YXIgYz1hLmdldEF0dHJpYnV0ZShcIm5nLWFuaW1hdGUtcmVmXCIpO2MmJmMubGVuZ3RoJiZiLnB1c2goYSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBLKGEpe3ZhciBiPVtdLGM9e307cyhhLGZ1bmN0aW9uKGEsZil7dmFyIGQ9RyhhLmVsZW1lbnQpLGg9MDw9W1wiZW50ZXJcIixcIm1vdmVcIl0uaW5kZXhPZihhLmV2ZW50KSxkPWEuc3RydWN0dXJhbD96KGQpOltdO2lmKGQubGVuZ3RoKXt2YXIgZT1oP1widG9cIjpcImZyb21cIjtzKGQsZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoXCJuZy1hbmltYXRlLXJlZlwiKTtjW2JdPWNbYl18fFxue307Y1tiXVtlXT17YW5pbWF0aW9uSUQ6ZixlbGVtZW50OkkoYSl9fSl9ZWxzZSBiLnB1c2goYSl9KTt2YXIgZD17fSxoPXt9O3MoYyxmdW5jdGlvbihjLGUpe3ZhciBsPWMuZnJvbSx0PWMudG87aWYobCYmdCl7dmFyIGc9YVtsLmFuaW1hdGlvbklEXSxFPWFbdC5hbmltYXRpb25JRF0saz1sLmFuaW1hdGlvbklELnRvU3RyaW5nKCk7aWYoIWhba10pe3ZhciB6PWhba109e3N0cnVjdHVyYWw6ITAsYmVmb3JlU3RhcnQ6ZnVuY3Rpb24oKXtnLmJlZm9yZVN0YXJ0KCk7RS5iZWZvcmVTdGFydCgpfSxjbG9zZTpmdW5jdGlvbigpe2cuY2xvc2UoKTtFLmNsb3NlKCl9LGNsYXNzZXM6SihnLmNsYXNzZXMsRS5jbGFzc2VzKSxmcm9tOmcsdG86RSxhbmNob3JzOltdfTt6LmNsYXNzZXMubGVuZ3RoP2IucHVzaCh6KTooYi5wdXNoKGcpLGIucHVzaChFKSl9aFtrXS5hbmNob3JzLnB1c2goe291dDpsLmVsZW1lbnQsXCJpblwiOnQuZWxlbWVudH0pfWVsc2UgbD1sP2wuYW5pbWF0aW9uSUQ6dC5hbmltYXRpb25JRCxcbnQ9bC50b1N0cmluZygpLGRbdF18fChkW3RdPSEwLGIucHVzaChhW2xdKSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBKKGEsYil7YT1hLnNwbGl0KFwiIFwiKTtiPWIuc3BsaXQoXCIgXCIpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBoPWFbZF07aWYoXCJuZy1cIiE9PWguc3Vic3RyaW5nKDAsMykpZm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspaWYoaD09PWJbZV0pe2MucHVzaChoKTticmVha319cmV0dXJuIGMuam9pbihcIiBcIil9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9Yy5sZW5ndGgtMTswPD1iO2ItLSl7dmFyIGQ9Y1tiXTtpZihnLmhhcyhkKSYmKGQ9Zy5nZXQoZCkoYSkpKXJldHVybiBkfX1mdW5jdGlvbiB4YShhLGMpe2EuZnJvbSYmYS50bz8oYihhLmZyb20uZWxlbWVudCkuc2V0SG9zdChjKSxiKGEudG8uZWxlbWVudCkuc2V0SG9zdChjKSk6YihhLmVsZW1lbnQpLnNldEhvc3QoYyl9ZnVuY3Rpb24gTigpe3ZhciBhPWIodSk7IWF8fFwibGVhdmVcIj09PUEmJnYuJCRkb21PcGVyYXRpb25GaXJlZHx8XG5hLmVuZCgpfWZ1bmN0aW9uIGsoYil7dS5vZmYoXCIkZGVzdHJveVwiLE4pO3UucmVtb3ZlRGF0YShcIiQkYW5pbWF0aW9uUnVubmVyXCIpO3IodSx2KTtmYSh1LHYpO3YuZG9tT3BlcmF0aW9uKCk7RSYmYS5yZW1vdmVDbGFzcyh1LEUpO3UucmVtb3ZlQ2xhc3MoXCJuZy1hbmltYXRlXCIpO3QuY29tcGxldGUoIWIpfXY9a2Eodik7dmFyIHE9MDw9W1wiZW50ZXJcIixcIm1vdmVcIixcImxlYXZlXCJdLmluZGV4T2YoQSksdD1uZXcgSCh7ZW5kOmZ1bmN0aW9uKCl7aygpfSxjYW5jZWw6ZnVuY3Rpb24oKXtrKCEwKX19KTtpZighYy5sZW5ndGgpcmV0dXJuIGsoKSx0O3UuZGF0YShcIiQkYW5pbWF0aW9uUnVubmVyXCIsdCk7dmFyIEI9emEodS5hdHRyKFwiY2xhc3NcIiksemEodi5hZGRDbGFzcyx2LnJlbW92ZUNsYXNzKSksRT12LnRlbXBDbGFzc2VzO0UmJihCKz1cIiBcIitFLHYudGVtcENsYXNzZXM9bnVsbCk7dmFyIEw7cSYmKEw9XCJuZy1cIitBK1wiLXByZXBhcmVcIixhLmFkZENsYXNzKHUsTCkpO00ucHVzaCh7ZWxlbWVudDp1LFxuY2xhc3NlczpCLGV2ZW50OkEsc3RydWN0dXJhbDpxLG9wdGlvbnM6dixiZWZvcmVTdGFydDpmdW5jdGlvbigpe3UuYWRkQ2xhc3MoXCJuZy1hbmltYXRlXCIpO0UmJmEuYWRkQ2xhc3ModSxFKTtMJiYoYS5yZW1vdmVDbGFzcyh1LEwpLEw9bnVsbCl9LGNsb3NlOmt9KTt1Lm9uKFwiJGRlc3Ryb3lcIixOKTtpZigxPE0ubGVuZ3RoKXJldHVybiB0O2UuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7dmFyIGE9W107cyhNLGZ1bmN0aW9uKGMpe2IoYy5lbGVtZW50KT9hLnB1c2goYyk6Yy5jbG9zZSgpfSk7TS5sZW5ndGg9MDt2YXIgYz1LKGEpLGQ9W107cyhjLGZ1bmN0aW9uKGEpe2QucHVzaCh7ZG9tTm9kZTpHKGEuZnJvbT9hLmZyb20uZWxlbWVudDphLmVsZW1lbnQpLGZuOmZ1bmN0aW9uKCl7YS5iZWZvcmVTdGFydCgpO3ZhciBjLGQ9YS5jbG9zZTtpZihiKGEuYW5jaG9ycz9hLmZyb20uZWxlbWVudHx8YS50by5lbGVtZW50OmEuZWxlbWVudCkpe3ZhciBmPWgoYSk7ZiYmKGM9Zi5zdGFydCl9Yz9cbihjPWMoKSxjLmRvbmUoZnVuY3Rpb24oYSl7ZCghYSl9KSx4YShhLGMpKTpkKCl9fSl9KTtDKG0oZCkpfSk7cmV0dXJuIHR9fV19XSkucHJvdmlkZXIoXCIkYW5pbWF0ZUNzc1wiLFtcIiRhbmltYXRlUHJvdmlkZXJcIixmdW5jdGlvbihhKXt2YXIgYj1GYSgpLGM9RmEoKTt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJCRqcUxpdGVcIixcIiQkQW5pbWF0ZVJ1bm5lclwiLFwiJHRpbWVvdXRcIixcIiQkZm9yY2VSZWZsb3dcIixcIiRzbmlmZmVyXCIsXCIkJHJBRlNjaGVkdWxlclwiLFwiJCRhbmltYXRlUXVldWVcIixmdW5jdGlvbihhLGUsZyxILEEsQyxtLE0pe2Z1bmN0aW9uIHIoYSxiKXt2YXIgYz1hLnBhcmVudE5vZGU7cmV0dXJuKGMuJCRuZ0FuaW1hdGVQYXJlbnRLZXl8fChjLiQkbmdBbmltYXRlUGFyZW50S2V5PSsrSykpK1wiLVwiK2EuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikrXCItXCIrYn1mdW5jdGlvbiB1KGgsZyx6LGspe3ZhciBxOzA8Yi5jb3VudCh6KSYmKHE9Yy5nZXQoeikscXx8KGc9WChnLFwiLXN0YWdnZXJcIiksXG5lLmFkZENsYXNzKGgsZykscT1EYShhLGgsaykscS5hbmltYXRpb25EdXJhdGlvbj1NYXRoLm1heChxLmFuaW1hdGlvbkR1cmF0aW9uLDApLHEudHJhbnNpdGlvbkR1cmF0aW9uPU1hdGgubWF4KHEudHJhbnNpdGlvbkR1cmF0aW9uLDApLGUucmVtb3ZlQ2xhc3MoaCxnKSxjLnB1dCh6LHEpKSk7cmV0dXJuIHF8fHt9fWZ1bmN0aW9uIG5hKGEpe0oucHVzaChhKTttLndhaXRVbnRpbFF1aWV0KGZ1bmN0aW9uKCl7Yi5mbHVzaCgpO2MuZmx1c2goKTtmb3IodmFyIGE9QSgpLGQ9MDtkPEoubGVuZ3RoO2QrKylKW2RdKGEpO0oubGVuZ3RoPTB9KX1mdW5jdGlvbiB2KGMsZSxnKXtlPWIuZ2V0KGcpO2V8fChlPURhKGEsYyxTYSksXCJpbmZpbml0ZVwiPT09ZS5hbmltYXRpb25JdGVyYXRpb25Db3VudCYmKGUuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ9MSkpO2IucHV0KGcsZSk7Yz1lO2c9Yy5hbmltYXRpb25EZWxheTtlPWMudHJhbnNpdGlvbkRlbGF5O2MubWF4RGVsYXk9ZyYmZT9NYXRoLm1heChnLFxuZSk6Z3x8ZTtjLm1heER1cmF0aW9uPU1hdGgubWF4KGMuYW5pbWF0aW9uRHVyYXRpb24qYy5hbmltYXRpb25JdGVyYXRpb25Db3VudCxjLnRyYW5zaXRpb25EdXJhdGlvbik7cmV0dXJuIGN9dmFyIHo9VShlKSxLPTAsSj1bXTtyZXR1cm4gZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKCl7cSgpfWZ1bmN0aW9uIGsoKXtxKCEwKX1mdW5jdGlvbiBxKGIpe2lmKCEoQXx8d2EmJkspKXtBPSEwO0s9ITE7Zi4kJHNraXBQcmVwYXJhdGlvbkNsYXNzZXN8fGUucmVtb3ZlQ2xhc3MoYSxkYSk7ZS5yZW1vdmVDbGFzcyhhLGNhKTtwYShsLCExKTtsYShsLCExKTtzKG0sZnVuY3Rpb24oYSl7bC5zdHlsZVthWzBdXT1cIlwifSk7eihhLGYpO2ZhKGEsZik7T2JqZWN0LmtleXMoeCkubGVuZ3RoJiZzKHgsZnVuY3Rpb24oYSxiKXthP2wuc3R5bGUuc2V0UHJvcGVydHkoYixhKTpsLnN0eWxlLnJlbW92ZVByb3BlcnR5KGIpfSk7aWYoZi5vbkRvbmUpZi5vbkRvbmUoKTtlYSYmZWEubGVuZ3RoJiZhLm9mZihlYS5qb2luKFwiIFwiKSxcbkUpO3ZhciBjPWEuZGF0YShcIiQkYW5pbWF0ZUNzc1wiKTtjJiYoSC5jYW5jZWwoY1swXS50aW1lciksYS5yZW1vdmVEYXRhKFwiJCRhbmltYXRlQ3NzXCIpKTtEJiZELmNvbXBsZXRlKCFiKX19ZnVuY3Rpb24gdChhKXtwLmJsb2NrVHJhbnNpdGlvbiYmbGEobCxhKTtwLmJsb2NrS2V5ZnJhbWVBbmltYXRpb24mJnBhKGwsISFhKX1mdW5jdGlvbiBCKCl7RD1uZXcgZyh7ZW5kOmQsY2FuY2VsOmt9KTtuYShRKTtxKCk7cmV0dXJueyQkd2lsbEFuaW1hdGU6ITEsc3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gRH0sZW5kOmR9fWZ1bmN0aW9uIEUoYSl7YS5zdG9wUHJvcGFnYXRpb24oKTt2YXIgYj1hLm9yaWdpbmFsRXZlbnR8fGE7YT1iLiRtYW51YWxUaW1lU3RhbXB8fERhdGUubm93KCk7Yj1wYXJzZUZsb2F0KGIuZWxhcHNlZFRpbWUudG9GaXhlZCgzKSk7TWF0aC5tYXgoYS1VLDApPj1QJiZiPj1PJiYod2E9ITAscSgpKX1mdW5jdGlvbiBMKCl7ZnVuY3Rpb24gYigpe2lmKCFBKXt0KCExKTtzKG0sXG5mdW5jdGlvbihhKXtsLnN0eWxlW2FbMF1dPWFbMV19KTt6KGEsZik7ZS5hZGRDbGFzcyhhLGNhKTtpZihwLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzKXtqYT1sLmNsYXNzTmFtZStcIiBcIitkYTtnYT1yKGwsamEpO0Y9dihsLGphLGdhKTskPUYubWF4RGVsYXk7bj1NYXRoLm1heCgkLDApO089Ri5tYXhEdXJhdGlvbjtpZigwPT09Tyl7cSgpO3JldHVybn1wLmhhc1RyYW5zaXRpb25zPTA8Ri50cmFuc2l0aW9uRHVyYXRpb247cC5oYXNBbmltYXRpb25zPTA8Ri5hbmltYXRpb25EdXJhdGlvbn1wLmFwcGx5QW5pbWF0aW9uRGVsYXkmJigkPVwiYm9vbGVhblwiIT09dHlwZW9mIGYuZGVsYXkmJnFhKGYuZGVsYXkpP3BhcnNlRmxvYXQoZi5kZWxheSk6JCxuPU1hdGgubWF4KCQsMCksRi5hbmltYXRpb25EZWxheT0kLGFhPVttYSwkK1wic1wiXSxtLnB1c2goYWEpLGwuc3R5bGVbYWFbMF1dPWFhWzFdKTtQPTFFMypuO1I9MUUzKk87aWYoZi5lYXNpbmcpe3ZhciBkLGc9Zi5lYXNpbmc7cC5oYXNUcmFuc2l0aW9ucyYmXG4oZD1TK1wiVGltaW5nRnVuY3Rpb25cIixtLnB1c2goW2QsZ10pLGwuc3R5bGVbZF09Zyk7cC5oYXNBbmltYXRpb25zJiYoZD1ZK1wiVGltaW5nRnVuY3Rpb25cIixtLnB1c2goW2QsZ10pLGwuc3R5bGVbZF09Zyl9Ri50cmFuc2l0aW9uRHVyYXRpb24mJmVhLnB1c2godGEpO0YuYW5pbWF0aW9uRHVyYXRpb24mJmVhLnB1c2godWEpO1U9RGF0ZS5ub3coKTt2YXIgaz1QKzEuNSpSO2Q9VStrO3ZhciBnPWEuZGF0YShcIiQkYW5pbWF0ZUNzc1wiKXx8W10sTD0hMDtpZihnLmxlbmd0aCl7dmFyIEI9Z1swXTsoTD1kPkIuZXhwZWN0ZWRFbmRUaW1lKT9ILmNhbmNlbChCLnRpbWVyKTpnLnB1c2gocSl9TCYmKGs9SChjLGssITEpLGdbMF09e3RpbWVyOmssZXhwZWN0ZWRFbmRUaW1lOmR9LGcucHVzaChxKSxhLmRhdGEoXCIkJGFuaW1hdGVDc3NcIixnKSk7aWYoZWEubGVuZ3RoKWEub24oZWEuam9pbihcIiBcIiksRSk7Zi50byYmKGYuY2xlYW51cFN0eWxlcyYmR2EoeCxsLE9iamVjdC5rZXlzKGYudG8pKSxCYShhLFxuZikpfX1mdW5jdGlvbiBjKCl7dmFyIGI9YS5kYXRhKFwiJCRhbmltYXRlQ3NzXCIpO2lmKGIpe2Zvcih2YXIgZD0xO2Q8Yi5sZW5ndGg7ZCsrKWJbZF0oKTthLnJlbW92ZURhdGEoXCIkJGFuaW1hdGVDc3NcIil9fWlmKCFBKWlmKGwucGFyZW50Tm9kZSl7dmFyIGQ9ZnVuY3Rpb24oYSl7aWYod2EpSyYmYSYmKEs9ITEscSgpKTtlbHNlIGlmKEs9IWEsRi5hbmltYXRpb25EdXJhdGlvbilpZihhPXBhKGwsSyksSyltLnB1c2goYSk7ZWxzZXt2YXIgYj1tLGM9Yi5pbmRleE9mKGEpOzA8PWEmJmIuc3BsaWNlKGMsMSl9fSxnPTA8WiYmKEYudHJhbnNpdGlvbkR1cmF0aW9uJiYwPT09Vy50cmFuc2l0aW9uRHVyYXRpb258fEYuYW5pbWF0aW9uRHVyYXRpb24mJjA9PT1XLmFuaW1hdGlvbkR1cmF0aW9uKSYmTWF0aC5tYXgoVy5hbmltYXRpb25EZWxheSxXLnRyYW5zaXRpb25EZWxheSk7Zz9IKGIsTWF0aC5mbG9vcihnKloqMUUzKSwhMSk6YigpO0kucmVzdW1lPWZ1bmN0aW9uKCl7ZCghMCl9O0kucGF1c2U9XG5mdW5jdGlvbigpe2QoITEpfX1lbHNlIHEoKX12YXIgZj1jfHx7fTtmLiQkcHJlcGFyZWR8fChmPWthKEhhKGYpKSk7dmFyIHg9e30sbD1HKGEpO2lmKCFsfHwhbC5wYXJlbnROb2RlfHwhTS5lbmFibGVkKCkpcmV0dXJuIEIoKTt2YXIgbT1bXSxKPWEuYXR0cihcImNsYXNzXCIpLHk9TGEoZiksQSxLLHdhLEQsSSxuLFAsTyxSLFUsZWE9W107aWYoMD09PWYuZHVyYXRpb258fCFDLmFuaW1hdGlvbnMmJiFDLnRyYW5zaXRpb25zKXJldHVybiBCKCk7dmFyIHc9Zi5ldmVudCYmYmEoZi5ldmVudCk/Zi5ldmVudC5qb2luKFwiIFwiKTpmLmV2ZW50LFY9XCJcIixUPVwiXCI7dyYmZi5zdHJ1Y3R1cmFsP1Y9WCh3LFwibmctXCIsITApOncmJihWPXcpO2YuYWRkQ2xhc3MmJihUKz1YKGYuYWRkQ2xhc3MsXCItYWRkXCIpKTtmLnJlbW92ZUNsYXNzJiYoVC5sZW5ndGgmJihUKz1cIiBcIiksVCs9WChmLnJlbW92ZUNsYXNzLFwiLXJlbW92ZVwiKSk7Zi5hcHBseUNsYXNzZXNFYXJseSYmVC5sZW5ndGgmJnooYSxmKTt2YXIgZGE9XG5bVixUXS5qb2luKFwiIFwiKS50cmltKCksamE9SitcIiBcIitkYSxjYT1YKGRhLFwiLWFjdGl2ZVwiKSxKPXkudG8mJjA8T2JqZWN0LmtleXMoeS50bykubGVuZ3RoO2lmKCEoMDwoZi5rZXlmcmFtZVN0eWxlfHxcIlwiKS5sZW5ndGh8fEp8fGRhKSlyZXR1cm4gQigpO3ZhciBnYSxXOzA8Zi5zdGFnZ2VyPyh5PXBhcnNlRmxvYXQoZi5zdGFnZ2VyKSxXPXt0cmFuc2l0aW9uRGVsYXk6eSxhbmltYXRpb25EZWxheTp5LHRyYW5zaXRpb25EdXJhdGlvbjowLGFuaW1hdGlvbkR1cmF0aW9uOjB9KTooZ2E9cihsLGphKSxXPXUobCxkYSxnYSxUYSkpO2YuJCRza2lwUHJlcGFyYXRpb25DbGFzc2VzfHxlLmFkZENsYXNzKGEsZGEpO2YudHJhbnNpdGlvblN0eWxlJiYoeT1bUyxmLnRyYW5zaXRpb25TdHlsZV0saGEobCx5KSxtLnB1c2goeSkpOzA8PWYuZHVyYXRpb24mJih5PTA8bC5zdHlsZVtTXS5sZW5ndGgseT1FYShmLmR1cmF0aW9uLHkpLGhhKGwseSksbS5wdXNoKHkpKTtmLmtleWZyYW1lU3R5bGUmJlxuKHk9W1ksZi5rZXlmcmFtZVN0eWxlXSxoYShsLHkpLG0ucHVzaCh5KSk7dmFyIFo9Vz8wPD1mLnN0YWdnZXJJbmRleD9mLnN0YWdnZXJJbmRleDpiLmNvdW50KGdhKTowOyh3PTA9PT1aKSYmIWYuc2tpcEJsb2NraW5nJiZsYShsLDk5OTkpO3ZhciBGPXYobCxqYSxnYSksJD1GLm1heERlbGF5O249TWF0aC5tYXgoJCwwKTtPPUYubWF4RHVyYXRpb247dmFyIHA9e307cC5oYXNUcmFuc2l0aW9ucz0wPEYudHJhbnNpdGlvbkR1cmF0aW9uO3AuaGFzQW5pbWF0aW9ucz0wPEYuYW5pbWF0aW9uRHVyYXRpb247cC5oYXNUcmFuc2l0aW9uQWxsPXAuaGFzVHJhbnNpdGlvbnMmJlwiYWxsXCI9PUYudHJhbnNpdGlvblByb3BlcnR5O3AuYXBwbHlUcmFuc2l0aW9uRHVyYXRpb249SiYmKHAuaGFzVHJhbnNpdGlvbnMmJiFwLmhhc1RyYW5zaXRpb25BbGx8fHAuaGFzQW5pbWF0aW9ucyYmIXAuaGFzVHJhbnNpdGlvbnMpO3AuYXBwbHlBbmltYXRpb25EdXJhdGlvbj1mLmR1cmF0aW9uJiZwLmhhc0FuaW1hdGlvbnM7XG5wLmFwcGx5VHJhbnNpdGlvbkRlbGF5PXFhKGYuZGVsYXkpJiYocC5hcHBseVRyYW5zaXRpb25EdXJhdGlvbnx8cC5oYXNUcmFuc2l0aW9ucyk7cC5hcHBseUFuaW1hdGlvbkRlbGF5PXFhKGYuZGVsYXkpJiZwLmhhc0FuaW1hdGlvbnM7cC5yZWNhbGN1bGF0ZVRpbWluZ1N0eWxlcz0wPFQubGVuZ3RoO2lmKHAuYXBwbHlUcmFuc2l0aW9uRHVyYXRpb258fHAuYXBwbHlBbmltYXRpb25EdXJhdGlvbilPPWYuZHVyYXRpb24/cGFyc2VGbG9hdChmLmR1cmF0aW9uKTpPLHAuYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24mJihwLmhhc1RyYW5zaXRpb25zPSEwLEYudHJhbnNpdGlvbkR1cmF0aW9uPU8seT0wPGwuc3R5bGVbUytcIlByb3BlcnR5XCJdLmxlbmd0aCxtLnB1c2goRWEoTyx5KSkpLHAuYXBwbHlBbmltYXRpb25EdXJhdGlvbiYmKHAuaGFzQW5pbWF0aW9ucz0hMCxGLmFuaW1hdGlvbkR1cmF0aW9uPU8sbS5wdXNoKFt2YSxPK1wic1wiXSkpO2lmKDA9PT1PJiYhcC5yZWNhbGN1bGF0ZVRpbWluZ1N0eWxlcylyZXR1cm4gQigpO1xuaWYobnVsbCE9Zi5kZWxheSl7dmFyIGFhO1wiYm9vbGVhblwiIT09dHlwZW9mIGYuZGVsYXkmJihhYT1wYXJzZUZsb2F0KGYuZGVsYXkpLG49TWF0aC5tYXgoYWEsMCkpO3AuYXBwbHlUcmFuc2l0aW9uRGVsYXkmJm0ucHVzaChbaWEsYWErXCJzXCJdKTtwLmFwcGx5QW5pbWF0aW9uRGVsYXkmJm0ucHVzaChbbWEsYWErXCJzXCJdKX1udWxsPT1mLmR1cmF0aW9uJiYwPEYudHJhbnNpdGlvbkR1cmF0aW9uJiYocC5yZWNhbGN1bGF0ZVRpbWluZ1N0eWxlcz1wLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzfHx3KTtQPTFFMypuO1I9MUUzKk87Zi5za2lwQmxvY2tpbmd8fChwLmJsb2NrVHJhbnNpdGlvbj0wPEYudHJhbnNpdGlvbkR1cmF0aW9uLHAuYmxvY2tLZXlmcmFtZUFuaW1hdGlvbj0wPEYuYW5pbWF0aW9uRHVyYXRpb24mJjA8Vy5hbmltYXRpb25EZWxheSYmMD09PVcuYW5pbWF0aW9uRHVyYXRpb24pO2YuZnJvbSYmKGYuY2xlYW51cFN0eWxlcyYmR2EoeCxsLE9iamVjdC5rZXlzKGYuZnJvbSkpLFxuQWEoYSxmKSk7cC5ibG9ja1RyYW5zaXRpb258fHAuYmxvY2tLZXlmcmFtZUFuaW1hdGlvbj90KE8pOmYuc2tpcEJsb2NraW5nfHxsYShsLCExKTtyZXR1cm57JCR3aWxsQW5pbWF0ZTohMCxlbmQ6ZCxzdGFydDpmdW5jdGlvbigpe2lmKCFBKXJldHVybiBJPXtlbmQ6ZCxjYW5jZWw6ayxyZXN1bWU6bnVsbCxwYXVzZTpudWxsfSxEPW5ldyBnKEkpLG5hKEwpLER9fX19XX1dKS5wcm92aWRlcihcIiQkYW5pbWF0ZUNzc0RyaXZlclwiLFtcIiQkYW5pbWF0aW9uUHJvdmlkZXJcIixmdW5jdGlvbihhKXthLmRyaXZlcnMucHVzaChcIiQkYW5pbWF0ZUNzc0RyaXZlclwiKTt0aGlzLiRnZXQ9W1wiJGFuaW1hdGVDc3NcIixcIiRyb290U2NvcGVcIixcIiQkQW5pbWF0ZVJ1bm5lclwiLFwiJHJvb3RFbGVtZW50XCIsXCIkc25pZmZlclwiLFwiJCRqcUxpdGVcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGEsYyxkLGUsZyxILEEpe2Z1bmN0aW9uIEMoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFxibmctXFxTK1xcYi9nLFwiXCIpfWZ1bmN0aW9uIG0oYSxcbmIpe1IoYSkmJihhPWEuc3BsaXQoXCIgXCIpKTtSKGIpJiYoYj1iLnNwbGl0KFwiIFwiKSk7cmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybi0xPT09Yi5pbmRleE9mKGEpfSkuam9pbihcIiBcIil9ZnVuY3Rpb24gTShjLGUsZyl7ZnVuY3Rpb24gaChhKXt2YXIgYj17fSxjPUcoYSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cyhbXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJ0b3BcIixcImxlZnRcIl0sZnVuY3Rpb24oYSl7dmFyIGQ9Y1thXTtzd2l0Y2goYSl7Y2FzZSBcInRvcFwiOmQrPUQuc2Nyb2xsVG9wO2JyZWFrO2Nhc2UgXCJsZWZ0XCI6ZCs9RC5zY3JvbGxMZWZ0fWJbYV09TWF0aC5mbG9vcihkKStcInB4XCJ9KTtyZXR1cm4gYn1mdW5jdGlvbiBBKCl7dmFyIGM9QyhnLmF0dHIoXCJjbGFzc1wiKXx8XCJcIiksZD1tKGMscSksYz1tKHEsYyksZD1hKGsse3RvOmgoZyksYWRkQ2xhc3M6XCJuZy1hbmNob3ItaW4gXCIrZCxyZW1vdmVDbGFzczpcIm5nLWFuY2hvci1vdXQgXCIrYyxkZWxheTohMH0pO3JldHVybiBkLiQkd2lsbEFuaW1hdGU/XG5kOm51bGx9ZnVuY3Rpb24gSCgpe2sucmVtb3ZlKCk7ZS5yZW1vdmVDbGFzcyhcIm5nLWFuaW1hdGUtc2hpbVwiKTtnLnJlbW92ZUNsYXNzKFwibmctYW5pbWF0ZS1zaGltXCIpfXZhciBrPUkoRyhlKS5jbG9uZU5vZGUoITApKSxxPUMoay5hdHRyKFwiY2xhc3NcIil8fFwiXCIpO2UuYWRkQ2xhc3MoXCJuZy1hbmltYXRlLXNoaW1cIik7Zy5hZGRDbGFzcyhcIm5nLWFuaW1hdGUtc2hpbVwiKTtrLmFkZENsYXNzKFwibmctYW5jaG9yXCIpO3YuYXBwZW5kKGspO3ZhciB0O2M9ZnVuY3Rpb24oKXt2YXIgYz1hKGsse2FkZENsYXNzOlwibmctYW5jaG9yLW91dFwiLGRlbGF5OiEwLGZyb206aChlKX0pO3JldHVybiBjLiQkd2lsbEFuaW1hdGU/YzpudWxsfSgpO2lmKCFjJiYodD1BKCksIXQpKXJldHVybiBIKCk7dmFyIEI9Y3x8dDtyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7YyYmYy5lbmQoKX12YXIgYixjPUIuc3RhcnQoKTtjLmRvbmUoZnVuY3Rpb24oKXtjPW51bGw7aWYoIXQmJih0PUEoKSkpcmV0dXJuIGM9XG50LnN0YXJ0KCksYy5kb25lKGZ1bmN0aW9uKCl7Yz1udWxsO0goKTtiLmNvbXBsZXRlKCl9KSxjO0goKTtiLmNvbXBsZXRlKCl9KTtyZXR1cm4gYj1uZXcgZCh7ZW5kOmEsY2FuY2VsOmF9KX19fWZ1bmN0aW9uIHIoYSxiLGMsZSl7dmFyIGc9dShhLFEpLG09dShiLFEpLGs9W107cyhlLGZ1bmN0aW9uKGEpeyhhPU0oYyxhLm91dCxhW1wiaW5cIl0pKSYmay5wdXNoKGEpfSk7aWYoZ3x8bXx8MCE9PWsubGVuZ3RoKXJldHVybntzdGFydDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtzKGIsZnVuY3Rpb24oYSl7YS5lbmQoKX0pfXZhciBiPVtdO2cmJmIucHVzaChnLnN0YXJ0KCkpO20mJmIucHVzaChtLnN0YXJ0KCkpO3MoayxmdW5jdGlvbihhKXtiLnB1c2goYS5zdGFydCgpKX0pO3ZhciBjPW5ldyBkKHtlbmQ6YSxjYW5jZWw6YX0pO2QuYWxsKGIsZnVuY3Rpb24oYSl7Yy5jb21wbGV0ZShhKX0pO3JldHVybiBjfX19ZnVuY3Rpb24gdShjKXt2YXIgZD1jLmVsZW1lbnQsZT1jLm9wdGlvbnN8fFxue307Yy5zdHJ1Y3R1cmFsJiYoZS5ldmVudD1jLmV2ZW50LGUuc3RydWN0dXJhbD0hMCxlLmFwcGx5Q2xhc3Nlc0Vhcmx5PSEwLFwibGVhdmVcIj09PWMuZXZlbnQmJihlLm9uRG9uZT1lLmRvbU9wZXJhdGlvbikpO2UucHJlcGFyYXRpb25DbGFzc2VzJiYoZS5ldmVudD1jYShlLmV2ZW50LGUucHJlcGFyYXRpb25DbGFzc2VzKSk7Yz1hKGQsZSk7cmV0dXJuIGMuJCR3aWxsQW5pbWF0ZT9jOm51bGx9aWYoIWcuYW5pbWF0aW9ucyYmIWcudHJhbnNpdGlvbnMpcmV0dXJuIFE7dmFyIEQ9QVswXS5ib2R5O2M9RyhlKTt2YXIgdj1JKGMucGFyZW50Tm9kZSYmMTE9PT1jLnBhcmVudE5vZGUubm9kZVR5cGV8fEQuY29udGFpbnMoYyk/YzpEKTtVKEgpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5mcm9tJiZhLnRvP3IoYS5mcm9tLGEudG8sYS5jbGFzc2VzLGEuYW5jaG9ycyk6dShhKX19XX1dKS5wcm92aWRlcihcIiQkYW5pbWF0ZUpzXCIsW1wiJGFuaW1hdGVQcm92aWRlclwiLGZ1bmN0aW9uKGEpe3RoaXMuJGdldD1cbltcIiRpbmplY3RvclwiLFwiJCRBbmltYXRlUnVubmVyXCIsXCIkJGpxTGl0ZVwiLGZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKGMpe2M9YmEoYyk/YzpjLnNwbGl0KFwiIFwiKTtmb3IodmFyIGQ9W10sZT17fSxnPTA7ZzxjLmxlbmd0aDtnKyspe3ZhciBzPWNbZ10scj1hLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbc107ciYmIWVbc10mJihkLnB1c2goYi5nZXQocikpLGVbc109ITApfXJldHVybiBkfXZhciBnPVUoZCk7cmV0dXJuIGZ1bmN0aW9uKGEsYixkLG0pe2Z1bmN0aW9uIHIoKXttLmRvbU9wZXJhdGlvbigpO2coYSxtKX1mdW5jdGlvbiBEKGEsYixkLGUsZil7c3dpdGNoKGQpe2Nhc2UgXCJhbmltYXRlXCI6Yj1bYixlLmZyb20sZS50byxmXTticmVhaztjYXNlIFwic2V0Q2xhc3NcIjpiPVtiLHosSyxmXTticmVhaztjYXNlIFwiYWRkQ2xhc3NcIjpiPVtiLHosZl07YnJlYWs7Y2FzZSBcInJlbW92ZUNsYXNzXCI6Yj1bYixLLGZdO2JyZWFrO2RlZmF1bHQ6Yj1bYixmXX1iLnB1c2goZSk7aWYoYT1hLmFwcGx5KGEsXG5iKSlpZihJYShhLnN0YXJ0KSYmKGE9YS5zdGFydCgpKSxhIGluc3RhbmNlb2YgYylhLmRvbmUoZik7ZWxzZSBpZihJYShhKSlyZXR1cm4gYTtyZXR1cm4gUX1mdW5jdGlvbiB1KGEsYixkLGUsZil7dmFyIGc9W107cyhlLGZ1bmN0aW9uKGUpe3ZhciBoPWVbZl07aCYmZy5wdXNoKGZ1bmN0aW9uKCl7dmFyIGUsZixnPSExLGs9ZnVuY3Rpb24oYSl7Z3x8KGc9ITAsKGZ8fFEpKGEpLGUuY29tcGxldGUoIWEpKX07ZT1uZXcgYyh7ZW5kOmZ1bmN0aW9uKCl7aygpfSxjYW5jZWw6ZnVuY3Rpb24oKXtrKCEwKX19KTtmPUQoaCxhLGIsZCxmdW5jdGlvbihhKXtrKCExPT09YSl9KTtyZXR1cm4gZX0pfSk7cmV0dXJuIGd9ZnVuY3Rpb24gRyhhLGIsZCxlLGYpe3ZhciBnPXUoYSxiLGQsZSxmKTtpZigwPT09Zy5sZW5ndGgpe3ZhciBoLGs7XCJiZWZvcmVTZXRDbGFzc1wiPT09Zj8oaD11KGEsXCJyZW1vdmVDbGFzc1wiLGQsZSxcImJlZm9yZVJlbW92ZUNsYXNzXCIpLGs9dShhLFwiYWRkQ2xhc3NcIixkLGUsXCJiZWZvcmVBZGRDbGFzc1wiKSk6XG5cInNldENsYXNzXCI9PT1mJiYoaD11KGEsXCJyZW1vdmVDbGFzc1wiLGQsZSxcInJlbW92ZUNsYXNzXCIpLGs9dShhLFwiYWRkQ2xhc3NcIixkLGUsXCJhZGRDbGFzc1wiKSk7aCYmKGc9Zy5jb25jYXQoaCkpO2smJihnPWcuY29uY2F0KGspKX1pZigwIT09Zy5sZW5ndGgpcmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBiPVtdO2cubGVuZ3RoJiZzKGcsZnVuY3Rpb24oYSl7Yi5wdXNoKGEoKSl9KTtiLmxlbmd0aD9jLmFsbChiLGEpOmEoKTtyZXR1cm4gZnVuY3Rpb24oYSl7cyhiLGZ1bmN0aW9uKGIpe2E/Yi5jYW5jZWwoKTpiLmVuZCgpfSl9fX12YXIgdj0hMTszPT09YXJndW1lbnRzLmxlbmd0aCYmcmEoZCkmJihtPWQsZD1udWxsKTttPWthKG0pO2R8fChkPWEuYXR0cihcImNsYXNzXCIpfHxcIlwiLG0uYWRkQ2xhc3MmJihkKz1cIiBcIittLmFkZENsYXNzKSxtLnJlbW92ZUNsYXNzJiYoZCs9XCIgXCIrbS5yZW1vdmVDbGFzcykpO3ZhciB6PW0uYWRkQ2xhc3MsSz1tLnJlbW92ZUNsYXNzLEo9ZShkKSxoLEk7aWYoSi5sZW5ndGgpe3ZhciBOLFxuaztcImxlYXZlXCI9PWI/KGs9XCJsZWF2ZVwiLE49XCJhZnRlckxlYXZlXCIpOihrPVwiYmVmb3JlXCIrYi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnN1YnN0cigxKSxOPWIpO1wiZW50ZXJcIiE9PWImJlwibW92ZVwiIT09YiYmKGg9RyhhLGIsbSxKLGspKTtJPUcoYSxiLG0sSixOKX1pZihofHxJKXt2YXIgcTtyZXR1cm57JCR3aWxsQW5pbWF0ZTohMCxlbmQ6ZnVuY3Rpb24oKXtxP3EuZW5kKCk6KHY9ITAscigpLGZhKGEsbSkscT1uZXcgYyxxLmNvbXBsZXRlKCEwKSk7cmV0dXJuIHF9LHN0YXJ0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihjKXt2PSEwO3IoKTtmYShhLG0pO3EuY29tcGxldGUoYyl9aWYocSlyZXR1cm4gcTtxPW5ldyBjO3ZhciBkLGU9W107aCYmZS5wdXNoKGZ1bmN0aW9uKGEpe2Q9aChhKX0pO2UubGVuZ3RoP2UucHVzaChmdW5jdGlvbihhKXtyKCk7YSghMCl9KTpyKCk7SSYmZS5wdXNoKGZ1bmN0aW9uKGEpe2Q9SShhKX0pO3Euc2V0SG9zdCh7ZW5kOmZ1bmN0aW9uKCl7dnx8KChkfHxcblEpKHZvaWQgMCksYih2b2lkIDApKX0sY2FuY2VsOmZ1bmN0aW9uKCl7dnx8KChkfHxRKSghMCksYighMCkpfX0pO2MuY2hhaW4oZSxiKTtyZXR1cm4gcX19fX19XX1dKS5wcm92aWRlcihcIiQkYW5pbWF0ZUpzRHJpdmVyXCIsW1wiJCRhbmltYXRpb25Qcm92aWRlclwiLGZ1bmN0aW9uKGEpe2EuZHJpdmVycy5wdXNoKFwiJCRhbmltYXRlSnNEcml2ZXJcIik7dGhpcy4kZ2V0PVtcIiQkYW5pbWF0ZUpzXCIsXCIkJEFuaW1hdGVSdW5uZXJcIixmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYyl7cmV0dXJuIGEoYy5lbGVtZW50LGMuZXZlbnQsYy5jbGFzc2VzLGMub3B0aW9ucyl9cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKGEuZnJvbSYmYS50byl7dmFyIGI9ZChhLmZyb20pLHI9ZChhLnRvKTtpZihifHxyKXJldHVybntzdGFydDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gZnVuY3Rpb24oKXtzKGQsZnVuY3Rpb24oYSl7YS5lbmQoKX0pfX12YXIgZD1bXTtiJiZkLnB1c2goYi5zdGFydCgpKTtyJiZcbmQucHVzaChyLnN0YXJ0KCkpO2MuYWxsKGQsZnVuY3Rpb24oYSl7ZS5jb21wbGV0ZShhKX0pO3ZhciBlPW5ldyBjKHtlbmQ6YSgpLGNhbmNlbDphKCl9KTtyZXR1cm4gZX19fWVsc2UgcmV0dXJuIGQoYSl9fV19XSl9KSh3aW5kb3csd2luZG93LmFuZ3VsYXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci1hbmltYXRlLm1pbi5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjUuMFxuICogKGMpIDIwMTAtMjAxNiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4oZnVuY3Rpb24od2luZG93LCBhbmd1bGFyLCB1bmRlZmluZWQpIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIGFuZ3VsYXIubW9ja1xuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTmFtZXNwYWNlIGZyb20gJ2FuZ3VsYXItbW9ja3MuanMnIHdoaWNoIGNvbnRhaW5zIHRlc3RpbmcgcmVsYXRlZCBjb2RlLlxuICovXG5hbmd1bGFyLm1vY2sgPSB7fTtcblxuLyoqXG4gKiAhIFRoaXMgaXMgYSBwcml2YXRlIHVuZG9jdW1lbnRlZCBzZXJ2aWNlICFcbiAqXG4gKiBAbmFtZSAkYnJvd3NlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBzZXJ2aWNlIGlzIGEgbW9jayBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgbmcuJGJyb3dzZXJ9LiBJdCBwcm92aWRlcyBmYWtlXG4gKiBpbXBsZW1lbnRhdGlvbiBmb3IgY29tbW9ubHkgdXNlZCBicm93c2VyIGFwaXMgdGhhdCBhcmUgaGFyZCB0byB0ZXN0LCBlLmcuIHNldFRpbWVvdXQsIHhocixcbiAqIGNvb2tpZXMsIGV0Yy4uLlxuICpcbiAqIFRoZSBhcGkgb2YgdGhpcyBzZXJ2aWNlIGlzIHRoZSBzYW1lIGFzIHRoYXQgb2YgdGhlIHJlYWwge0BsaW5rIG5nLiRicm93c2VyICRicm93c2VyfSwgZXhjZXB0XG4gKiB0aGF0IHRoZXJlIGFyZSBzZXZlcmFsIGhlbHBlciBtZXRob2RzIGF2YWlsYWJsZSB3aGljaCBjYW4gYmUgdXNlZCBpbiB0ZXN0cy5cbiAqL1xuYW5ndWxhci5tb2NrLiRCcm93c2VyUHJvdmlkZXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBhbmd1bGFyLm1vY2suJEJyb3dzZXIoKTtcbiAgfTtcbn07XG5cbmFuZ3VsYXIubW9jay4kQnJvd3NlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy5pc01vY2sgPSB0cnVlO1xuICBzZWxmLiQkdXJsID0gXCJodHRwOi8vc2VydmVyL1wiO1xuICBzZWxmLiQkbGFzdFVybCA9IHNlbGYuJCR1cmw7IC8vIHVzZWQgYnkgdXJsIHBvbGxpbmcgZm5cbiAgc2VsZi5wb2xsRm5zID0gW107XG5cbiAgLy8gVE9ETyh2b2p0YSk6IHJlbW92ZSB0aGlzIHRlbXBvcmFyeSBhcGlcbiAgc2VsZi4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0ID0gYW5ndWxhci5ub29wO1xuICBzZWxmLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSBhbmd1bGFyLm5vb3A7XG5cblxuICAvLyByZWdpc3RlciB1cmwgcG9sbGluZyBmblxuXG4gIHNlbGYub25VcmxDaGFuZ2UgPSBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgIHNlbGYucG9sbEZucy5wdXNoKFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzZWxmLiQkbGFzdFVybCAhPT0gc2VsZi4kJHVybCB8fCBzZWxmLiQkc3RhdGUgIT09IHNlbGYuJCRsYXN0U3RhdGUpIHtcbiAgICAgICAgICBzZWxmLiQkbGFzdFVybCA9IHNlbGYuJCR1cmw7XG4gICAgICAgICAgc2VsZi4kJGxhc3RTdGF0ZSA9IHNlbGYuJCRzdGF0ZTtcbiAgICAgICAgICBsaXN0ZW5lcihzZWxmLiQkdXJsLCBzZWxmLiQkc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgfTtcblxuICBzZWxmLiQkYXBwbGljYXRpb25EZXN0cm95ZWQgPSBhbmd1bGFyLm5vb3A7XG4gIHNlbGYuJCRjaGVja1VybENoYW5nZSA9IGFuZ3VsYXIubm9vcDtcblxuICBzZWxmLmRlZmVycmVkRm5zID0gW107XG4gIHNlbGYuZGVmZXJyZWROZXh0SWQgPSAwO1xuXG4gIHNlbGYuZGVmZXIgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcbiAgICBkZWxheSA9IGRlbGF5IHx8IDA7XG4gICAgc2VsZi5kZWZlcnJlZEZucy5wdXNoKHt0aW1lOihzZWxmLmRlZmVyLm5vdyArIGRlbGF5KSwgZm46Zm4sIGlkOiBzZWxmLmRlZmVycmVkTmV4dElkfSk7XG4gICAgc2VsZi5kZWZlcnJlZEZucy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGEudGltZSAtIGIudGltZTt9KTtcbiAgICByZXR1cm4gc2VsZi5kZWZlcnJlZE5leHRJZCsrO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI2RlZmVyLm5vd1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3VycmVudCBtaWxsaXNlY29uZHMgbW9jayB0aW1lLlxuICAgKi9cbiAgc2VsZi5kZWZlci5ub3cgPSAwO1xuXG5cbiAgc2VsZi5kZWZlci5jYW5jZWwgPSBmdW5jdGlvbihkZWZlcklkKSB7XG4gICAgdmFyIGZuSW5kZXg7XG5cbiAgICBhbmd1bGFyLmZvckVhY2goc2VsZi5kZWZlcnJlZEZucywgZnVuY3Rpb24oZm4sIGluZGV4KSB7XG4gICAgICBpZiAoZm4uaWQgPT09IGRlZmVySWQpIGZuSW5kZXggPSBpbmRleDtcbiAgICB9KTtcblxuICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChmbkluZGV4KSkge1xuICAgICAgc2VsZi5kZWZlcnJlZEZucy5zcGxpY2UoZm5JbmRleCwgMSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjZGVmZXIuZmx1c2hcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEZsdXNoZXMgYWxsIHBlbmRpbmcgcmVxdWVzdHMgYW5kIGV4ZWN1dGVzIHRoZSBkZWZlciBjYWxsYmFja3MuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBmbHVzaC4gU2VlIHtAbGluayAjZGVmZXIubm93fVxuICAgKi9cbiAgc2VsZi5kZWZlci5mbHVzaCA9IGZ1bmN0aW9uKGRlbGF5KSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRlbGF5KSkge1xuICAgICAgc2VsZi5kZWZlci5ub3cgKz0gZGVsYXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzZWxmLmRlZmVycmVkRm5zLmxlbmd0aCkge1xuICAgICAgICBzZWxmLmRlZmVyLm5vdyA9IHNlbGYuZGVmZXJyZWRGbnNbc2VsZi5kZWZlcnJlZEZucy5sZW5ndGggLSAxXS50aW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBkZWZlcnJlZCB0YXNrcyB0byBiZSBmbHVzaGVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2hpbGUgKHNlbGYuZGVmZXJyZWRGbnMubGVuZ3RoICYmIHNlbGYuZGVmZXJyZWRGbnNbMF0udGltZSA8PSBzZWxmLmRlZmVyLm5vdykge1xuICAgICAgc2VsZi5kZWZlcnJlZEZucy5zaGlmdCgpLmZuKCk7XG4gICAgfVxuICB9O1xuXG4gIHNlbGYuJCRiYXNlSHJlZiA9ICcvJztcbiAgc2VsZi5iYXNlSHJlZiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLiQkYmFzZUhyZWY7XG4gIH07XG59O1xuYW5ndWxhci5tb2NrLiRCcm93c2VyLnByb3RvdHlwZSA9IHtcblxuLyoqXG4gICogQG5hbWUgJGJyb3dzZXIjcG9sbFxuICAqXG4gICogQGRlc2NyaXB0aW9uXG4gICogcnVuIGFsbCBmbnMgaW4gcG9sbEZuc1xuICAqL1xuICBwb2xsOiBmdW5jdGlvbiBwb2xsKCkge1xuICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLnBvbGxGbnMsIGZ1bmN0aW9uKHBvbGxGbikge1xuICAgICAgcG9sbEZuKCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgdXJsOiBmdW5jdGlvbih1cmwsIHJlcGxhY2UsIHN0YXRlKSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoc3RhdGUpKSB7XG4gICAgICBzdGF0ZSA9IG51bGw7XG4gICAgfVxuICAgIGlmICh1cmwpIHtcbiAgICAgIHRoaXMuJCR1cmwgPSB1cmw7XG4gICAgICAvLyBOYXRpdmUgcHVzaFN0YXRlIHNlcmlhbGl6ZXMgJiBjb3BpZXMgdGhlIG9iamVjdDsgc2ltdWxhdGUgaXQuXG4gICAgICB0aGlzLiQkc3RhdGUgPSBhbmd1bGFyLmNvcHkoc3RhdGUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuJCR1cmw7XG4gIH0sXG5cbiAgc3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLiQkc3RhdGU7XG4gIH0sXG5cbiAgbm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0czogZnVuY3Rpb24oZm4pIHtcbiAgICBmbigpO1xuICB9XG59O1xuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkZXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb25maWd1cmVzIHRoZSBtb2NrIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlcn0gdG8gcmV0aHJvdyBvciB0byBsb2cgZXJyb3JzXG4gKiBwYXNzZWQgdG8gdGhlIGAkZXhjZXB0aW9uSGFuZGxlcmAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGV4Y2VwdGlvbkhhbmRsZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIE1vY2sgaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyfSB0aGF0IHJldGhyb3dzIG9yIGxvZ3MgZXJyb3JzIHBhc3NlZFxuICogdG8gaXQuIFNlZSB7QGxpbmsgbmdNb2NrLiRleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIgJGV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcn0gZm9yIGNvbmZpZ3VyYXRpb25cbiAqIGluZm9ybWF0aW9uLlxuICpcbiAqXG4gKiBgYGBqc1xuICogICBkZXNjcmliZSgnJGV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcicsIGZ1bmN0aW9uKCkge1xuICpcbiAqICAgICBpdCgnc2hvdWxkIGNhcHR1cmUgbG9nIG1lc3NhZ2VzIGFuZCBleGNlcHRpb25zJywgZnVuY3Rpb24oKSB7XG4gKlxuICogICAgICAgbW9kdWxlKGZ1bmN0aW9uKCRleGNlcHRpb25IYW5kbGVyUHJvdmlkZXIpIHtcbiAqICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlci5tb2RlKCdsb2cnKTtcbiAqICAgICAgIH0pO1xuICpcbiAqICAgICAgIGluamVjdChmdW5jdGlvbigkbG9nLCAkZXhjZXB0aW9uSGFuZGxlciwgJHRpbWVvdXQpIHtcbiAqICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7ICRsb2cubG9nKDEpOyB9KTtcbiAqICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7ICRsb2cubG9nKDIpOyB0aHJvdyAnYmFuYW5hIHBlZWwnOyB9KTtcbiAqICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7ICRsb2cubG9nKDMpOyB9KTtcbiAqICAgICAgICAgZXhwZWN0KCRleGNlcHRpb25IYW5kbGVyLmVycm9ycykudG9FcXVhbChbXSk7XG4gKiAgICAgICAgIGV4cGVjdCgkbG9nLmFzc2VydEVtcHR5KCkpO1xuICogICAgICAgICAkdGltZW91dC5mbHVzaCgpO1xuICogICAgICAgICBleHBlY3QoJGV4Y2VwdGlvbkhhbmRsZXIuZXJyb3JzKS50b0VxdWFsKFsnYmFuYW5hIHBlZWwnXSk7XG4gKiAgICAgICAgIGV4cGVjdCgkbG9nLmxvZy5sb2dzKS50b0VxdWFsKFtbMV0sIFsyXSwgWzNdXSk7XG4gKiAgICAgICB9KTtcbiAqICAgICB9KTtcbiAqICAgfSk7XG4gKiBgYGBcbiAqL1xuXG5hbmd1bGFyLm1vY2suJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaGFuZGxlcjtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkZXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyI21vZGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGxvZ2dpbmcgbW9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgTW9kZSBvZiBvcGVyYXRpb24sIGRlZmF1bHRzIHRvIGByZXRocm93YC5cbiAgICpcbiAgICogICAtIGBsb2dgOiBTb21ldGltZXMgaXQgaXMgZGVzaXJhYmxlIHRvIHRlc3QgdGhhdCBhbiBlcnJvciBpcyB0aHJvd24sIGZvciB0aGlzIGNhc2UgdGhlIGBsb2dgXG4gICAqICAgICAgICAgICAgbW9kZSBzdG9yZXMgYW4gYXJyYXkgb2YgZXJyb3JzIGluIGAkZXhjZXB0aW9uSGFuZGxlci5lcnJvcnNgLCB0byBhbGxvdyBsYXRlclxuICAgKiAgICAgICAgICAgIGFzc2VydGlvbiBvZiB0aGVtLiBTZWUge0BsaW5rIG5nTW9jay4kbG9nI2Fzc2VydEVtcHR5IGFzc2VydEVtcHR5KCl9IGFuZFxuICAgKiAgICAgICAgICAgIHtAbGluayBuZ01vY2suJGxvZyNyZXNldCByZXNldCgpfVxuICAgKiAgIC0gYHJldGhyb3dgOiBJZiBhbnkgZXJyb3JzIGFyZSBwYXNzZWQgdG8gdGhlIGhhbmRsZXIgaW4gdGVzdHMsIGl0IHR5cGljYWxseSBtZWFucyB0aGF0IHRoZXJlXG4gICAqICAgICAgICAgICAgICAgIGlzIGEgYnVnIGluIHRoZSBhcHBsaWNhdGlvbiBvciB0ZXN0LCBzbyB0aGlzIG1vY2sgd2lsbCBtYWtlIHRoZXNlIHRlc3RzIGZhaWwuXG4gICAqICAgICAgICAgICAgICAgIEZvciBhbnkgaW1wbGVtZW50YXRpb25zIHRoYXQgZXhwZWN0IGV4Y2VwdGlvbnMgdG8gYmUgdGhyb3duLCB0aGUgYHJldGhyb3dgIG1vZGVcbiAgICogICAgICAgICAgICAgICAgd2lsbCBhbHNvIG1haW50YWluIGEgbG9nIG9mIHRocm93biBlcnJvcnMuXG4gICAqL1xuICB0aGlzLm1vZGUgPSBmdW5jdGlvbihtb2RlKSB7XG5cbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgJ2xvZyc6XG4gICAgICBjYXNlICdyZXRocm93JzpcbiAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgICBoYW5kbGVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobW9kZSA9PT0gXCJyZXRocm93XCIpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBoYW5kbGVyLmVycm9ycyA9IGVycm9ycztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1vZGUgJ1wiICsgbW9kZSArIFwiJywgb25seSAnbG9nJy8ncmV0aHJvdycgbW9kZXMgYXJlIGFsbG93ZWQhXCIpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlcjtcbiAgfTtcblxuICB0aGlzLm1vZGUoJ3JldGhyb3cnKTtcbn07XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvZ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTW9jayBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgbmcuJGxvZ30gdGhhdCBnYXRoZXJzIGFsbCBsb2dnZWQgbWVzc2FnZXMgaW4gYXJyYXlzXG4gKiAob25lIGFycmF5IHBlciBsb2dnaW5nIGxldmVsKS4gVGhlc2UgYXJyYXlzIGFyZSBleHBvc2VkIGFzIGBsb2dzYCBwcm9wZXJ0eSBvZiBlYWNoIG9mIHRoZVxuICogbGV2ZWwtc3BlY2lmaWMgbG9nIGZ1bmN0aW9uLCBlLmcuIGZvciBsZXZlbCBgZXJyb3JgIHRoZSBhcnJheSBpcyBleHBvc2VkIGFzIGAkbG9nLmVycm9yLmxvZ3NgLlxuICpcbiAqL1xuYW5ndWxhci5tb2NrLiRMb2dQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZGVidWcgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIGNvbmNhdChhcnJheTEsIGFycmF5MiwgaW5kZXgpIHtcbiAgICByZXR1cm4gYXJyYXkxLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheTIsIGluZGV4KSk7XG4gIH1cblxuICB0aGlzLmRlYnVnRW5hYmxlZCA9IGZ1bmN0aW9uKGZsYWcpIHtcbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZmxhZykpIHtcbiAgICAgIGRlYnVnID0gZmxhZztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGVidWc7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciAkbG9nID0ge1xuICAgICAgbG9nOiBmdW5jdGlvbigpIHsgJGxvZy5sb2cubG9ncy5wdXNoKGNvbmNhdChbXSwgYXJndW1lbnRzLCAwKSk7IH0sXG4gICAgICB3YXJuOiBmdW5jdGlvbigpIHsgJGxvZy53YXJuLmxvZ3MucHVzaChjb25jYXQoW10sIGFyZ3VtZW50cywgMCkpOyB9LFxuICAgICAgaW5mbzogZnVuY3Rpb24oKSB7ICRsb2cuaW5mby5sb2dzLnB1c2goY29uY2F0KFtdLCBhcmd1bWVudHMsIDApKTsgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbigpIHsgJGxvZy5lcnJvci5sb2dzLnB1c2goY29uY2F0KFtdLCBhcmd1bWVudHMsIDApKTsgfSxcbiAgICAgIGRlYnVnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgJGxvZy5kZWJ1Zy5sb2dzLnB1c2goY29uY2F0KFtdLCBhcmd1bWVudHMsIDApKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGxvZyNyZXNldFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmVzZXQgYWxsIG9mIHRoZSBsb2dnaW5nIGFycmF5cyB0byBlbXB0eS5cbiAgICAgKi9cbiAgICAkbG9nLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICogQG5hbWUgJGxvZyNsb2cubG9nc1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQXJyYXkgb2YgbWVzc2FnZXMgbG9nZ2VkIHVzaW5nIHtAbGluayBuZy4kbG9nI2xvZyBgbG9nKClgfS5cbiAgICAgICAqXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAqICRsb2cubG9nKCdTb21lIExvZycpO1xuICAgICAgICogdmFyIGZpcnN0ID0gJGxvZy5sb2cubG9ncy51bnNoaWZ0KCk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqL1xuICAgICAgJGxvZy5sb2cubG9ncyA9IFtdO1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAqIEBuYW1lICRsb2cjaW5mby5sb2dzXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBcnJheSBvZiBtZXNzYWdlcyBsb2dnZWQgdXNpbmcge0BsaW5rIG5nLiRsb2cjaW5mbyBgaW5mbygpYH0uXG4gICAgICAgKlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAkbG9nLmluZm8oJ1NvbWUgSW5mbycpO1xuICAgICAgICogdmFyIGZpcnN0ID0gJGxvZy5pbmZvLmxvZ3MudW5zaGlmdCgpO1xuICAgICAgICogYGBgXG4gICAgICAgKi9cbiAgICAgICRsb2cuaW5mby5sb2dzID0gW107XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICogQG5hbWUgJGxvZyN3YXJuLmxvZ3NcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFycmF5IG9mIG1lc3NhZ2VzIGxvZ2dlZCB1c2luZyB7QGxpbmsgbmcuJGxvZyN3YXJuIGB3YXJuKClgfS5cbiAgICAgICAqXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAqICRsb2cud2FybignU29tZSBXYXJuaW5nJyk7XG4gICAgICAgKiB2YXIgZmlyc3QgPSAkbG9nLndhcm4ubG9ncy51bnNoaWZ0KCk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqL1xuICAgICAgJGxvZy53YXJuLmxvZ3MgPSBbXTtcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgKiBAbmFtZSAkbG9nI2Vycm9yLmxvZ3NcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFycmF5IG9mIG1lc3NhZ2VzIGxvZ2dlZCB1c2luZyB7QGxpbmsgbmcuJGxvZyNlcnJvciBgZXJyb3IoKWB9LlxuICAgICAgICpcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogJGxvZy5lcnJvcignU29tZSBFcnJvcicpO1xuICAgICAgICogdmFyIGZpcnN0ID0gJGxvZy5lcnJvci5sb2dzLnVuc2hpZnQoKTtcbiAgICAgICAqIGBgYFxuICAgICAgICovXG4gICAgICAkbG9nLmVycm9yLmxvZ3MgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAqIEBuYW1lICRsb2cjZGVidWcubG9nc1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQXJyYXkgb2YgbWVzc2FnZXMgbG9nZ2VkIHVzaW5nIHtAbGluayBuZy4kbG9nI2RlYnVnIGBkZWJ1ZygpYH0uXG4gICAgICAgKlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgKiAkbG9nLmRlYnVnKCdTb21lIEVycm9yJyk7XG4gICAgICAgKiB2YXIgZmlyc3QgPSAkbG9nLmRlYnVnLmxvZ3MudW5zaGlmdCgpO1xuICAgICAgICogYGBgXG4gICAgICAgKi9cbiAgICAgICRsb2cuZGVidWcubG9ncyA9IFtdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGxvZyNhc3NlcnRFbXB0eVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQXNzZXJ0IHRoYXQgYWxsIG9mIHRoZSBsb2dnaW5nIG1ldGhvZHMgaGF2ZSBubyBsb2dnZWQgbWVzc2FnZXMuIElmIGFueSBtZXNzYWdlcyBhcmUgcHJlc2VudCxcbiAgICAgKiBhbiBleGNlcHRpb24gaXMgdGhyb3duLlxuICAgICAqL1xuICAgICRsb2cuYXNzZXJ0RW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChbJ2Vycm9yJywgJ3dhcm4nLCAnaW5mbycsICdsb2cnLCAnZGVidWcnXSwgZnVuY3Rpb24obG9nTGV2ZWwpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRsb2dbbG9nTGV2ZWxdLmxvZ3MsIGZ1bmN0aW9uKGxvZykge1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChsb2csIGZ1bmN0aW9uKGxvZ0l0ZW0pIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdNT0NLICRsb2cgKCcgKyBsb2dMZXZlbCArICcpOiAnICsgU3RyaW5nKGxvZ0l0ZW0pICsgJ1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKGxvZ0l0ZW0uc3RhY2sgfHwgJycpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIGVycm9ycy51bnNoaWZ0KFwiRXhwZWN0ZWQgJGxvZyB0byBiZSBlbXB0eSEgRWl0aGVyIGEgbWVzc2FnZSB3YXMgbG9nZ2VkIHVuZXhwZWN0ZWRseSwgb3IgXCIgK1xuICAgICAgICAgIFwiYW4gZXhwZWN0ZWQgbG9nIG1lc3NhZ2Ugd2FzIG5vdCBjaGVja2VkIGFuZCByZW1vdmVkOlwiKTtcbiAgICAgICAgZXJyb3JzLnB1c2goJycpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JzLmpvaW4oJ1xcbi0tLS0tLS0tLVxcbicpKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJGxvZy5yZXNldCgpO1xuICAgIHJldHVybiAkbG9nO1xuICB9O1xufTtcblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkaW50ZXJ2YWxcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIE1vY2sgaW1wbGVtZW50YXRpb24gb2YgdGhlICRpbnRlcnZhbCBzZXJ2aWNlLlxuICpcbiAqIFVzZSB7QGxpbmsgbmdNb2NrLiRpbnRlcnZhbCNmbHVzaCBgJGludGVydmFsLmZsdXNoKG1pbGxpcylgfSB0b1xuICogbW92ZSBmb3J3YXJkIGJ5IGBtaWxsaXNgIG1pbGxpc2Vjb25kcyBhbmQgdHJpZ2dlciBhbnkgZnVuY3Rpb25zIHNjaGVkdWxlZCB0byBydW4gaW4gdGhhdFxuICogdGltZS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkIHJlcGVhdGVkbHkuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggZnVuY3Rpb24gY2FsbC5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gW2NvdW50PTBdIE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQuIElmIG5vdCBzZXQsIG9yIDAsIHdpbGwgcmVwZWF0XG4gKiAgIGluZGVmaW5pdGVseS5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXG4gKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cbiAqIEBwYXJhbSB7Li4uKj19IFBhc3MgYWRkaXRpb25hbCBwYXJhbWV0ZXJzIHRvIHRoZSBleGVjdXRlZCBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSBub3RpZmllZCBvbiBlYWNoIGl0ZXJhdGlvbi5cbiAqL1xuYW5ndWxhci5tb2NrLiRJbnRlcnZhbFByb3ZpZGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJGJyb3dzZXInLCAnJHJvb3RTY29wZScsICckcScsICckJHEnLFxuICAgICAgIGZ1bmN0aW9uKCRicm93c2VyLCAgICRyb290U2NvcGUsICAgJHEsICAgJCRxKSB7XG4gICAgdmFyIHJlcGVhdEZucyA9IFtdLFxuICAgICAgICBuZXh0UmVwZWF0SWQgPSAwLFxuICAgICAgICBub3cgPSAwO1xuXG4gICAgdmFyICRpbnRlcnZhbCA9IGZ1bmN0aW9uKGZuLCBkZWxheSwgY291bnQsIGludm9rZUFwcGx5KSB7XG4gICAgICB2YXIgaGFzUGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQsXG4gICAgICAgICAgYXJncyA9IGhhc1BhcmFtcyA/IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgNCkgOiBbXSxcbiAgICAgICAgICBpdGVyYXRpb24gPSAwLFxuICAgICAgICAgIHNraXBBcHBseSA9IChhbmd1bGFyLmlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5KSxcbiAgICAgICAgICBkZWZlcnJlZCA9IChza2lwQXBwbHkgPyAkJHEgOiAkcSkuZGVmZXIoKSxcbiAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgY291bnQgPSAoYW5ndWxhci5pc0RlZmluZWQoY291bnQpKSA/IGNvdW50IDogMDtcbiAgICAgIHByb21pc2UudGhlbihudWxsLCBudWxsLCAoIWhhc1BhcmFtcykgPyBmbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgIH0pO1xuXG4gICAgICBwcm9taXNlLiQkaW50ZXJ2YWxJZCA9IG5leHRSZXBlYXRJZDtcblxuICAgICAgZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgZGVmZXJyZWQubm90aWZ5KGl0ZXJhdGlvbisrKTtcblxuICAgICAgICBpZiAoY291bnQgPiAwICYmIGl0ZXJhdGlvbiA+PSBjb3VudCkge1xuICAgICAgICAgIHZhciBmbkluZGV4O1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaXRlcmF0aW9uKTtcblxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXBlYXRGbnMsIGZ1bmN0aW9uKGZuLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGZuLmlkID09PSBwcm9taXNlLiQkaW50ZXJ2YWxJZCkgZm5JbmRleCA9IGluZGV4O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGZuSW5kZXgpKSB7XG4gICAgICAgICAgICByZXBlYXRGbnMuc3BsaWNlKGZuSW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChza2lwQXBwbHkpIHtcbiAgICAgICAgICAkYnJvd3Nlci5kZWZlci5mbHVzaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVwZWF0Rm5zLnB1c2goe1xuICAgICAgICBuZXh0VGltZToobm93ICsgZGVsYXkpLFxuICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgIGZuOiB0aWNrLFxuICAgICAgICBpZDogbmV4dFJlcGVhdElkLFxuICAgICAgICBkZWZlcnJlZDogZGVmZXJyZWRcbiAgICAgIH0pO1xuICAgICAgcmVwZWF0Rm5zLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYS5uZXh0VGltZSAtIGIubmV4dFRpbWU7fSk7XG5cbiAgICAgIG5leHRSZXBlYXRJZCsrO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGludGVydmFsI2NhbmNlbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2FuY2VscyBhIHRhc2sgYXNzb2NpYXRlZCB3aXRoIHRoZSBgcHJvbWlzZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3Byb21pc2V9IHByb21pc2UgQSBwcm9taXNlIGZyb20gY2FsbGluZyB0aGUgYCRpbnRlcnZhbGAgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIHdhcyBzdWNjZXNzZnVsbHkgY2FuY2VsbGVkLlxuICAgICAqL1xuICAgICRpbnRlcnZhbC5jYW5jZWwgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAoIXByb21pc2UpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBmbkluZGV4O1xuXG4gICAgICBhbmd1bGFyLmZvckVhY2gocmVwZWF0Rm5zLCBmdW5jdGlvbihmbiwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGZuLmlkID09PSBwcm9taXNlLiQkaW50ZXJ2YWxJZCkgZm5JbmRleCA9IGluZGV4O1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChmbkluZGV4KSkge1xuICAgICAgICByZXBlYXRGbnNbZm5JbmRleF0uZGVmZXJyZWQucmVqZWN0KCdjYW5jZWxlZCcpO1xuICAgICAgICByZXBlYXRGbnMuc3BsaWNlKGZuSW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGludGVydmFsI2ZsdXNoXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBSdW5zIGludGVydmFsIHRhc2tzIHNjaGVkdWxlZCB0byBiZSBydW4gaW4gdGhlIG5leHQgYG1pbGxpc2AgbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBtaWxsaXMgbWF4aW11bSB0aW1lb3V0IGFtb3VudCB0byBmbHVzaCB1cCB1bnRpbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFtb3VudCBvZiB0aW1lIG1vdmVkIGZvcndhcmQuXG4gICAgICovXG4gICAgJGludGVydmFsLmZsdXNoID0gZnVuY3Rpb24obWlsbGlzKSB7XG4gICAgICBub3cgKz0gbWlsbGlzO1xuICAgICAgd2hpbGUgKHJlcGVhdEZucy5sZW5ndGggJiYgcmVwZWF0Rm5zWzBdLm5leHRUaW1lIDw9IG5vdykge1xuICAgICAgICB2YXIgdGFzayA9IHJlcGVhdEZuc1swXTtcbiAgICAgICAgdGFzay5mbigpO1xuICAgICAgICB0YXNrLm5leHRUaW1lICs9IHRhc2suZGVsYXk7XG4gICAgICAgIHJlcGVhdEZucy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGEubmV4dFRpbWUgLSBiLm5leHRUaW1lO30pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1pbGxpcztcbiAgICB9O1xuXG4gICAgcmV0dXJuICRpbnRlcnZhbDtcbiAgfV07XG59O1xuXG5cbi8qIGpzaGludCAtVzEwMSAqL1xuLyogVGhlIFJfSVNPODA2MV9TVFIgcmVnZXggaXMgbmV2ZXIgZ29pbmcgdG8gZml0IGludG8gdGhlIDEwMCBjaGFyIGxpbWl0IVxuICogVGhpcyBkaXJlY3RpdmUgc2hvdWxkIGdvIGluc2lkZSB0aGUgYW5vbnltb3VzIGZ1bmN0aW9uIGJ1dCBhIGJ1ZyBpbiBKU0hpbnQgbWVhbnMgdGhhdCBpdCB3b3VsZFxuICogbm90IGJlIGVuYWN0ZWQgZWFybHkgZW5vdWdoIHRvIHByZXZlbnQgdGhlIHdhcm5pbmcuXG4gKi9cbnZhciBSX0lTTzgwNjFfU1RSID0gL14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86XFw6PyhcXGRcXGQpKD86XFw6PyhcXGRcXGQpKD86XFwuKFxcZHszfSkpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpKT8kLztcblxuZnVuY3Rpb24ganNvblN0cmluZ1RvRGF0ZShzdHJpbmcpIHtcbiAgdmFyIG1hdGNoO1xuICBpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2goUl9JU084MDYxX1NUUikpIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApLFxuICAgICAgICB0ekhvdXIgPSAwLFxuICAgICAgICB0ek1pbiAgPSAwO1xuICAgIGlmIChtYXRjaFs5XSkge1xuICAgICAgdHpIb3VyID0gdG9JbnQobWF0Y2hbOV0gKyBtYXRjaFsxMF0pO1xuICAgICAgdHpNaW4gPSB0b0ludChtYXRjaFs5XSArIG1hdGNoWzExXSk7XG4gICAgfVxuICAgIGRhdGUuc2V0VVRDRnVsbFllYXIodG9JbnQobWF0Y2hbMV0pLCB0b0ludChtYXRjaFsyXSkgLSAxLCB0b0ludChtYXRjaFszXSkpO1xuICAgIGRhdGUuc2V0VVRDSG91cnModG9JbnQobWF0Y2hbNF0gfHwgMCkgLSB0ekhvdXIsXG4gICAgICAgICAgICAgICAgICAgICB0b0ludChtYXRjaFs1XSB8fCAwKSAtIHR6TWluLFxuICAgICAgICAgICAgICAgICAgICAgdG9JbnQobWF0Y2hbNl0gfHwgMCksXG4gICAgICAgICAgICAgICAgICAgICB0b0ludChtYXRjaFs3XSB8fCAwKSk7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbiAgcmV0dXJuIHN0cmluZztcbn1cblxuZnVuY3Rpb24gdG9JbnQoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcbn1cblxuZnVuY3Rpb24gcGFkTnVtYmVyKG51bSwgZGlnaXRzLCB0cmltKSB7XG4gIHZhciBuZWcgPSAnJztcbiAgaWYgKG51bSA8IDApIHtcbiAgICBuZWcgPSAgJy0nO1xuICAgIG51bSA9IC1udW07XG4gIH1cbiAgbnVtID0gJycgKyBudW07XG4gIHdoaWxlIChudW0ubGVuZ3RoIDwgZGlnaXRzKSBudW0gPSAnMCcgKyBudW07XG4gIGlmICh0cmltKSB7XG4gICAgbnVtID0gbnVtLnN1YnN0cihudW0ubGVuZ3RoIC0gZGlnaXRzKTtcbiAgfVxuICByZXR1cm4gbmVnICsgbnVtO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIGFuZ3VsYXIubW9jay5UekRhdGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICpOT1RFKjogdGhpcyBpcyBub3QgYW4gaW5qZWN0YWJsZSBpbnN0YW5jZSwganVzdCBhIGdsb2JhbGx5IGF2YWlsYWJsZSBtb2NrIGNsYXNzIG9mIGBEYXRlYC5cbiAqXG4gKiBNb2NrIG9mIHRoZSBEYXRlIHR5cGUgd2hpY2ggaGFzIGl0cyB0aW1lem9uZSBzcGVjaWZpZWQgdmlhIGNvbnN0cnVjdG9yIGFyZy5cbiAqXG4gKiBUaGUgbWFpbiBwdXJwb3NlIGlzIHRvIGNyZWF0ZSBEYXRlLWxpa2UgaW5zdGFuY2VzIHdpdGggdGltZXpvbmUgZml4ZWQgdG8gdGhlIHNwZWNpZmllZCB0aW1lem9uZVxuICogb2Zmc2V0LCBzbyB0aGF0IHdlIGNhbiB0ZXN0IGNvZGUgdGhhdCBkZXBlbmRzIG9uIGxvY2FsIHRpbWV6b25lIHNldHRpbmdzIHdpdGhvdXQgZGVwZW5kZW5jeSBvblxuICogdGhlIHRpbWUgem9uZSBzZXR0aW5ncyBvZiB0aGUgbWFjaGluZSB3aGVyZSB0aGUgY29kZSBpcyBydW5uaW5nLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgT2Zmc2V0IG9mIHRoZSAqZGVzaXJlZCogdGltZXpvbmUgaW4gaG91cnMgKGZyYWN0aW9ucyB3aWxsIGJlIGhvbm9yZWQpXG4gKiBAcGFyYW0geyhudW1iZXJ8c3RyaW5nKX0gdGltZXN0YW1wIFRpbWVzdGFtcCByZXByZXNlbnRpbmcgdGhlIGRlc2lyZWQgdGltZSBpbiAqVVRDKlxuICpcbiAqIEBleGFtcGxlXG4gKiAhISEhIFdBUk5JTkcgISEhISFcbiAqIFRoaXMgaXMgbm90IGEgY29tcGxldGUgRGF0ZSBvYmplY3Qgc28gb25seSBtZXRob2RzIHRoYXQgd2VyZSBpbXBsZW1lbnRlZCBjYW4gYmUgY2FsbGVkIHNhZmVseS5cbiAqIFRvIG1ha2UgbWF0dGVycyB3b3JzZSwgVHpEYXRlIGluc3RhbmNlcyBpbmhlcml0IHN0dWZmIGZyb20gRGF0ZSB2aWEgYSBwcm90b3R5cGUuXG4gKlxuICogV2UgZG8gb3VyIGJlc3QgdG8gaW50ZXJjZXB0IGNhbGxzIHRvIFwidW5pbXBsZW1lbnRlZFwiIG1ldGhvZHMsIGJ1dCBzaW5jZSB0aGUgbGlzdCBvZiBtZXRob2RzIGlzXG4gKiBpbmNvbXBsZXRlIHdlIG1pZ2h0IGJlIG1pc3Npbmcgc29tZSBub24tc3RhbmRhcmQgbWV0aG9kcy4gVGhpcyBjYW4gcmVzdWx0IGluIGVycm9ycyBsaWtlOlxuICogXCJEYXRlLnByb3RvdHlwZS5mb28gY2FsbGVkIG9uIGluY29tcGF0aWJsZSBPYmplY3RcIi5cbiAqXG4gKiBgYGBqc1xuICogdmFyIG5ld1llYXJJbkJyYXRpc2xhdmEgPSBuZXcgVHpEYXRlKC0xLCAnMjAwOS0xMi0zMVQyMzowMDowMFonKTtcbiAqIG5ld1llYXJJbkJyYXRpc2xhdmEuZ2V0VGltZXpvbmVPZmZzZXQoKSA9PiAtNjA7XG4gKiBuZXdZZWFySW5CcmF0aXNsYXZhLmdldEZ1bGxZZWFyKCkgPT4gMjAxMDtcbiAqIG5ld1llYXJJbkJyYXRpc2xhdmEuZ2V0TW9udGgoKSA9PiAwO1xuICogbmV3WWVhckluQnJhdGlzbGF2YS5nZXREYXRlKCkgPT4gMTtcbiAqIG5ld1llYXJJbkJyYXRpc2xhdmEuZ2V0SG91cnMoKSA9PiAwO1xuICogbmV3WWVhckluQnJhdGlzbGF2YS5nZXRNaW51dGVzKCkgPT4gMDtcbiAqIG5ld1llYXJJbkJyYXRpc2xhdmEuZ2V0U2Vjb25kcygpID0+IDA7XG4gKiBgYGBcbiAqXG4gKi9cbmFuZ3VsYXIubW9jay5UekRhdGUgPSBmdW5jdGlvbihvZmZzZXQsIHRpbWVzdGFtcCkge1xuICB2YXIgc2VsZiA9IG5ldyBEYXRlKDApO1xuICBpZiAoYW5ndWxhci5pc1N0cmluZyh0aW1lc3RhbXApKSB7XG4gICAgdmFyIHRzU3RyID0gdGltZXN0YW1wO1xuXG4gICAgc2VsZi5vcmlnRGF0ZSA9IGpzb25TdHJpbmdUb0RhdGUodGltZXN0YW1wKTtcblxuICAgIHRpbWVzdGFtcCA9IHNlbGYub3JpZ0RhdGUuZ2V0VGltZSgpO1xuICAgIGlmIChpc05hTih0aW1lc3RhbXApKSB7XG4gICAgICB0aHJvdyB7XG4gICAgICAgIG5hbWU6IFwiSWxsZWdhbCBBcmd1bWVudFwiLFxuICAgICAgICBtZXNzYWdlOiBcIkFyZyAnXCIgKyB0c1N0ciArIFwiJyBwYXNzZWQgaW50byBUekRhdGUgY29uc3RydWN0b3IgaXMgbm90IGEgdmFsaWQgZGF0ZSBzdHJpbmdcIlxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5vcmlnRGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7XG4gIH1cblxuICB2YXIgbG9jYWxPZmZzZXQgPSBuZXcgRGF0ZSh0aW1lc3RhbXApLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gIHNlbGYub2Zmc2V0RGlmZiA9IGxvY2FsT2Zmc2V0ICogNjAgKiAxMDAwIC0gb2Zmc2V0ICogMTAwMCAqIDYwICogNjA7XG4gIHNlbGYuZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCArIHNlbGYub2Zmc2V0RGlmZik7XG5cbiAgc2VsZi5nZXRUaW1lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuZGF0ZS5nZXRUaW1lKCkgLSBzZWxmLm9mZnNldERpZmY7XG4gIH07XG5cbiAgc2VsZi50b0xvY2FsZURhdGVTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5kYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICB9O1xuXG4gIHNlbGYuZ2V0RnVsbFllYXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5kYXRlLmdldEZ1bGxZZWFyKCk7XG4gIH07XG5cbiAgc2VsZi5nZXRNb250aCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLmRhdGUuZ2V0TW9udGgoKTtcbiAgfTtcblxuICBzZWxmLmdldERhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5kYXRlLmdldERhdGUoKTtcbiAgfTtcblxuICBzZWxmLmdldEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuZGF0ZS5nZXRIb3VycygpO1xuICB9O1xuXG4gIHNlbGYuZ2V0TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLmRhdGUuZ2V0TWludXRlcygpO1xuICB9O1xuXG4gIHNlbGYuZ2V0U2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLmRhdGUuZ2V0U2Vjb25kcygpO1xuICB9O1xuXG4gIHNlbGYuZ2V0TWlsbGlzZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgfTtcblxuICBzZWxmLmdldFRpbWV6b25lT2Zmc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG9mZnNldCAqIDYwO1xuICB9O1xuXG4gIHNlbGYuZ2V0VVRDRnVsbFllYXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5vcmlnRGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICB9O1xuXG4gIHNlbGYuZ2V0VVRDTW9udGggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5vcmlnRGF0ZS5nZXRVVENNb250aCgpO1xuICB9O1xuXG4gIHNlbGYuZ2V0VVRDRGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLm9yaWdEYXRlLmdldFVUQ0RhdGUoKTtcbiAgfTtcblxuICBzZWxmLmdldFVUQ0hvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYub3JpZ0RhdGUuZ2V0VVRDSG91cnMoKTtcbiAgfTtcblxuICBzZWxmLmdldFVUQ01pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5vcmlnRGF0ZS5nZXRVVENNaW51dGVzKCk7XG4gIH07XG5cbiAgc2VsZi5nZXRVVENTZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYub3JpZ0RhdGUuZ2V0VVRDU2Vjb25kcygpO1xuICB9O1xuXG4gIHNlbGYuZ2V0VVRDTWlsbGlzZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYub3JpZ0RhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XG4gIH07XG5cbiAgc2VsZi5nZXREYXkgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5kYXRlLmdldERheSgpO1xuICB9O1xuXG4gIC8vIHByb3ZpZGUgdGhpcyBtZXRob2Qgb25seSBvbiBicm93c2VycyB0aGF0IGFscmVhZHkgaGF2ZSBpdFxuICBpZiAoc2VsZi50b0lTT1N0cmluZykge1xuICAgIHNlbGYudG9JU09TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwYWROdW1iZXIoc2VsZi5vcmlnRGF0ZS5nZXRVVENGdWxsWWVhcigpLCA0KSArICctJyArXG4gICAgICAgICAgICBwYWROdW1iZXIoc2VsZi5vcmlnRGF0ZS5nZXRVVENNb250aCgpICsgMSwgMikgKyAnLScgK1xuICAgICAgICAgICAgcGFkTnVtYmVyKHNlbGYub3JpZ0RhdGUuZ2V0VVRDRGF0ZSgpLCAyKSArICdUJyArXG4gICAgICAgICAgICBwYWROdW1iZXIoc2VsZi5vcmlnRGF0ZS5nZXRVVENIb3VycygpLCAyKSArICc6JyArXG4gICAgICAgICAgICBwYWROdW1iZXIoc2VsZi5vcmlnRGF0ZS5nZXRVVENNaW51dGVzKCksIDIpICsgJzonICtcbiAgICAgICAgICAgIHBhZE51bWJlcihzZWxmLm9yaWdEYXRlLmdldFVUQ1NlY29uZHMoKSwgMikgKyAnLicgK1xuICAgICAgICAgICAgcGFkTnVtYmVyKHNlbGYub3JpZ0RhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCksIDMpICsgJ1onO1xuICAgIH07XG4gIH1cblxuICAvL2hpZGUgYWxsIG1ldGhvZHMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgbW9jayB0aGF0IHRoZSBEYXRlIHByb3RvdHlwZSBleHBvc2VzXG4gIHZhciB1bmltcGxlbWVudGVkTWV0aG9kcyA9IFsnZ2V0VVRDRGF5JyxcbiAgICAgICdnZXRZZWFyJywgJ3NldERhdGUnLCAnc2V0RnVsbFllYXInLCAnc2V0SG91cnMnLCAnc2V0TWlsbGlzZWNvbmRzJyxcbiAgICAgICdzZXRNaW51dGVzJywgJ3NldE1vbnRoJywgJ3NldFNlY29uZHMnLCAnc2V0VGltZScsICdzZXRVVENEYXRlJywgJ3NldFVUQ0Z1bGxZZWFyJyxcbiAgICAgICdzZXRVVENIb3VycycsICdzZXRVVENNaWxsaXNlY29uZHMnLCAnc2V0VVRDTWludXRlcycsICdzZXRVVENNb250aCcsICdzZXRVVENTZWNvbmRzJyxcbiAgICAgICdzZXRZZWFyJywgJ3RvRGF0ZVN0cmluZycsICd0b0dNVFN0cmluZycsICd0b0pTT04nLCAndG9Mb2NhbGVGb3JtYXQnLCAndG9Mb2NhbGVTdHJpbmcnLFxuICAgICAgJ3RvTG9jYWxlVGltZVN0cmluZycsICd0b1NvdXJjZScsICd0b1N0cmluZycsICd0b1RpbWVTdHJpbmcnLCAndG9VVENTdHJpbmcnLCAndmFsdWVPZiddO1xuXG4gIGFuZ3VsYXIuZm9yRWFjaCh1bmltcGxlbWVudGVkTWV0aG9kcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgIHNlbGZbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCAnXCIgKyBtZXRob2ROYW1lICsgXCInIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGUgVHpEYXRlIG1vY2tcIik7XG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHNlbGY7XG59O1xuXG4vL21ha2UgXCJ0ekRhdGVJbnN0YW5jZSBpbnN0YW5jZW9mIERhdGVcIiByZXR1cm4gdHJ1ZVxuYW5ndWxhci5tb2NrLlR6RGF0ZS5wcm90b3R5cGUgPSBEYXRlLnByb3RvdHlwZTtcbi8qIGpzaGludCArVzEwMSAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRhbmltYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBNb2NrIGltcGxlbWVudGF0aW9uIG9mIHRoZSB7QGxpbmsgbmcuJGFuaW1hdGUgYCRhbmltYXRlYH0gc2VydmljZS4gRXhwb3NlcyB0d28gYWRkaXRpb25hbCBtZXRob2RzXG4gKiBmb3IgdGVzdGluZyBhbmltYXRpb25zLlxuICovXG5hbmd1bGFyLm1vY2suYW5pbWF0ZSA9IGFuZ3VsYXIubW9kdWxlKCduZ0FuaW1hdGVNb2NrJywgWyduZyddKVxuXG4gIC5jb25maWcoWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG5cbiAgICAkcHJvdmlkZS5mYWN0b3J5KCckJGZvcmNlUmVmbG93JywgZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiByZWZsb3dGbigpIHtcbiAgICAgICAgcmVmbG93Rm4udG90YWxSZWZsb3dzKys7XG4gICAgICB9XG4gICAgICByZWZsb3dGbi50b3RhbFJlZmxvd3MgPSAwO1xuICAgICAgcmV0dXJuIHJlZmxvd0ZuO1xuICAgIH0pO1xuXG4gICAgJHByb3ZpZGUuZmFjdG9yeSgnJCRhbmltYXRlQXN5bmNSdW4nLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgICAgdmFyIHF1ZXVlRm4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgcXVldWUucHVzaChmbik7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgcXVldWVGbi5mbHVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocXVldWUubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHF1ZXVlW2ldKCk7XG4gICAgICAgIH1cbiAgICAgICAgcXVldWUgPSBbXTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gcXVldWVGbjtcbiAgICB9KTtcblxuICAgICRwcm92aWRlLmRlY29yYXRvcignJCRhbmltYXRlSnMnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICAgICAgdmFyIHJ1bm5lcnMgPSBbXTtcblxuICAgICAgdmFyIGFuaW1hdGVKc0NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbmltYXRvciA9ICRkZWxlZ2F0ZS5hcHBseSgkZGVsZWdhdGUsIGFyZ3VtZW50cyk7XG4gICAgICAgIC8vIElmIG5vIGphdmFzY3JpcHQgYW5pbWF0aW9uIGlzIGZvdW5kLCBhbmltYXRvciBpcyB1bmRlZmluZWRcbiAgICAgICAgaWYgKGFuaW1hdG9yKSB7XG4gICAgICAgICAgcnVubmVycy5wdXNoKGFuaW1hdG9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pbWF0b3I7XG4gICAgICB9O1xuXG4gICAgICBhbmltYXRlSnNDb25zdHJ1Y3Rvci4kY2xvc2VBbmRGbHVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBydW5uZXJzLmZvckVhY2goZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICAgICAgcnVubmVyLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcnVubmVycyA9IFtdO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGFuaW1hdGVKc0NvbnN0cnVjdG9yO1xuICAgIH1dKTtcblxuICAgICRwcm92aWRlLmRlY29yYXRvcignJGFuaW1hdGVDc3MnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICAgICAgdmFyIHJ1bm5lcnMgPSBbXTtcblxuICAgICAgdmFyIGFuaW1hdGVDc3NDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGFuaW1hdG9yID0gJGRlbGVnYXRlKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICBydW5uZXJzLnB1c2goYW5pbWF0b3IpO1xuICAgICAgICByZXR1cm4gYW5pbWF0b3I7XG4gICAgICB9O1xuXG4gICAgICBhbmltYXRlQ3NzQ29uc3RydWN0b3IuJGNsb3NlQW5kRmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcnVubmVycy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bm5lcikge1xuICAgICAgICAgIHJ1bm5lci5lbmQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJ1bm5lcnMgPSBbXTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBhbmltYXRlQ3NzQ29uc3RydWN0b3I7XG4gICAgfV0pO1xuXG4gICAgJHByb3ZpZGUuZGVjb3JhdG9yKCckYW5pbWF0ZScsIFsnJGRlbGVnYXRlJywgJyR0aW1lb3V0JywgJyRicm93c2VyJywgJyQkckFGJywgJyRhbmltYXRlQ3NzJywgJyQkYW5pbWF0ZUpzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckJGZvcmNlUmVmbG93JywgJyQkYW5pbWF0ZUFzeW5jUnVuJywgJyRyb290U2NvcGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCRkZWxlZ2F0ZSwgICAkdGltZW91dCwgICAkYnJvd3NlciwgICAkJHJBRiwgICAkYW5pbWF0ZUNzcywgICAkJGFuaW1hdGVKcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJGZvcmNlUmVmbG93LCAgICQkYW5pbWF0ZUFzeW5jUnVuLCAgJHJvb3RTY29wZSkge1xuICAgICAgdmFyIGFuaW1hdGUgPSB7XG4gICAgICAgIHF1ZXVlOiBbXSxcbiAgICAgICAgY2FuY2VsOiAkZGVsZWdhdGUuY2FuY2VsLFxuICAgICAgICBvbjogJGRlbGVnYXRlLm9uLFxuICAgICAgICBvZmY6ICRkZWxlZ2F0ZS5vZmYsXG4gICAgICAgIHBpbjogJGRlbGVnYXRlLnBpbixcbiAgICAgICAgZ2V0IHJlZmxvd3MoKSB7XG4gICAgICAgICAgcmV0dXJuICQkZm9yY2VSZWZsb3cudG90YWxSZWZsb3dzO1xuICAgICAgICB9LFxuICAgICAgICBlbmFibGVkOiAkZGVsZWdhdGUuZW5hYmxlZCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjY2xvc2VBbmRGbHVzaFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2Qgd2lsbCBjbG9zZSBhbGwgcGVuZGluZyBhbmltYXRpb25zIChib3RoIHtAbGluayBuZ0FuaW1hdGUjamF2YXNjcmlwdC1iYXNlZC1hbmltYXRpb25zIEphdmFzY3JpcHR9XG4gICAgICAgICAqIGFuZCB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlQ3NzIENTU30pIGFuZCBpdCB3aWxsIGFsc28gZmx1c2ggYW55IHJlbWFpbmluZyBhbmltYXRpb24gZnJhbWVzIGFuZC9vciBjYWxsYmFja3MuXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZUFuZEZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyB3ZSBhbGxvdyB0aGUgZmx1c2ggY29tbWFuZCB0byBzd2FsbG93IHRoZSBlcnJvcnNcbiAgICAgICAgICAvLyBiZWNhdXNlIGRlcGVuZGluZyBvbiB3aGV0aGVyIENTUyBvciBKUyBhbmltYXRpb25zIGFyZVxuICAgICAgICAgIC8vIHVzZWQsIHRoZXJlIG1heSBub3QgYmUgYSBSQUYgZmx1c2guIFRoZSBwcmltYXJ5IGZsdXNoXG4gICAgICAgICAgLy8gYXQgdGhlIGVuZCBvZiB0aGlzIGZ1bmN0aW9uIG11c3QgdGhyb3cgYW4gZXhjZXB0aW9uXG4gICAgICAgICAgLy8gYmVjYXVzZSBpdCB3aWxsIHRyYWNrIGlmIHRoZXJlIHdlcmUgcGVuZGluZyBhbmltYXRpb25zXG4gICAgICAgICAgdGhpcy5mbHVzaCh0cnVlKTtcbiAgICAgICAgICAkYW5pbWF0ZUNzcy4kY2xvc2VBbmRGbHVzaCgpO1xuICAgICAgICAgICQkYW5pbWF0ZUpzLiRjbG9zZUFuZEZsdXNoKCk7XG4gICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNmbHVzaFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBmbHVzaCB0aGUgcGVuZGluZyBjYWxsYmFja3MgYW5kIGFuaW1hdGlvbiBmcmFtZXMgdG8gZWl0aGVyIHN0YXJ0XG4gICAgICAgICAqIGFuIGFuaW1hdGlvbiBvciBjb25jbHVkZSBhbiBhbmltYXRpb24uIE5vdGUgdGhhdCB0aGlzIHdpbGwgbm90IGFjdHVhbGx5IGNsb3NlIGFuXG4gICAgICAgICAqIGFjdGl2ZWx5IHJ1bm5pbmcgYW5pbWF0aW9uIChzZWUge0BsaW5rIG5nTW9jay4kYW5pbWF0ZSNjbG9zZUFuZEZsdXNoIGBjbG9zZUFuZEZsdXNoKClgfSBmb3IgdGhhdCkuXG4gICAgICAgICAqL1xuICAgICAgICBmbHVzaDogZnVuY3Rpb24oaGlkZUVycm9ycykge1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgdmFyIGRvTmV4dFJ1biwgc29tZXRoaW5nRmx1c2hlZCA9IGZhbHNlO1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGRvTmV4dFJ1biA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoJCRyQUYucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICQkckFGLmZsdXNoKCk7XG4gICAgICAgICAgICAgIGRvTmV4dFJ1biA9IHNvbWV0aGluZ0ZsdXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJCRhbmltYXRlQXN5bmNSdW4uZmx1c2goKSkge1xuICAgICAgICAgICAgICBkb05leHRSdW4gPSBzb21ldGhpbmdGbHVzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlIChkb05leHRSdW4pO1xuXG4gICAgICAgICAgaWYgKCFzb21ldGhpbmdGbHVzaGVkICYmICFoaWRlRXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHBlbmRpbmcgYW5pbWF0aW9ucyByZWFkeSB0byBiZSBjbG9zZWQgb3IgZmx1c2hlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhbmd1bGFyLmZvckVhY2goXG4gICAgICAgIFsnYW5pbWF0ZScsJ2VudGVyJywnbGVhdmUnLCdtb3ZlJywnYWRkQ2xhc3MnLCdyZW1vdmVDbGFzcycsJ3NldENsYXNzJ10sIGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICBhbmltYXRlW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBhbmltYXRlLnF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgZXZlbnQ6IG1ldGhvZCxcbiAgICAgICAgICAgIGVsZW1lbnQ6IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgIG9wdGlvbnM6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBhcmdzOiBhcmd1bWVudHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gJGRlbGVnYXRlW21ldGhvZF0uYXBwbHkoJGRlbGVnYXRlLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBhbmltYXRlO1xuICAgIH1dKTtcblxuICB9XSk7XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIubW9jay5kdW1wXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAqTk9URSo6IHRoaXMgaXMgbm90IGFuIGluamVjdGFibGUgaW5zdGFuY2UsIGp1c3QgYSBnbG9iYWxseSBhdmFpbGFibGUgZnVuY3Rpb24uXG4gKlxuICogTWV0aG9kIGZvciBzZXJpYWxpemluZyBjb21tb24gYW5ndWxhciBvYmplY3RzIChzY29wZSwgZWxlbWVudHMsIGV0Yy4uKSBpbnRvIHN0cmluZ3MsIHVzZWZ1bCBmb3JcbiAqIGRlYnVnZ2luZy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBhbHNvIGF2YWlsYWJsZSBvbiB3aW5kb3csIHdoZXJlIGl0IGNhbiBiZSB1c2VkIHRvIGRpc3BsYXkgb2JqZWN0cyBvbiBkZWJ1Z1xuICogY29uc29sZS5cbiAqXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIGFueSBvYmplY3QgdG8gdHVybiBpbnRvIHN0cmluZy5cbiAqIEByZXR1cm4ge3N0cmluZ30gYSBzZXJpYWxpemVkIHN0cmluZyBvZiB0aGUgYXJndW1lbnRcbiAqL1xuYW5ndWxhci5tb2NrLmR1bXAgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgcmV0dXJuIHNlcmlhbGl6ZShvYmplY3QpO1xuXG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShvYmplY3QpIHtcbiAgICB2YXIgb3V0O1xuXG4gICAgaWYgKGFuZ3VsYXIuaXNFbGVtZW50KG9iamVjdCkpIHtcbiAgICAgIG9iamVjdCA9IGFuZ3VsYXIuZWxlbWVudChvYmplY3QpO1xuICAgICAgb3V0ID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2PjwvZGl2PicpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKG9iamVjdCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBvdXQuYXBwZW5kKGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KS5jbG9uZSgpKTtcbiAgICAgIH0pO1xuICAgICAgb3V0ID0gb3V0Lmh0bWwoKTtcbiAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICBvdXQgPSBbXTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChvYmplY3QsIGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgb3V0LnB1c2goc2VyaWFsaXplKG8pKTtcbiAgICAgIH0pO1xuICAgICAgb3V0ID0gJ1sgJyArIG91dC5qb2luKCcsICcpICsgJyBdJztcbiAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihvYmplY3QuJGV2YWwpICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihvYmplY3QuJGFwcGx5KSkge1xuICAgICAgICBvdXQgPSBzZXJpYWxpemVTY29wZShvYmplY3QpO1xuICAgICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBvdXQgPSBvYmplY3Quc3RhY2sgfHwgKCcnICsgb2JqZWN0Lm5hbWUgKyAnOiAnICsgb2JqZWN0Lm1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETyhpKTogdGhpcyBwcmV2ZW50cyBtZXRob2RzIGJlaW5nIGxvZ2dlZCxcbiAgICAgICAgLy8gd2Ugc2hvdWxkIGhhdmUgYSBiZXR0ZXIgd2F5IHRvIHNlcmlhbGl6ZSBvYmplY3RzXG4gICAgICAgIG91dCA9IGFuZ3VsYXIudG9Kc29uKG9iamVjdCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCA9IFN0cmluZyhvYmplY3QpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBmdW5jdGlvbiBzZXJpYWxpemVTY29wZShzY29wZSwgb2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8ICAnICAnO1xuICAgIHZhciBsb2cgPSBbb2Zmc2V0ICsgJ1Njb3BlKCcgKyBzY29wZS4kaWQgKyAnKTogeyddO1xuICAgIGZvciAodmFyIGtleSBpbiBzY29wZSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzY29wZSwga2V5KSAmJiAha2V5Lm1hdGNoKC9eKFxcJHx0aGlzKS8pKSB7XG4gICAgICAgIGxvZy5wdXNoKCcgICcgKyBrZXkgKyAnOiAnICsgYW5ndWxhci50b0pzb24oc2NvcGVba2V5XSkpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgY2hpbGQgPSBzY29wZS4kJGNoaWxkSGVhZDtcbiAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgIGxvZy5wdXNoKHNlcmlhbGl6ZVNjb3BlKGNoaWxkLCBvZmZzZXQgKyAnICAnKSk7XG4gICAgICBjaGlsZCA9IGNoaWxkLiQkbmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIGxvZy5wdXNoKCd9Jyk7XG4gICAgcmV0dXJuIGxvZy5qb2luKCdcXG4nICsgb2Zmc2V0KTtcbiAgfVxufTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGh0dHBCYWNrZW5kXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZha2UgSFRUUCBiYWNrZW5kIGltcGxlbWVudGF0aW9uIHN1aXRhYmxlIGZvciB1bml0IHRlc3RpbmcgYXBwbGljYXRpb25zIHRoYXQgdXNlIHRoZVxuICoge0BsaW5rIG5nLiRodHRwICRodHRwIHNlcnZpY2V9LlxuICpcbiAqICpOb3RlKjogRm9yIGZha2UgSFRUUCBiYWNrZW5kIGltcGxlbWVudGF0aW9uIHN1aXRhYmxlIGZvciBlbmQtdG8tZW5kIHRlc3Rpbmcgb3IgYmFja2VuZC1sZXNzXG4gKiBkZXZlbG9wbWVudCBwbGVhc2Ugc2VlIHtAbGluayBuZ01vY2tFMkUuJGh0dHBCYWNrZW5kIGUyZSAkaHR0cEJhY2tlbmQgbW9ja30uXG4gKlxuICogRHVyaW5nIHVuaXQgdGVzdGluZywgd2Ugd2FudCBvdXIgdW5pdCB0ZXN0cyB0byBydW4gcXVpY2tseSBhbmQgaGF2ZSBubyBleHRlcm5hbCBkZXBlbmRlbmNpZXMgc29cbiAqIHdlIGRvbuKAmXQgd2FudCB0byBzZW5kIFtYSFJdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3htbGh0dHByZXF1ZXN0KSBvclxuICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0cyB0byBhIHJlYWwgc2VydmVyLiBBbGwgd2UgcmVhbGx5IG5lZWQgaXNcbiAqIHRvIHZlcmlmeSB3aGV0aGVyIGEgY2VydGFpbiByZXF1ZXN0IGhhcyBiZWVuIHNlbnQgb3Igbm90LCBvciBhbHRlcm5hdGl2ZWx5IGp1c3QgbGV0IHRoZVxuICogYXBwbGljYXRpb24gbWFrZSByZXF1ZXN0cywgcmVzcG9uZCB3aXRoIHByZS10cmFpbmVkIHJlc3BvbnNlcyBhbmQgYXNzZXJ0IHRoYXQgdGhlIGVuZCByZXN1bHQgaXNcbiAqIHdoYXQgd2UgZXhwZWN0IGl0IHRvIGJlLlxuICpcbiAqIFRoaXMgbW9jayBpbXBsZW1lbnRhdGlvbiBjYW4gYmUgdXNlZCB0byByZXNwb25kIHdpdGggc3RhdGljIG9yIGR5bmFtaWMgcmVzcG9uc2VzIHZpYSB0aGVcbiAqIGBleHBlY3RgIGFuZCBgd2hlbmAgYXBpcyBhbmQgdGhlaXIgc2hvcnRjdXRzIChgZXhwZWN0R0VUYCwgYHdoZW5QT1NUYCwgZXRjKS5cbiAqXG4gKiBXaGVuIGFuIEFuZ3VsYXIgYXBwbGljYXRpb24gbmVlZHMgc29tZSBkYXRhIGZyb20gYSBzZXJ2ZXIsIGl0IGNhbGxzIHRoZSAkaHR0cCBzZXJ2aWNlLCB3aGljaFxuICogc2VuZHMgdGhlIHJlcXVlc3QgdG8gYSByZWFsIHNlcnZlciB1c2luZyAkaHR0cEJhY2tlbmQgc2VydmljZS4gV2l0aCBkZXBlbmRlbmN5IGluamVjdGlvbiwgaXQgaXNcbiAqIGVhc3kgdG8gaW5qZWN0ICRodHRwQmFja2VuZCBtb2NrICh3aGljaCBoYXMgdGhlIHNhbWUgQVBJIGFzICRodHRwQmFja2VuZCkgYW5kIHVzZSBpdCB0byB2ZXJpZnlcbiAqIHRoZSByZXF1ZXN0cyBhbmQgcmVzcG9uZCB3aXRoIHNvbWUgdGVzdGluZyBkYXRhIHdpdGhvdXQgc2VuZGluZyBhIHJlcXVlc3QgdG8gYSByZWFsIHNlcnZlci5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIHdheXMgdG8gc3BlY2lmeSB3aGF0IHRlc3QgZGF0YSBzaG91bGQgYmUgcmV0dXJuZWQgYXMgaHR0cCByZXNwb25zZXMgYnkgdGhlIG1vY2tcbiAqIGJhY2tlbmQgd2hlbiB0aGUgY29kZSB1bmRlciB0ZXN0IG1ha2VzIGh0dHAgcmVxdWVzdHM6XG4gKlxuICogLSBgJGh0dHBCYWNrZW5kLmV4cGVjdGAgLSBzcGVjaWZpZXMgYSByZXF1ZXN0IGV4cGVjdGF0aW9uXG4gKiAtIGAkaHR0cEJhY2tlbmQud2hlbmAgLSBzcGVjaWZpZXMgYSBiYWNrZW5kIGRlZmluaXRpb25cbiAqXG4gKlxuICogIyMgUmVxdWVzdCBFeHBlY3RhdGlvbnMgdnMgQmFja2VuZCBEZWZpbml0aW9uc1xuICpcbiAqIFJlcXVlc3QgZXhwZWN0YXRpb25zIHByb3ZpZGUgYSB3YXkgdG8gbWFrZSBhc3NlcnRpb25zIGFib3V0IHJlcXVlc3RzIG1hZGUgYnkgdGhlIGFwcGxpY2F0aW9uIGFuZFxuICogdG8gZGVmaW5lIHJlc3BvbnNlcyBmb3IgdGhvc2UgcmVxdWVzdHMuIFRoZSB0ZXN0IHdpbGwgZmFpbCBpZiB0aGUgZXhwZWN0ZWQgcmVxdWVzdHMgYXJlIG5vdCBtYWRlXG4gKiBvciB0aGV5IGFyZSBtYWRlIGluIHRoZSB3cm9uZyBvcmRlci5cbiAqXG4gKiBCYWNrZW5kIGRlZmluaXRpb25zIGFsbG93IHlvdSB0byBkZWZpbmUgYSBmYWtlIGJhY2tlbmQgZm9yIHlvdXIgYXBwbGljYXRpb24gd2hpY2ggZG9lc24ndCBhc3NlcnRcbiAqIGlmIGEgcGFydGljdWxhciByZXF1ZXN0IHdhcyBtYWRlIG9yIG5vdCwgaXQganVzdCByZXR1cm5zIGEgdHJhaW5lZCByZXNwb25zZSBpZiBhIHJlcXVlc3QgaXMgbWFkZS5cbiAqIFRoZSB0ZXN0IHdpbGwgcGFzcyB3aGV0aGVyIG9yIG5vdCB0aGUgcmVxdWVzdCBnZXRzIG1hZGUgZHVyaW5nIHRlc3RpbmcuXG4gKlxuICpcbiAqIDx0YWJsZSBjbGFzcz1cInRhYmxlXCI+XG4gKiAgIDx0cj48dGggd2lkdGg9XCIyMjBweFwiPjwvdGg+PHRoPlJlcXVlc3QgZXhwZWN0YXRpb25zPC90aD48dGg+QmFja2VuZCBkZWZpbml0aW9uczwvdGg+PC90cj5cbiAqICAgPHRyPlxuICogICAgIDx0aD5TeW50YXg8L3RoPlxuICogICAgIDx0ZD4uZXhwZWN0KC4uLikucmVzcG9uZCguLi4pPC90ZD5cbiAqICAgICA8dGQ+LndoZW4oLi4uKS5yZXNwb25kKC4uLik8L3RkPlxuICogICA8L3RyPlxuICogICA8dHI+XG4gKiAgICAgPHRoPlR5cGljYWwgdXNhZ2U8L3RoPlxuICogICAgIDx0ZD5zdHJpY3QgdW5pdCB0ZXN0czwvdGQ+XG4gKiAgICAgPHRkPmxvb3NlIChibGFjay1ib3gpIHVuaXQgdGVzdGluZzwvdGQ+XG4gKiAgIDwvdHI+XG4gKiAgIDx0cj5cbiAqICAgICA8dGg+RnVsZmlsbHMgbXVsdGlwbGUgcmVxdWVzdHM8L3RoPlxuICogICAgIDx0ZD5OTzwvdGQ+XG4gKiAgICAgPHRkPllFUzwvdGQ+XG4gKiAgIDwvdHI+XG4gKiAgIDx0cj5cbiAqICAgICA8dGg+T3JkZXIgb2YgcmVxdWVzdHMgbWF0dGVyczwvdGg+XG4gKiAgICAgPHRkPllFUzwvdGQ+XG4gKiAgICAgPHRkPk5PPC90ZD5cbiAqICAgPC90cj5cbiAqICAgPHRyPlxuICogICAgIDx0aD5SZXF1ZXN0IHJlcXVpcmVkPC90aD5cbiAqICAgICA8dGQ+WUVTPC90ZD5cbiAqICAgICA8dGQ+Tk88L3RkPlxuICogICA8L3RyPlxuICogICA8dHI+XG4gKiAgICAgPHRoPlJlc3BvbnNlIHJlcXVpcmVkPC90aD5cbiAqICAgICA8dGQ+b3B0aW9uYWwgKHNlZSBiZWxvdyk8L3RkPlxuICogICAgIDx0ZD5ZRVM8L3RkPlxuICogICA8L3RyPlxuICogPC90YWJsZT5cbiAqXG4gKiBJbiBjYXNlcyB3aGVyZSBib3RoIGJhY2tlbmQgZGVmaW5pdGlvbnMgYW5kIHJlcXVlc3QgZXhwZWN0YXRpb25zIGFyZSBzcGVjaWZpZWQgZHVyaW5nIHVuaXRcbiAqIHRlc3RpbmcsIHRoZSByZXF1ZXN0IGV4cGVjdGF0aW9ucyBhcmUgZXZhbHVhdGVkIGZpcnN0LlxuICpcbiAqIElmIGEgcmVxdWVzdCBleHBlY3RhdGlvbiBoYXMgbm8gcmVzcG9uc2Ugc3BlY2lmaWVkLCB0aGUgYWxnb3JpdGhtIHdpbGwgc2VhcmNoIHlvdXIgYmFja2VuZFxuICogZGVmaW5pdGlvbnMgZm9yIGFuIGFwcHJvcHJpYXRlIHJlc3BvbnNlLlxuICpcbiAqIElmIGEgcmVxdWVzdCBkaWRuJ3QgbWF0Y2ggYW55IGV4cGVjdGF0aW9uIG9yIGlmIHRoZSBleHBlY3RhdGlvbiBkb2Vzbid0IGhhdmUgdGhlIHJlc3BvbnNlXG4gKiBkZWZpbmVkLCB0aGUgYmFja2VuZCBkZWZpbml0aW9ucyBhcmUgZXZhbHVhdGVkIGluIHNlcXVlbnRpYWwgb3JkZXIgdG8gc2VlIGlmIGFueSBvZiB0aGVtIG1hdGNoXG4gKiB0aGUgcmVxdWVzdC4gVGhlIHJlc3BvbnNlIGZyb20gdGhlIGZpcnN0IG1hdGNoZWQgZGVmaW5pdGlvbiBpcyByZXR1cm5lZC5cbiAqXG4gKlxuICogIyMgRmx1c2hpbmcgSFRUUCByZXF1ZXN0c1xuICpcbiAqIFRoZSAkaHR0cEJhY2tlbmQgdXNlZCBpbiBwcm9kdWN0aW9uIGFsd2F5cyByZXNwb25kcyB0byByZXF1ZXN0cyBhc3luY2hyb25vdXNseS4gSWYgd2UgcHJlc2VydmVkXG4gKiB0aGlzIGJlaGF2aW9yIGluIHVuaXQgdGVzdGluZywgd2UnZCBoYXZlIHRvIGNyZWF0ZSBhc3luYyB1bml0IHRlc3RzLCB3aGljaCBhcmUgaGFyZCB0byB3cml0ZSxcbiAqIHRvIGZvbGxvdyBhbmQgdG8gbWFpbnRhaW4uIEJ1dCBuZWl0aGVyIGNhbiB0aGUgdGVzdGluZyBtb2NrIHJlc3BvbmQgc3luY2hyb25vdXNseTsgdGhhdCB3b3VsZFxuICogY2hhbmdlIHRoZSBleGVjdXRpb24gb2YgdGhlIGNvZGUgdW5kZXIgdGVzdC4gRm9yIHRoaXMgcmVhc29uLCB0aGUgbW9jayAkaHR0cEJhY2tlbmQgaGFzIGFcbiAqIGBmbHVzaCgpYCBtZXRob2QsIHdoaWNoIGFsbG93cyB0aGUgdGVzdCB0byBleHBsaWNpdGx5IGZsdXNoIHBlbmRpbmcgcmVxdWVzdHMuIFRoaXMgcHJlc2VydmVzXG4gKiB0aGUgYXN5bmMgYXBpIG9mIHRoZSBiYWNrZW5kLCB3aGlsZSBhbGxvd2luZyB0aGUgdGVzdCB0byBleGVjdXRlIHN5bmNocm9ub3VzbHkuXG4gKlxuICpcbiAqICMjIFVuaXQgdGVzdGluZyB3aXRoIG1vY2sgJGh0dHBCYWNrZW5kXG4gKiBUaGUgZm9sbG93aW5nIGNvZGUgc2hvd3MgaG93IHRvIHNldHVwIGFuZCB1c2UgdGhlIG1vY2sgYmFja2VuZCB3aGVuIHVuaXQgdGVzdGluZyBhIGNvbnRyb2xsZXIuXG4gKiBGaXJzdCB3ZSBjcmVhdGUgdGhlIGNvbnRyb2xsZXIgdW5kZXIgdGVzdDpcbiAqXG4gIGBgYGpzXG4gIC8vIFRoZSBtb2R1bGUgY29kZVxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnTXlBcHAnLCBbXSlcbiAgICAuY29udHJvbGxlcignTXlDb250cm9sbGVyJywgTXlDb250cm9sbGVyKTtcblxuICAvLyBUaGUgY29udHJvbGxlciBjb2RlXG4gIGZ1bmN0aW9uIE15Q29udHJvbGxlcigkc2NvcGUsICRodHRwKSB7XG4gICAgdmFyIGF1dGhUb2tlbjtcblxuICAgICRodHRwLmdldCgnL2F1dGgucHknKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICBhdXRoVG9rZW4gPSByZXNwb25zZS5oZWFkZXJzKCdBLVRva2VuJyk7XG4gICAgICAkc2NvcGUudXNlciA9IHJlc3BvbnNlLmRhdGE7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuc2F2ZU1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICB2YXIgaGVhZGVycyA9IHsgJ0F1dGhvcml6YXRpb24nOiBhdXRoVG9rZW4gfTtcbiAgICAgICRzY29wZS5zdGF0dXMgPSAnU2F2aW5nLi4uJztcblxuICAgICAgJGh0dHAucG9zdCgnL2FkZC1tc2cucHknLCBtZXNzYWdlLCB7IGhlYWRlcnM6IGhlYWRlcnMgfSApLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgJHNjb3BlLnN0YXR1cyA9ICcnO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5zdGF0dXMgPSAnRmFpbGVkLi4uJztcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgYGBgXG4gKlxuICogTm93IHdlIHNldHVwIHRoZSBtb2NrIGJhY2tlbmQgYW5kIGNyZWF0ZSB0aGUgdGVzdCBzcGVjczpcbiAqXG4gIGBgYGpzXG4gICAgLy8gdGVzdGluZyBjb250cm9sbGVyXG4gICAgZGVzY3JpYmUoJ015Q29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgIHZhciAkaHR0cEJhY2tlbmQsICRyb290U2NvcGUsIGNyZWF0ZUNvbnRyb2xsZXIsIGF1dGhSZXF1ZXN0SGFuZGxlcjtcblxuICAgICAgIC8vIFNldCB1cCB0aGUgbW9kdWxlXG4gICAgICAgYmVmb3JlRWFjaChtb2R1bGUoJ015QXBwJykpO1xuXG4gICAgICAgYmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gICAgICAgICAvLyBTZXQgdXAgdGhlIG1vY2sgaHR0cCBzZXJ2aWNlIHJlc3BvbnNlc1xuICAgICAgICAgJGh0dHBCYWNrZW5kID0gJGluamVjdG9yLmdldCgnJGh0dHBCYWNrZW5kJyk7XG4gICAgICAgICAvLyBiYWNrZW5kIGRlZmluaXRpb24gY29tbW9uIGZvciBhbGwgdGVzdHNcbiAgICAgICAgIGF1dGhSZXF1ZXN0SGFuZGxlciA9ICRodHRwQmFja2VuZC53aGVuKCdHRVQnLCAnL2F1dGgucHknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVzcG9uZCh7dXNlcklkOiAndXNlclgnfSwgeydBLVRva2VuJzogJ3h4eCd9KTtcblxuICAgICAgICAgLy8gR2V0IGhvbGQgb2YgYSBzY29wZSAoaS5lLiB0aGUgcm9vdCBzY29wZSlcbiAgICAgICAgICRyb290U2NvcGUgPSAkaW5qZWN0b3IuZ2V0KCckcm9vdFNjb3BlJyk7XG4gICAgICAgICAvLyBUaGUgJGNvbnRyb2xsZXIgc2VydmljZSBpcyB1c2VkIHRvIGNyZWF0ZSBpbnN0YW5jZXMgb2YgY29udHJvbGxlcnNcbiAgICAgICAgIHZhciAkY29udHJvbGxlciA9ICRpbmplY3Rvci5nZXQoJyRjb250cm9sbGVyJyk7XG5cbiAgICAgICAgIGNyZWF0ZUNvbnRyb2xsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgcmV0dXJuICRjb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCB7JyRzY29wZScgOiAkcm9vdFNjb3BlIH0pO1xuICAgICAgICAgfTtcbiAgICAgICB9KSk7XG5cblxuICAgICAgIGFmdGVyRWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICRodHRwQmFja2VuZC52ZXJpZnlOb091dHN0YW5kaW5nRXhwZWN0YXRpb24oKTtcbiAgICAgICAgICRodHRwQmFja2VuZC52ZXJpZnlOb091dHN0YW5kaW5nUmVxdWVzdCgpO1xuICAgICAgIH0pO1xuXG5cbiAgICAgICBpdCgnc2hvdWxkIGZldGNoIGF1dGhlbnRpY2F0aW9uIHRva2VuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAkaHR0cEJhY2tlbmQuZXhwZWN0R0VUKCcvYXV0aC5weScpO1xuICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBjcmVhdGVDb250cm9sbGVyKCk7XG4gICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTtcbiAgICAgICB9KTtcblxuXG4gICAgICAgaXQoJ3Nob3VsZCBmYWlsIGF1dGhlbnRpY2F0aW9uJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgIC8vIE5vdGljZSBob3cgeW91IGNhbiBjaGFuZ2UgdGhlIHJlc3BvbnNlIGV2ZW4gYWZ0ZXIgaXQgd2FzIHNldFxuICAgICAgICAgYXV0aFJlcXVlc3RIYW5kbGVyLnJlc3BvbmQoNDAxLCAnJyk7XG5cbiAgICAgICAgICRodHRwQmFja2VuZC5leHBlY3RHRVQoJy9hdXRoLnB5Jyk7XG4gICAgICAgICB2YXIgY29udHJvbGxlciA9IGNyZWF0ZUNvbnRyb2xsZXIoKTtcbiAgICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpO1xuICAgICAgICAgZXhwZWN0KCRyb290U2NvcGUuc3RhdHVzKS50b0JlKCdGYWlsZWQuLi4nKTtcbiAgICAgICB9KTtcblxuXG4gICAgICAgaXQoJ3Nob3VsZCBzZW5kIG1zZyB0byBzZXJ2ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBjb250cm9sbGVyID0gY3JlYXRlQ29udHJvbGxlcigpO1xuICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7XG5cbiAgICAgICAgIC8vIG5vdyB5b3UgZG9u4oCZdCBjYXJlIGFib3V0IHRoZSBhdXRoZW50aWNhdGlvbiwgYnV0XG4gICAgICAgICAvLyB0aGUgY29udHJvbGxlciB3aWxsIHN0aWxsIHNlbmQgdGhlIHJlcXVlc3QgYW5kXG4gICAgICAgICAvLyAkaHR0cEJhY2tlbmQgd2lsbCByZXNwb25kIHdpdGhvdXQgeW91IGhhdmluZyB0b1xuICAgICAgICAgLy8gc3BlY2lmeSB0aGUgZXhwZWN0YXRpb24gYW5kIHJlc3BvbnNlIGZvciB0aGlzIHJlcXVlc3RcblxuICAgICAgICAgJGh0dHBCYWNrZW5kLmV4cGVjdFBPU1QoJy9hZGQtbXNnLnB5JywgJ21lc3NhZ2UgY29udGVudCcpLnJlc3BvbmQoMjAxLCAnJyk7XG4gICAgICAgICAkcm9vdFNjb3BlLnNhdmVNZXNzYWdlKCdtZXNzYWdlIGNvbnRlbnQnKTtcbiAgICAgICAgIGV4cGVjdCgkcm9vdFNjb3BlLnN0YXR1cykudG9CZSgnU2F2aW5nLi4uJyk7XG4gICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTtcbiAgICAgICAgIGV4cGVjdCgkcm9vdFNjb3BlLnN0YXR1cykudG9CZSgnJyk7XG4gICAgICAgfSk7XG5cblxuICAgICAgIGl0KCdzaG91bGQgc2VuZCBhdXRoIGhlYWRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBjcmVhdGVDb250cm9sbGVyKCk7XG4gICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTtcblxuICAgICAgICAgJGh0dHBCYWNrZW5kLmV4cGVjdFBPU1QoJy9hZGQtbXNnLnB5JywgdW5kZWZpbmVkLCBmdW5jdGlvbihoZWFkZXJzKSB7XG4gICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSBoZWFkZXIgd2FzIHNlbnQsIGlmIGl0IHdhc24ndCB0aGUgZXhwZWN0YXRpb24gd29uJ3RcbiAgICAgICAgICAgLy8gbWF0Y2ggdGhlIHJlcXVlc3QgYW5kIHRoZSB0ZXN0IHdpbGwgZmFpbFxuICAgICAgICAgICByZXR1cm4gaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID09ICd4eHgnO1xuICAgICAgICAgfSkucmVzcG9uZCgyMDEsICcnKTtcblxuICAgICAgICAgJHJvb3RTY29wZS5zYXZlTWVzc2FnZSgnd2hhdGV2ZXInKTtcbiAgICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpO1xuICAgICAgIH0pO1xuICAgIH0pO1xuICBgYGBcbiAqXG4gKiAjIyBEeW5hbWljIHJlc3BvbnNlc1xuICpcbiAqIFlvdSBkZWZpbmUgYSByZXNwb25zZSB0byBhIHJlcXVlc3QgYnkgY2hhaW5pbmcgYSBjYWxsIHRvIGByZXNwb25kKClgIG9udG8gYSBkZWZpbml0aW9uIG9yIGV4cGVjdGF0aW9uLlxuICogSWYgeW91IHByb3ZpZGUgYSAqKmNhbGxiYWNrKiogYXMgdGhlIGZpcnN0IHBhcmFtZXRlciB0byBgcmVzcG9uZChjYWxsYmFjaylgIHRoZW4geW91IGNhbiBkeW5hbWljYWxseSBnZW5lcmF0ZVxuICogYSByZXNwb25zZSBiYXNlZCBvbiB0aGUgcHJvcGVydGllcyBvZiB0aGUgcmVxdWVzdC5cbiAqXG4gKiBUaGUgYGNhbGxiYWNrYCBmdW5jdGlvbiBzaG91bGQgYmUgb2YgdGhlIGZvcm0gYGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzLCBwYXJhbXMpYC5cbiAqXG4gKiAjIyMgUXVlcnkgcGFyYW1ldGVyc1xuICpcbiAqIEJ5IGRlZmF1bHQsIHF1ZXJ5IHBhcmFtZXRlcnMgb24gcmVxdWVzdCBVUkxzIGFyZSBwYXJzZWQgaW50byB0aGUgYHBhcmFtc2Agb2JqZWN0LiBTbyBhIHJlcXVlc3QgVVJMXG4gKiBvZiBgL2xpc3Q/cT1zZWFyY2hzdHImb3JkZXJieT0tbmFtZWAgd291bGQgc2V0IGBwYXJhbXNgIHRvIGJlIGB7cTogJ3NlYXJjaHN0cicsIG9yZGVyYnk6ICctbmFtZSd9YC5cbiAqXG4gKiAjIyMgUmVnZXggcGFyYW1ldGVyIG1hdGNoaW5nXG4gKlxuICogSWYgYW4gZXhwZWN0YXRpb24gb3IgZGVmaW5pdGlvbiB1c2VzIGEgKipyZWdleCoqIHRvIG1hdGNoIHRoZSBVUkwsIHlvdSBjYW4gcHJvdmlkZSBhbiBhcnJheSBvZiAqKmtleXMqKiB2aWEgYVxuICogYHBhcmFtc2AgYXJndW1lbnQuIFRoZSBpbmRleCBvZiBlYWNoICoqa2V5KiogaW4gdGhlIGFycmF5IHdpbGwgbWF0Y2ggdGhlIGluZGV4IG9mIGEgKipncm91cCoqIGluIHRoZVxuICogKipyZWdleCoqLlxuICpcbiAqIFRoZSBgcGFyYW1zYCBvYmplY3QgaW4gdGhlICoqY2FsbGJhY2sqKiB3aWxsIG5vdyBoYXZlIHByb3BlcnRpZXMgd2l0aCB0aGVzZSBrZXlzLCB3aGljaCBob2xkIHRoZSB2YWx1ZSBvZiB0aGVcbiAqIGNvcnJlc3BvbmRpbmcgKipncm91cCoqIGluIHRoZSAqKnJlZ2V4KiouXG4gKlxuICogVGhpcyBhbHNvIGFwcGxpZXMgdG8gdGhlIGB3aGVuYCBhbmQgYGV4cGVjdGAgc2hvcnRjdXQgbWV0aG9kcy5cbiAqXG4gKlxuICogYGBganNcbiAqICAgJGh0dHBCYWNrZW5kLmV4cGVjdCgnR0VUJywgL1xcL3VzZXJcXC8oLispLywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFsnaWQnXSlcbiAqICAgICAucmVzcG9uZChmdW5jdGlvbihtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycywgcGFyYW1zKSB7XG4gKiAgICAgICAvLyBmb3IgcmVxdWVzdGVkIHVybCBvZiAnL3VzZXIvMTIzNCcgcGFyYW1zIGlzIHtpZDogJzEyMzQnfVxuICogICAgIH0pO1xuICpcbiAqICAgJGh0dHBCYWNrZW5kLndoZW5QQVRDSCgvXFwvdXNlclxcLyguKylcXC9hcnRpY2xlXFwvKC4rKS8sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBbJ3VzZXInLCAnYXJ0aWNsZSddKVxuICogICAgIC5yZXNwb25kKGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzLCBwYXJhbXMpIHtcbiAqICAgICAgIC8vIGZvciB1cmwgb2YgJy91c2VyLzEyMzQvYXJ0aWNsZS81NjcnIHBhcmFtcyBpcyB7dXNlcjogJzEyMzQnLCBhcnRpY2xlOiAnNTY3J31cbiAqICAgICB9KTtcbiAqIGBgYFxuICpcbiAqICMjIE1hdGNoaW5nIHJvdXRlIHJlcXVlc3RzXG4gKlxuICogRm9yIGV4dHJhIGNvbnZlbmllbmNlLCBgd2hlblJvdXRlYCBhbmQgYGV4cGVjdFJvdXRlYCBzaG9ydGN1dHMgYXJlIGF2YWlsYWJsZS4gVGhlc2UgbWV0aG9kcyBvZmZlciBjb2xvblxuICogZGVsaW1pdGVkIG1hdGNoaW5nIG9mIHRoZSB1cmwgcGF0aCwgaWdub3JpbmcgdGhlIHF1ZXJ5IHN0cmluZy4gVGhpcyBhbGxvd3MgZGVjbGFyYXRpb25zXG4gKiBzaW1pbGFyIHRvIGhvdyBhcHBsaWNhdGlvbiByb3V0ZXMgYXJlIGNvbmZpZ3VyZWQgd2l0aCBgJHJvdXRlUHJvdmlkZXJgLiBCZWNhdXNlIHRoZXNlIG1ldGhvZHMgY29udmVydFxuICogdGhlIGRlZmluaXRpb24gdXJsIHRvIHJlZ2V4LCBkZWNsYXJhdGlvbiBvcmRlciBpcyBpbXBvcnRhbnQuIENvbWJpbmVkIHdpdGggcXVlcnkgcGFyYW1ldGVyIHBhcnNpbmcsXG4gKiB0aGUgZm9sbG93aW5nIGlzIHBvc3NpYmxlOlxuICpcbiAgYGBganNcbiAgICAkaHR0cEJhY2tlbmQud2hlblJvdXRlKCdHRVQnLCAnL3VzZXJzLzppZCcpXG4gICAgICAucmVzcG9uZChmdW5jdGlvbihtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycywgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBbMjAwLCBNb2NrVXNlckxpc3RbTnVtYmVyKHBhcmFtcy5pZCldXTtcbiAgICAgIH0pO1xuXG4gICAgJGh0dHBCYWNrZW5kLndoZW5Sb3V0ZSgnR0VUJywgJy91c2VycycpXG4gICAgICAucmVzcG9uZChmdW5jdGlvbihtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycywgcGFyYW1zKSB7XG4gICAgICAgIHZhciB1c2VyTGlzdCA9IGFuZ3VsYXIuY29weShNb2NrVXNlckxpc3QpLFxuICAgICAgICAgIGRlZmF1bHRTb3J0ID0gJ2xhc3ROYW1lJyxcbiAgICAgICAgICBjb3VudCwgcGFnZXMsIGlzUHJldmlvdXMsIGlzTmV4dDtcblxuICAgICAgICAvLyBwYWdlZCBhcGkgcmVzcG9uc2UgJy92MS91c2Vycz9wYWdlPTInXG4gICAgICAgIHBhcmFtcy5wYWdlID0gTnVtYmVyKHBhcmFtcy5wYWdlKSB8fCAxO1xuXG4gICAgICAgIC8vIHF1ZXJ5IGZvciBsYXN0IG5hbWVzICcvdjEvdXNlcnM/cT1BcmNoZXInXG4gICAgICAgIGlmIChwYXJhbXMucSkge1xuICAgICAgICAgIHVzZXJMaXN0ID0gJGZpbHRlcignZmlsdGVyJykoe2xhc3ROYW1lOiBwYXJhbXMucX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFnZXMgPSBNYXRoLmNlaWwodXNlckxpc3QubGVuZ3RoIC8gcGFnaW5nTGVuZ3RoKTtcbiAgICAgICAgaXNQcmV2aW91cyA9IHBhcmFtcy5wYWdlID4gMTtcbiAgICAgICAgaXNOZXh0ID0gcGFyYW1zLnBhZ2UgPCBwYWdlcztcblxuICAgICAgICByZXR1cm4gWzIwMCwge1xuICAgICAgICAgIGNvdW50OiAgICB1c2VyTGlzdC5sZW5ndGgsXG4gICAgICAgICAgcHJldmlvdXM6IGlzUHJldmlvdXMsXG4gICAgICAgICAgbmV4dDogICAgIGlzTmV4dCxcbiAgICAgICAgICAvLyBzb3J0IGZpZWxkIC0+ICcvdjEvdXNlcnM/c29ydEJ5PWZpcnN0TmFtZSdcbiAgICAgICAgICByZXN1bHRzOiAgJGZpbHRlcignb3JkZXJCeScpKHVzZXJMaXN0LCBwYXJhbXMuc29ydEJ5IHx8IGRlZmF1bHRTb3J0KVxuICAgICAgICAgICAgICAgICAgICAgIC5zcGxpY2UoKHBhcmFtcy5wYWdlIC0gMSkgKiBwYWdpbmdMZW5ndGgsIHBhZ2luZ0xlbmd0aClcbiAgICAgICAgfV07XG4gICAgICB9KTtcbiAgYGBgXG4gKi9cbmFuZ3VsYXIubW9jay4kSHR0cEJhY2tlbmRQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCBjcmVhdGVIdHRwQmFja2VuZE1vY2tdO1xufTtcblxuLyoqXG4gKiBHZW5lcmFsIGZhY3RvcnkgZnVuY3Rpb24gZm9yICRodHRwQmFja2VuZCBtb2NrLlxuICogUmV0dXJucyBpbnN0YW5jZSBmb3IgdW5pdCB0ZXN0aW5nICh3aGVuIG5vIGFyZ3VtZW50cyBzcGVjaWZpZWQpOlxuICogICAtIHBhc3NpbmcgdGhyb3VnaCBpcyBkaXNhYmxlZFxuICogICAtIGF1dG8gZmx1c2hpbmcgaXMgZGlzYWJsZWRcbiAqXG4gKiBSZXR1cm5zIGluc3RhbmNlIGZvciBlMmUgdGVzdGluZyAod2hlbiBgJGRlbGVnYXRlYCBhbmQgYCRicm93c2VyYCBzcGVjaWZpZWQpOlxuICogICAtIHBhc3NpbmcgdGhyb3VnaCAoZGVsZWdhdGluZyByZXF1ZXN0IHRvIHJlYWwgYmFja2VuZCkgaXMgZW5hYmxlZFxuICogICAtIGF1dG8gZmx1c2hpbmcgaXMgZW5hYmxlZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PX0gJGRlbGVnYXRlIFJlYWwgJGh0dHBCYWNrZW5kIGluc3RhbmNlIChhbGxvdyBwYXNzaW5nIHRocm91Z2ggaWYgc3BlY2lmaWVkKVxuICogQHBhcmFtIHtPYmplY3Q9fSAkYnJvd3NlciBBdXRvLWZsdXNoaW5nIGVuYWJsZWQgaWYgc3BlY2lmaWVkXG4gKiBAcmV0dXJuIHtPYmplY3R9IEluc3RhbmNlIG9mICRodHRwQmFja2VuZCBtb2NrXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUh0dHBCYWNrZW5kTW9jaygkcm9vdFNjb3BlLCAkdGltZW91dCwgJGRlbGVnYXRlLCAkYnJvd3Nlcikge1xuICB2YXIgZGVmaW5pdGlvbnMgPSBbXSxcbiAgICAgIGV4cGVjdGF0aW9ucyA9IFtdLFxuICAgICAgcmVzcG9uc2VzID0gW10sXG4gICAgICByZXNwb25zZXNQdXNoID0gYW5ndWxhci5iaW5kKHJlc3BvbnNlcywgcmVzcG9uc2VzLnB1c2gpLFxuICAgICAgY29weSA9IGFuZ3VsYXIuY29weTtcblxuICBmdW5jdGlvbiBjcmVhdGVSZXNwb25zZShzdGF0dXMsIGRhdGEsIGhlYWRlcnMsIHN0YXR1c1RleHQpIHtcbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHN0YXR1cykpIHJldHVybiBzdGF0dXM7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYW5ndWxhci5pc051bWJlcihzdGF0dXMpXG4gICAgICAgICAgPyBbc3RhdHVzLCBkYXRhLCBoZWFkZXJzLCBzdGF0dXNUZXh0XVxuICAgICAgICAgIDogWzIwMCwgc3RhdHVzLCBkYXRhLCBoZWFkZXJzXTtcbiAgICB9O1xuICB9XG5cbiAgLy8gVE9ETyh2b2p0YSk6IGNoYW5nZSBwYXJhbXMgdG86IG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzLCBjYWxsYmFja1xuICBmdW5jdGlvbiAkaHR0cEJhY2tlbmQobWV0aG9kLCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBoZWFkZXJzLCB0aW1lb3V0LCB3aXRoQ3JlZGVudGlhbHMpIHtcbiAgICB2YXIgeGhyID0gbmV3IE1vY2tYaHIoKSxcbiAgICAgICAgZXhwZWN0YXRpb24gPSBleHBlY3RhdGlvbnNbMF0sXG4gICAgICAgIHdhc0V4cGVjdGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBwcmV0dHlQcmludChkYXRhKSB7XG4gICAgICByZXR1cm4gKGFuZ3VsYXIuaXNTdHJpbmcoZGF0YSkgfHwgYW5ndWxhci5pc0Z1bmN0aW9uKGRhdGEpIHx8IGRhdGEgaW5zdGFuY2VvZiBSZWdFeHApXG4gICAgICAgICAgPyBkYXRhXG4gICAgICAgICAgOiBhbmd1bGFyLnRvSnNvbihkYXRhKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3cmFwUmVzcG9uc2Uod3JhcHBlZCkge1xuICAgICAgaWYgKCEkYnJvd3NlciAmJiB0aW1lb3V0KSB7XG4gICAgICAgIHRpbWVvdXQudGhlbiA/IHRpbWVvdXQudGhlbihoYW5kbGVUaW1lb3V0KSA6ICR0aW1lb3V0KGhhbmRsZVRpbWVvdXQsIHRpbWVvdXQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGFuZGxlUmVzcG9uc2U7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKCkge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSB3cmFwcGVkLnJlc3BvbnNlKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzLCB3cmFwcGVkLnBhcmFtcyh1cmwpKTtcbiAgICAgICAgeGhyLiQkcmVzcEhlYWRlcnMgPSByZXNwb25zZVsyXTtcbiAgICAgICAgY2FsbGJhY2soY29weShyZXNwb25zZVswXSksIGNvcHkocmVzcG9uc2VbMV0pLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksXG4gICAgICAgICAgICAgICAgIGNvcHkocmVzcG9uc2VbM10gfHwgJycpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmVzcG9uc2VzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2VzW2ldID09PSBoYW5kbGVSZXNwb25zZSkge1xuICAgICAgICAgICAgcmVzcG9uc2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKC0xLCB1bmRlZmluZWQsICcnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChleHBlY3RhdGlvbiAmJiBleHBlY3RhdGlvbi5tYXRjaChtZXRob2QsIHVybCkpIHtcbiAgICAgIGlmICghZXhwZWN0YXRpb24ubWF0Y2hEYXRhKGRhdGEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgJyArIGV4cGVjdGF0aW9uICsgJyB3aXRoIGRpZmZlcmVudCBkYXRhXFxuJyArXG4gICAgICAgICAgICAnRVhQRUNURUQ6ICcgKyBwcmV0dHlQcmludChleHBlY3RhdGlvbi5kYXRhKSArICdcXG5HT1Q6ICAgICAgJyArIGRhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV4cGVjdGF0aW9uLm1hdGNoSGVhZGVycyhoZWFkZXJzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkICcgKyBleHBlY3RhdGlvbiArICcgd2l0aCBkaWZmZXJlbnQgaGVhZGVyc1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0VYUEVDVEVEOiAnICsgcHJldHR5UHJpbnQoZXhwZWN0YXRpb24uaGVhZGVycykgKyAnXFxuR09UOiAgICAgICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldHR5UHJpbnQoaGVhZGVycykpO1xuICAgICAgfVxuXG4gICAgICBleHBlY3RhdGlvbnMuc2hpZnQoKTtcblxuICAgICAgaWYgKGV4cGVjdGF0aW9uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlc3BvbnNlcy5wdXNoKHdyYXBSZXNwb25zZShleHBlY3RhdGlvbikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3YXNFeHBlY3RlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGkgPSAtMSwgZGVmaW5pdGlvbjtcbiAgICB3aGlsZSAoKGRlZmluaXRpb24gPSBkZWZpbml0aW9uc1srK2ldKSkge1xuICAgICAgaWYgKGRlZmluaXRpb24ubWF0Y2gobWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMgfHwge30pKSB7XG4gICAgICAgIGlmIChkZWZpbml0aW9uLnJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gaWYgJGJyb3dzZXIgc3BlY2lmaWVkLCB3ZSBkbyBhdXRvIGZsdXNoIGFsbCByZXF1ZXN0c1xuICAgICAgICAgICgkYnJvd3NlciA/ICRicm93c2VyLmRlZmVyIDogcmVzcG9uc2VzUHVzaCkod3JhcFJlc3BvbnNlKGRlZmluaXRpb24pKTtcbiAgICAgICAgfSBlbHNlIGlmIChkZWZpbml0aW9uLnBhc3NUaHJvdWdoKSB7XG4gICAgICAgICAgJGRlbGVnYXRlKG1ldGhvZCwgdXJsLCBkYXRhLCBjYWxsYmFjaywgaGVhZGVycywgdGltZW91dCwgd2l0aENyZWRlbnRpYWxzKTtcbiAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignTm8gcmVzcG9uc2UgZGVmaW5lZCAhJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgd2FzRXhwZWN0ZWQgP1xuICAgICAgICBuZXcgRXJyb3IoJ05vIHJlc3BvbnNlIGRlZmluZWQgIScpIDpcbiAgICAgICAgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHJlcXVlc3Q6ICcgKyBtZXRob2QgKyAnICcgKyB1cmwgKyAnXFxuJyArXG4gICAgICAgICAgICAgICAgICAoZXhwZWN0YXRpb24gPyAnRXhwZWN0ZWQgJyArIGV4cGVjdGF0aW9uIDogJ05vIG1vcmUgcmVxdWVzdCBleHBlY3RlZCcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDcmVhdGVzIGEgbmV3IGJhY2tlbmQgZGVmaW5pdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBIVFRQIG1ldGhvZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl9IHVybCBIVFRQIHVybCBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgdXJsXG4gICAqICAgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgdXJsIG1hdGNoZXMgdGhlIGN1cnJlbnQgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIHsoc3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpKT19IGRhdGEgSFRUUCByZXF1ZXN0IGJvZHkgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlc1xuICAgKiAgIGRhdGEgc3RyaW5nIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgaXMgYXMgZXhwZWN0ZWQuXG4gICAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgaHR0cCBoZWFkZXJcbiAgICogICBvYmplY3QgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgaGVhZGVycyBtYXRjaCB0aGUgY3VycmVudCBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIGFib3ZlLlxuICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2xzIGhvdyBhIG1hdGNoZWRcbiAgICogICByZXF1ZXN0IGlzIGhhbmRsZWQuIFlvdSBjYW4gc2F2ZSB0aGlzIG9iamVjdCBmb3IgbGF0ZXIgdXNlIGFuZCBpbnZva2UgYHJlc3BvbmRgIGFnYWluIGluXG4gICAqICAgb3JkZXIgdG8gY2hhbmdlIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLlxuICAgKlxuICAgKiAgLSByZXNwb25kIOKAk1xuICAgKiAgICAgIGB7ZnVuY3Rpb24oW3N0YXR1cyxdIGRhdGFbLCBoZWFkZXJzLCBzdGF0dXNUZXh0XSlcbiAgICogICAgICB8IGZ1bmN0aW9uKGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzLCBwYXJhbXMpfWBcbiAgICogICAg4oCTIFRoZSByZXNwb25kIG1ldGhvZCB0YWtlcyBhIHNldCBvZiBzdGF0aWMgZGF0YSB0byBiZSByZXR1cm5lZCBvciBhIGZ1bmN0aW9uIHRoYXQgY2FuXG4gICAqICAgIHJldHVybiBhbiBhcnJheSBjb250YWluaW5nIHJlc3BvbnNlIHN0YXR1cyAobnVtYmVyKSwgcmVzcG9uc2UgZGF0YSAoc3RyaW5nKSwgcmVzcG9uc2VcbiAgICogICAgaGVhZGVycyAoT2JqZWN0KSwgYW5kIHRoZSB0ZXh0IGZvciB0aGUgc3RhdHVzIChzdHJpbmcpLiBUaGUgcmVzcG9uZCBtZXRob2QgcmV0dXJucyB0aGVcbiAgICogICAgYHJlcXVlc3RIYW5kbGVyYCBvYmplY3QgZm9yIHBvc3NpYmxlIG92ZXJyaWRlcy5cbiAgICovXG4gICRodHRwQmFja2VuZC53aGVuID0gZnVuY3Rpb24obWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMsIGtleXMpIHtcbiAgICB2YXIgZGVmaW5pdGlvbiA9IG5ldyBNb2NrSHR0cEV4cGVjdGF0aW9uKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzLCBrZXlzKSxcbiAgICAgICAgY2hhaW4gPSB7XG4gICAgICAgICAgcmVzcG9uZDogZnVuY3Rpb24oc3RhdHVzLCBkYXRhLCBoZWFkZXJzLCBzdGF0dXNUZXh0KSB7XG4gICAgICAgICAgICBkZWZpbml0aW9uLnBhc3NUaHJvdWdoID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZGVmaW5pdGlvbi5yZXNwb25zZSA9IGNyZWF0ZVJlc3BvbnNlKHN0YXR1cywgZGF0YSwgaGVhZGVycywgc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gY2hhaW47XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgaWYgKCRicm93c2VyKSB7XG4gICAgICBjaGFpbi5wYXNzVGhyb3VnaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBkZWZpbml0aW9uLnJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgICAgICBkZWZpbml0aW9uLnBhc3NUaHJvdWdoID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGNoYWluO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBkZWZpbml0aW9ucy5wdXNoKGRlZmluaXRpb24pO1xuICAgIHJldHVybiBjaGFpbjtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlbkdFVFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIEdFVCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpfSB1cmwgSFRUUCB1cmwgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhIHVybFxuICAgKiAgIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIHVybCBtYXRjaGVzIHRoZSBjdXJyZW50IGRlZmluaXRpb24uXG4gICAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLlxuICAgKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIGFib3ZlLlxuICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2xzIGhvdyBhIG1hdGNoZWRcbiAgICogcmVxdWVzdCBpcyBoYW5kbGVkLiBZb3UgY2FuIHNhdmUgdGhpcyBvYmplY3QgZm9yIGxhdGVyIHVzZSBhbmQgaW52b2tlIGByZXNwb25kYCBhZ2FpbiBpblxuICAgKiBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuSEVBRFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIEhFQUQgcmVxdWVzdHMuIEZvciBtb3JlIGluZm8gc2VlIGB3aGVuKClgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKX0gdXJsIEhUVFAgdXJsIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSB1cmxcbiAgICogICBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSB1cmwgbWF0Y2hlcyB0aGUgY3VycmVudCBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy5cbiAgICogQHBhcmFtIHsoQXJyYXkpPX0ga2V5cyBBcnJheSBvZiBrZXlzIHRvIGFzc2lnbiB0byByZWdleCBtYXRjaGVzIGluIHJlcXVlc3QgdXJsIGRlc2NyaWJlZCBhYm92ZS5cbiAgICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBtZXRob2QgdGhhdCBjb250cm9scyBob3cgYSBtYXRjaGVkXG4gICAqIHJlcXVlc3QgaXMgaGFuZGxlZC4gWW91IGNhbiBzYXZlIHRoaXMgb2JqZWN0IGZvciBsYXRlciB1c2UgYW5kIGludm9rZSBgcmVzcG9uZGAgYWdhaW4gaW5cbiAgICogb3JkZXIgdG8gY2hhbmdlIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLlxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlbkRFTEVURVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIERFTEVURSByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpfSB1cmwgSFRUUCB1cmwgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhIHVybFxuICAgKiAgIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIHVybCBtYXRjaGVzIHRoZSBjdXJyZW50IGRlZmluaXRpb24uXG4gICAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLlxuICAgKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIGFib3ZlLlxuICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2xzIGhvdyBhIG1hdGNoZWRcbiAgICogcmVxdWVzdCBpcyBoYW5kbGVkLiBZb3UgY2FuIHNhdmUgdGhpcyBvYmplY3QgZm9yIGxhdGVyIHVzZSBhbmQgaW52b2tlIGByZXNwb25kYCBhZ2FpbiBpblxuICAgKiBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuUE9TVFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIFBPU1QgcmVxdWVzdHMuIEZvciBtb3JlIGluZm8gc2VlIGB3aGVuKClgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKX0gdXJsIEhUVFAgdXJsIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSB1cmxcbiAgICogICBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSB1cmwgbWF0Y2hlcyB0aGUgY3VycmVudCBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0geyhzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZykpPX0gZGF0YSBIVFRQIHJlcXVlc3QgYm9keSBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzXG4gICAqICAgZGF0YSBzdHJpbmcgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgZGF0YSBpcyBhcyBleHBlY3RlZC5cbiAgICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKE9iamVjdCkpPX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuXG4gICAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgYWJvdmUuXG4gICAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgbWV0aG9kIHRoYXQgY29udHJvbHMgaG93IGEgbWF0Y2hlZFxuICAgKiByZXF1ZXN0IGlzIGhhbmRsZWQuIFlvdSBjYW4gc2F2ZSB0aGlzIG9iamVjdCBmb3IgbGF0ZXIgdXNlIGFuZCBpbnZva2UgYHJlc3BvbmRgIGFnYWluIGluXG4gICAqIG9yZGVyIHRvIGNoYW5nZSBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC5cbiAgICovXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI3doZW5QVVRcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIGZvciBQVVQgcmVxdWVzdHMuICBGb3IgbW9yZSBpbmZvIHNlZSBgd2hlbigpYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl9IHVybCBIVFRQIHVybCBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgdXJsXG4gICAqICAgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgdXJsIG1hdGNoZXMgdGhlIGN1cnJlbnQgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIHsoc3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpKT19IGRhdGEgSFRUUCByZXF1ZXN0IGJvZHkgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlc1xuICAgKiAgIGRhdGEgc3RyaW5nIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgaXMgYXMgZXhwZWN0ZWQuXG4gICAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLlxuICAgKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIGFib3ZlLlxuICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2xzIGhvdyBhIG1hdGNoZWRcbiAgICogcmVxdWVzdCBpcyBoYW5kbGVkLiBZb3UgY2FuIHNhdmUgdGhpcyBvYmplY3QgZm9yIGxhdGVyIHVzZSBhbmQgaW52b2tlIGByZXNwb25kYCBhZ2FpbiBpblxuICAgKiBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuSlNPTlBcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIGZvciBKU09OUCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpfSB1cmwgSFRUUCB1cmwgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhIHVybFxuICAgKiAgIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIHVybCBtYXRjaGVzIHRoZSBjdXJyZW50IGRlZmluaXRpb24uXG4gICAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgYWJvdmUuXG4gICAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgbWV0aG9kIHRoYXQgY29udHJvbHMgaG93IGEgbWF0Y2hlZFxuICAgKiByZXF1ZXN0IGlzIGhhbmRsZWQuIFlvdSBjYW4gc2F2ZSB0aGlzIG9iamVjdCBmb3IgbGF0ZXIgdXNlIGFuZCBpbnZva2UgYHJlc3BvbmRgIGFnYWluIGluXG4gICAqIG9yZGVyIHRvIGNoYW5nZSBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC5cbiAgICovXG4gIGNyZWF0ZVNob3J0TWV0aG9kcygnd2hlbicpO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuUm91dGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIHRoYXQgY29tcGFyZXMgb25seSB3aXRoIHRoZSByZXF1ZXN0ZWQgcm91dGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgSFRUUCBtZXRob2QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSFRUUCB1cmwgc3RyaW5nIHRoYXQgc3VwcG9ydHMgY29sb24gcGFyYW0gbWF0Y2hpbmcuXG4gICAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgbWV0aG9kIHRoYXQgY29udHJvbHMgaG93IGEgbWF0Y2hlZFxuICAgKiByZXF1ZXN0IGlzIGhhbmRsZWQuIFlvdSBjYW4gc2F2ZSB0aGlzIG9iamVjdCBmb3IgbGF0ZXIgdXNlIGFuZCBpbnZva2UgYHJlc3BvbmRgIGFnYWluIGluXG4gICAqIG9yZGVyIHRvIGNoYW5nZSBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC4gU2VlICN3aGVuIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICAkaHR0cEJhY2tlbmQud2hlblJvdXRlID0gZnVuY3Rpb24obWV0aG9kLCB1cmwpIHtcbiAgICB2YXIgcGF0aE9iaiA9IHBhcnNlUm91dGUodXJsKTtcbiAgICByZXR1cm4gJGh0dHBCYWNrZW5kLndoZW4obWV0aG9kLCBwYXRoT2JqLnJlZ2V4cCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHBhdGhPYmoua2V5cyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcGFyc2VSb3V0ZSh1cmwpIHtcbiAgICB2YXIgcmV0ID0ge1xuICAgICAgcmVnZXhwOiB1cmxcbiAgICB9LFxuICAgIGtleXMgPSByZXQua2V5cyA9IFtdO1xuXG4gICAgaWYgKCF1cmwgfHwgIWFuZ3VsYXIuaXNTdHJpbmcodXJsKSkgcmV0dXJuIHJldDtcblxuICAgIHVybCA9IHVybFxuICAgICAgLnJlcGxhY2UoLyhbKCkuXSkvZywgJ1xcXFwkMScpXG4gICAgICAucmVwbGFjZSgvKFxcLyk/OihcXHcrKShbXFw/XFwqXSk/L2csIGZ1bmN0aW9uKF8sIHNsYXNoLCBrZXksIG9wdGlvbikge1xuICAgICAgICB2YXIgb3B0aW9uYWwgPSBvcHRpb24gPT09ICc/JyA/IG9wdGlvbiA6IG51bGw7XG4gICAgICAgIHZhciBzdGFyID0gb3B0aW9uID09PSAnKicgPyBvcHRpb24gOiBudWxsO1xuICAgICAgICBrZXlzLnB1c2goeyBuYW1lOiBrZXksIG9wdGlvbmFsOiAhIW9wdGlvbmFsIH0pO1xuICAgICAgICBzbGFzaCA9IHNsYXNoIHx8ICcnO1xuICAgICAgICByZXR1cm4gJydcbiAgICAgICAgICArIChvcHRpb25hbCA/ICcnIDogc2xhc2gpXG4gICAgICAgICAgKyAnKD86J1xuICAgICAgICAgICsgKG9wdGlvbmFsID8gc2xhc2ggOiAnJylcbiAgICAgICAgICArIChzdGFyICYmICcoLis/KScgfHwgJyhbXi9dKyknKVxuICAgICAgICAgICsgKG9wdGlvbmFsIHx8ICcnKVxuICAgICAgICAgICsgJyknXG4gICAgICAgICAgKyAob3B0aW9uYWwgfHwgJycpO1xuICAgICAgfSlcbiAgICAgIC5yZXBsYWNlKC8oW1xcLyRcXCpdKS9nLCAnXFxcXCQxJyk7XG5cbiAgICByZXQucmVnZXhwID0gbmV3IFJlZ0V4cCgnXicgKyB1cmwsICdpJyk7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCNleHBlY3RcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBuZXcgcmVxdWVzdCBleHBlY3RhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBIVFRQIG1ldGhvZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl9IHVybCBIVFRQIHVybCBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgdXJsXG4gICAqICAgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgdXJsIG1hdGNoZXMgdGhlIGN1cnJlbnQgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIHsoc3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpfE9iamVjdCk9fSBkYXRhIEhUVFAgcmVxdWVzdCBib2R5IG9yIGZ1bmN0aW9uIHRoYXRcbiAgICogIHJlY2VpdmVzIGRhdGEgc3RyaW5nIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgaXMgYXMgZXhwZWN0ZWQsIG9yIE9iamVjdCBpZiByZXF1ZXN0IGJvZHlcbiAgICogIGlzIGluIEpTT04gZm9ybWF0LlxuICAgKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycyBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGh0dHAgaGVhZGVyXG4gICAqICAgb2JqZWN0IGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGhlYWRlcnMgbWF0Y2ggdGhlIGN1cnJlbnQgZXhwZWN0YXRpb24uXG4gICAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgYWJvdmUuXG4gICAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgbWV0aG9kIHRoYXQgY29udHJvbHMgaG93IGEgbWF0Y2hlZFxuICAgKiAgcmVxdWVzdCBpcyBoYW5kbGVkLiBZb3UgY2FuIHNhdmUgdGhpcyBvYmplY3QgZm9yIGxhdGVyIHVzZSBhbmQgaW52b2tlIGByZXNwb25kYCBhZ2FpbiBpblxuICAgKiAgb3JkZXIgdG8gY2hhbmdlIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLlxuICAgKlxuICAgKiAgLSByZXNwb25kIOKAk1xuICAgKiAgICBge2Z1bmN0aW9uKFtzdGF0dXMsXSBkYXRhWywgaGVhZGVycywgc3RhdHVzVGV4dF0pXG4gICAqICAgIHwgZnVuY3Rpb24oZnVuY3Rpb24obWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMsIHBhcmFtcyl9YFxuICAgKiAgICDigJMgVGhlIHJlc3BvbmQgbWV0aG9kIHRha2VzIGEgc2V0IG9mIHN0YXRpYyBkYXRhIHRvIGJlIHJldHVybmVkIG9yIGEgZnVuY3Rpb24gdGhhdCBjYW5cbiAgICogICAgcmV0dXJuIGFuIGFycmF5IGNvbnRhaW5pbmcgcmVzcG9uc2Ugc3RhdHVzIChudW1iZXIpLCByZXNwb25zZSBkYXRhIChzdHJpbmcpLCByZXNwb25zZVxuICAgKiAgICBoZWFkZXJzIChPYmplY3QpLCBhbmQgdGhlIHRleHQgZm9yIHRoZSBzdGF0dXMgKHN0cmluZykuIFRoZSByZXNwb25kIG1ldGhvZCByZXR1cm5zIHRoZVxuICAgKiAgICBgcmVxdWVzdEhhbmRsZXJgIG9iamVjdCBmb3IgcG9zc2libGUgb3ZlcnJpZGVzLlxuICAgKi9cbiAgJGh0dHBCYWNrZW5kLmV4cGVjdCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBkYXRhLCBoZWFkZXJzLCBrZXlzKSB7XG4gICAgdmFyIGV4cGVjdGF0aW9uID0gbmV3IE1vY2tIdHRwRXhwZWN0YXRpb24obWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMsIGtleXMpLFxuICAgICAgICBjaGFpbiA9IHtcbiAgICAgICAgICByZXNwb25kOiBmdW5jdGlvbihzdGF0dXMsIGRhdGEsIGhlYWRlcnMsIHN0YXR1c1RleHQpIHtcbiAgICAgICAgICAgIGV4cGVjdGF0aW9uLnJlc3BvbnNlID0gY3JlYXRlUmVzcG9uc2Uoc3RhdHVzLCBkYXRhLCBoZWFkZXJzLCBzdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBjaGFpbjtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICBleHBlY3RhdGlvbnMucHVzaChleHBlY3RhdGlvbik7XG4gICAgcmV0dXJuIGNoYWluO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCNleHBlY3RHRVRcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBuZXcgcmVxdWVzdCBleHBlY3RhdGlvbiBmb3IgR0VUIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgZXhwZWN0KClgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKX0gdXJsIEhUVFAgdXJsIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSB1cmxcbiAgICogICBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSB1cmwgbWF0Y2hlcyB0aGUgY3VycmVudCBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdD19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLlxuICAgKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIGFib3ZlLlxuICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2xzIGhvdyBhIG1hdGNoZWRcbiAgICogcmVxdWVzdCBpcyBoYW5kbGVkLiBZb3UgY2FuIHNhdmUgdGhpcyBvYmplY3QgZm9yIGxhdGVyIHVzZSBhbmQgaW52b2tlIGByZXNwb25kYCBhZ2FpbiBpblxuICAgKiBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuIFNlZSAjZXhwZWN0IGZvciBtb3JlIGluZm8uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCNleHBlY3RIRUFEXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDcmVhdGVzIGEgbmV3IHJlcXVlc3QgZXhwZWN0YXRpb24gZm9yIEhFQUQgcmVxdWVzdHMuIEZvciBtb3JlIGluZm8gc2VlIGBleHBlY3QoKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpfSB1cmwgSFRUUCB1cmwgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhIHVybFxuICAgKiAgIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIHVybCBtYXRjaGVzIHRoZSBjdXJyZW50IGRlZmluaXRpb24uXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuXG4gICAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgYWJvdmUuXG4gICAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgbWV0aG9kIHRoYXQgY29udHJvbHMgaG93IGEgbWF0Y2hlZFxuICAgKiAgIHJlcXVlc3QgaXMgaGFuZGxlZC4gWW91IGNhbiBzYXZlIHRoaXMgb2JqZWN0IGZvciBsYXRlciB1c2UgYW5kIGludm9rZSBgcmVzcG9uZGAgYWdhaW4gaW5cbiAgICogICBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCNleHBlY3RERUxFVEVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBuZXcgcmVxdWVzdCBleHBlY3RhdGlvbiBmb3IgREVMRVRFIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgZXhwZWN0KClgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKX0gdXJsIEhUVFAgdXJsIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSB1cmxcbiAgICogICBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSB1cmwgbWF0Y2hlcyB0aGUgY3VycmVudCBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdD19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLlxuICAgKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIGFib3ZlLlxuICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2xzIGhvdyBhIG1hdGNoZWRcbiAgICogICByZXF1ZXN0IGlzIGhhbmRsZWQuIFlvdSBjYW4gc2F2ZSB0aGlzIG9iamVjdCBmb3IgbGF0ZXIgdXNlIGFuZCBpbnZva2UgYHJlc3BvbmRgIGFnYWluIGluXG4gICAqICAgb3JkZXIgdG8gY2hhbmdlIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLlxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjZXhwZWN0UE9TVFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIG5ldyByZXF1ZXN0IGV4cGVjdGF0aW9uIGZvciBQT1NUIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgZXhwZWN0KClgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKX0gdXJsIEhUVFAgdXJsIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSB1cmxcbiAgICogICBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSB1cmwgbWF0Y2hlcyB0aGUgY3VycmVudCBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0geyhzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl8T2JqZWN0KT19IGRhdGEgSFRUUCByZXF1ZXN0IGJvZHkgb3IgZnVuY3Rpb24gdGhhdFxuICAgKiAgcmVjZWl2ZXMgZGF0YSBzdHJpbmcgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgZGF0YSBpcyBhcyBleHBlY3RlZCwgb3IgT2JqZWN0IGlmIHJlcXVlc3QgYm9keVxuICAgKiAgaXMgaW4gSlNPTiBmb3JtYXQuXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuXG4gICAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgYWJvdmUuXG4gICAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgbWV0aG9kIHRoYXQgY29udHJvbHMgaG93IGEgbWF0Y2hlZFxuICAgKiAgIHJlcXVlc3QgaXMgaGFuZGxlZC4gWW91IGNhbiBzYXZlIHRoaXMgb2JqZWN0IGZvciBsYXRlciB1c2UgYW5kIGludm9rZSBgcmVzcG9uZGAgYWdhaW4gaW5cbiAgICogICBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCNleHBlY3RQVVRcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBuZXcgcmVxdWVzdCBleHBlY3RhdGlvbiBmb3IgUFVUIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgZXhwZWN0KClgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKX0gdXJsIEhUVFAgdXJsIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSB1cmxcbiAgICogICBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSB1cmwgbWF0Y2hlcyB0aGUgY3VycmVudCBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0geyhzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl8T2JqZWN0KT19IGRhdGEgSFRUUCByZXF1ZXN0IGJvZHkgb3IgZnVuY3Rpb24gdGhhdFxuICAgKiAgcmVjZWl2ZXMgZGF0YSBzdHJpbmcgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgZGF0YSBpcyBhcyBleHBlY3RlZCwgb3IgT2JqZWN0IGlmIHJlcXVlc3QgYm9keVxuICAgKiAgaXMgaW4gSlNPTiBmb3JtYXQuXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuXG4gICAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgYWJvdmUuXG4gICAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgbWV0aG9kIHRoYXQgY29udHJvbHMgaG93IGEgbWF0Y2hlZFxuICAgKiAgIHJlcXVlc3QgaXMgaGFuZGxlZC4gWW91IGNhbiBzYXZlIHRoaXMgb2JqZWN0IGZvciBsYXRlciB1c2UgYW5kIGludm9rZSBgcmVzcG9uZGAgYWdhaW4gaW5cbiAgICogICBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCNleHBlY3RQQVRDSFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIG5ldyByZXF1ZXN0IGV4cGVjdGF0aW9uIGZvciBQQVRDSCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYGV4cGVjdCgpYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl9IHVybCBIVFRQIHVybCBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgdXJsXG4gICAqICAgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgdXJsIG1hdGNoZXMgdGhlIGN1cnJlbnQgZGVmaW5pdGlvbi5cbiAgICogQHBhcmFtIHsoc3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpfE9iamVjdCk9fSBkYXRhIEhUVFAgcmVxdWVzdCBib2R5IG9yIGZ1bmN0aW9uIHRoYXRcbiAgICogIHJlY2VpdmVzIGRhdGEgc3RyaW5nIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgaXMgYXMgZXhwZWN0ZWQsIG9yIE9iamVjdCBpZiByZXF1ZXN0IGJvZHlcbiAgICogIGlzIGluIEpTT04gZm9ybWF0LlxuICAgKiBAcGFyYW0ge09iamVjdD19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLlxuICAgKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIGFib3ZlLlxuICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2xzIGhvdyBhIG1hdGNoZWRcbiAgICogICByZXF1ZXN0IGlzIGhhbmRsZWQuIFlvdSBjYW4gc2F2ZSB0aGlzIG9iamVjdCBmb3IgbGF0ZXIgdXNlIGFuZCBpbnZva2UgYHJlc3BvbmRgIGFnYWluIGluXG4gICAqICAgb3JkZXIgdG8gY2hhbmdlIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLlxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjZXhwZWN0SlNPTlBcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBuZXcgcmVxdWVzdCBleHBlY3RhdGlvbiBmb3IgSlNPTlAgcmVxdWVzdHMuIEZvciBtb3JlIGluZm8gc2VlIGBleHBlY3QoKWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpfSB1cmwgSFRUUCB1cmwgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhbiB1cmxcbiAgICogICBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSB1cmwgbWF0Y2hlcyB0aGUgY3VycmVudCBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIGFib3ZlLlxuICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2xzIGhvdyBhIG1hdGNoZWRcbiAgICogICByZXF1ZXN0IGlzIGhhbmRsZWQuIFlvdSBjYW4gc2F2ZSB0aGlzIG9iamVjdCBmb3IgbGF0ZXIgdXNlIGFuZCBpbnZva2UgYHJlc3BvbmRgIGFnYWluIGluXG4gICAqICAgb3JkZXIgdG8gY2hhbmdlIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLlxuICAgKi9cbiAgY3JlYXRlU2hvcnRNZXRob2RzKCdleHBlY3QnKTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaHR0cEJhY2tlbmQjZXhwZWN0Um91dGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBuZXcgcmVxdWVzdCBleHBlY3RhdGlvbiB0aGF0IGNvbXBhcmVzIG9ubHkgd2l0aCB0aGUgcmVxdWVzdGVkIHJvdXRlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIEhUVFAgbWV0aG9kLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEhUVFAgdXJsIHN0cmluZyB0aGF0IHN1cHBvcnRzIGNvbG9uIHBhcmFtIG1hdGNoaW5nLlxuICAgKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIG1ldGhvZCB0aGF0IGNvbnRyb2xzIGhvdyBhIG1hdGNoZWRcbiAgICogcmVxdWVzdCBpcyBoYW5kbGVkLiBZb3UgY2FuIHNhdmUgdGhpcyBvYmplY3QgZm9yIGxhdGVyIHVzZSBhbmQgaW52b2tlIGByZXNwb25kYCBhZ2FpbiBpblxuICAgKiBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuIFNlZSAjZXhwZWN0IGZvciBtb3JlIGluZm8uXG4gICAqL1xuICAkaHR0cEJhY2tlbmQuZXhwZWN0Um91dGUgPSBmdW5jdGlvbihtZXRob2QsIHVybCkge1xuICAgIHZhciBwYXRoT2JqID0gcGFyc2VSb3V0ZSh1cmwpO1xuICAgIHJldHVybiAkaHR0cEJhY2tlbmQuZXhwZWN0KG1ldGhvZCwgcGF0aE9iai5yZWdleHAsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBwYXRoT2JqLmtleXMpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI2ZsdXNoXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBGbHVzaGVzIGFsbCBwZW5kaW5nIHJlcXVlc3RzIHVzaW5nIHRoZSB0cmFpbmVkIHJlc3BvbnNlcy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjb3VudCBOdW1iZXIgb2YgcmVzcG9uc2VzIHRvIGZsdXNoIChpbiB0aGUgb3JkZXIgdGhleSBhcnJpdmVkKS4gSWYgdW5kZWZpbmVkLFxuICAgKiAgIGFsbCBwZW5kaW5nIHJlcXVlc3RzIHdpbGwgYmUgZmx1c2hlZC4gSWYgdGhlcmUgYXJlIG5vIHBlbmRpbmcgcmVxdWVzdHMgd2hlbiB0aGUgZmx1c2ggbWV0aG9kXG4gICAqICAgaXMgY2FsbGVkIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gKGFzIHRoaXMgdHlwaWNhbGx5IGEgc2lnbiBvZiBwcm9ncmFtbWluZyBlcnJvcikuXG4gICAqL1xuICAkaHR0cEJhY2tlbmQuZmx1c2ggPSBmdW5jdGlvbihjb3VudCwgZGlnZXN0KSB7XG4gICAgaWYgKGRpZ2VzdCAhPT0gZmFsc2UpICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgIGlmICghcmVzcG9uc2VzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdObyBwZW5kaW5nIHJlcXVlc3QgdG8gZmx1c2ggIScpO1xuXG4gICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGNvdW50KSAmJiBjb3VudCAhPT0gbnVsbCkge1xuICAgICAgd2hpbGUgKGNvdW50LS0pIHtcbiAgICAgICAgaWYgKCFyZXNwb25zZXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ05vIG1vcmUgcGVuZGluZyByZXF1ZXN0IHRvIGZsdXNoICEnKTtcbiAgICAgICAgcmVzcG9uc2VzLnNoaWZ0KCkoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKHJlc3BvbnNlcy5sZW5ndGgpIHtcbiAgICAgICAgcmVzcG9uc2VzLnNoaWZ0KCkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgJGh0dHBCYWNrZW5kLnZlcmlmeU5vT3V0c3RhbmRpbmdFeHBlY3RhdGlvbihkaWdlc3QpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI3ZlcmlmeU5vT3V0c3RhbmRpbmdFeHBlY3RhdGlvblxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVmVyaWZpZXMgdGhhdCBhbGwgb2YgdGhlIHJlcXVlc3RzIGRlZmluZWQgdmlhIHRoZSBgZXhwZWN0YCBhcGkgd2VyZSBtYWRlLiBJZiBhbnkgb2YgdGhlXG4gICAqIHJlcXVlc3RzIHdlcmUgbm90IG1hZGUsIHZlcmlmeU5vT3V0c3RhbmRpbmdFeHBlY3RhdGlvbiB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgKlxuICAgKiBUeXBpY2FsbHksIHlvdSB3b3VsZCBjYWxsIHRoaXMgbWV0aG9kIGZvbGxvd2luZyBlYWNoIHRlc3QgY2FzZSB0aGF0IGFzc2VydHMgcmVxdWVzdHMgdXNpbmcgYW5cbiAgICogXCJhZnRlckVhY2hcIiBjbGF1c2UuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqICAgYWZ0ZXJFYWNoKCRodHRwQmFja2VuZC52ZXJpZnlOb091dHN0YW5kaW5nRXhwZWN0YXRpb24pO1xuICAgKiBgYGBcbiAgICovXG4gICRodHRwQmFja2VuZC52ZXJpZnlOb091dHN0YW5kaW5nRXhwZWN0YXRpb24gPSBmdW5jdGlvbihkaWdlc3QpIHtcbiAgICBpZiAoZGlnZXN0ICE9PSBmYWxzZSkgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgaWYgKGV4cGVjdGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5zYXRpc2ZpZWQgcmVxdWVzdHM6ICcgKyBleHBlY3RhdGlvbnMuam9pbignLCAnKSk7XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGh0dHBCYWNrZW5kI3ZlcmlmeU5vT3V0c3RhbmRpbmdSZXF1ZXN0XG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBWZXJpZmllcyB0aGF0IHRoZXJlIGFyZSBubyBvdXRzdGFuZGluZyByZXF1ZXN0cyB0aGF0IG5lZWQgdG8gYmUgZmx1c2hlZC5cbiAgICpcbiAgICogVHlwaWNhbGx5LCB5b3Ugd291bGQgY2FsbCB0aGlzIG1ldGhvZCBmb2xsb3dpbmcgZWFjaCB0ZXN0IGNhc2UgdGhhdCBhc3NlcnRzIHJlcXVlc3RzIHVzaW5nIGFuXG4gICAqIFwiYWZ0ZXJFYWNoXCIgY2xhdXNlLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAgIGFmdGVyRWFjaCgkaHR0cEJhY2tlbmQudmVyaWZ5Tm9PdXRzdGFuZGluZ1JlcXVlc3QpO1xuICAgKiBgYGBcbiAgICovXG4gICRodHRwQmFja2VuZC52ZXJpZnlOb091dHN0YW5kaW5nUmVxdWVzdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChyZXNwb25zZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZmx1c2hlZCByZXF1ZXN0czogJyArIHJlc3BvbnNlcy5sZW5ndGgpO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwQmFja2VuZCNyZXNldEV4cGVjdGF0aW9uc1xuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVzZXRzIGFsbCByZXF1ZXN0IGV4cGVjdGF0aW9ucywgYnV0IHByZXNlcnZlcyBhbGwgYmFja2VuZCBkZWZpbml0aW9ucy4gVHlwaWNhbGx5LCB5b3Ugd291bGRcbiAgICogY2FsbCByZXNldEV4cGVjdGF0aW9ucyBkdXJpbmcgYSBtdWx0aXBsZS1waGFzZSB0ZXN0IHdoZW4geW91IHdhbnQgdG8gcmV1c2UgdGhlIHNhbWUgaW5zdGFuY2Ugb2ZcbiAgICogJGh0dHBCYWNrZW5kIG1vY2suXG4gICAqL1xuICAkaHR0cEJhY2tlbmQucmVzZXRFeHBlY3RhdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICBleHBlY3RhdGlvbnMubGVuZ3RoID0gMDtcbiAgICByZXNwb25zZXMubGVuZ3RoID0gMDtcbiAgfTtcblxuICByZXR1cm4gJGh0dHBCYWNrZW5kO1xuXG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKHByZWZpeCkge1xuICAgIGFuZ3VsYXIuZm9yRWFjaChbJ0dFVCcsICdERUxFVEUnLCAnSlNPTlAnLCAnSEVBRCddLCBmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgJGh0dHBCYWNrZW5kW3ByZWZpeCArIG1ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGhlYWRlcnMsIGtleXMpIHtcbiAgICAgICByZXR1cm4gJGh0dHBCYWNrZW5kW3ByZWZpeF0obWV0aG9kLCB1cmwsIHVuZGVmaW5lZCwgaGVhZGVycywga2V5cyk7XG4gICAgIH07XG4gICAgfSk7XG5cbiAgICBhbmd1bGFyLmZvckVhY2goWydQVVQnLCAnUE9TVCcsICdQQVRDSCddLCBmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgICRodHRwQmFja2VuZFtwcmVmaXggKyBtZXRob2RdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBoZWFkZXJzLCBrZXlzKSB7XG4gICAgICAgIHJldHVybiAkaHR0cEJhY2tlbmRbcHJlZml4XShtZXRob2QsIHVybCwgZGF0YSwgaGVhZGVycywga2V5cyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIE1vY2tIdHRwRXhwZWN0YXRpb24obWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMsIGtleXMpIHtcblxuICB0aGlzLmRhdGEgPSBkYXRhO1xuICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuXG4gIHRoaXMubWF0Y2ggPSBmdW5jdGlvbihtLCB1LCBkLCBoKSB7XG4gICAgaWYgKG1ldGhvZCAhPSBtKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCF0aGlzLm1hdGNoVXJsKHUpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGQpICYmICF0aGlzLm1hdGNoRGF0YShkKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChoKSAmJiAhdGhpcy5tYXRjaEhlYWRlcnMoaCkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICB0aGlzLm1hdGNoVXJsID0gZnVuY3Rpb24odSkge1xuICAgIGlmICghdXJsKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHVybC50ZXN0KSkgcmV0dXJuIHVybC50ZXN0KHUpO1xuICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odXJsKSkgcmV0dXJuIHVybCh1KTtcbiAgICByZXR1cm4gdXJsID09IHU7XG4gIH07XG5cbiAgdGhpcy5tYXRjaEhlYWRlcnMgPSBmdW5jdGlvbihoKSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoaGVhZGVycykpIHJldHVybiB0cnVlO1xuICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oaGVhZGVycykpIHJldHVybiBoZWFkZXJzKGgpO1xuICAgIHJldHVybiBhbmd1bGFyLmVxdWFscyhoZWFkZXJzLCBoKTtcbiAgfTtcblxuICB0aGlzLm1hdGNoRGF0YSA9IGZ1bmN0aW9uKGQpIHtcbiAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChkYXRhKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGRhdGEgJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGRhdGEudGVzdCkpIHJldHVybiBkYXRhLnRlc3QoZCk7XG4gICAgaWYgKGRhdGEgJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGRhdGEpKSByZXR1cm4gZGF0YShkKTtcbiAgICBpZiAoZGF0YSAmJiAhYW5ndWxhci5pc1N0cmluZyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGFuZ3VsYXIuZnJvbUpzb24oYW5ndWxhci50b0pzb24oZGF0YSkpLCBhbmd1bGFyLmZyb21Kc29uKGQpKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGEgPT0gZDtcbiAgfTtcblxuICB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG1ldGhvZCArICcgJyArIHVybDtcbiAgfTtcblxuICB0aGlzLnBhcmFtcyA9IGZ1bmN0aW9uKHUpIHtcbiAgICByZXR1cm4gYW5ndWxhci5leHRlbmQocGFyc2VRdWVyeSgpLCBwYXRoUGFyYW1zKCkpO1xuXG4gICAgZnVuY3Rpb24gcGF0aFBhcmFtcygpIHtcbiAgICAgIHZhciBrZXlPYmogPSB7fTtcbiAgICAgIGlmICghdXJsIHx8ICFhbmd1bGFyLmlzRnVuY3Rpb24odXJsLnRlc3QpIHx8ICFrZXlzIHx8IGtleXMubGVuZ3RoID09PSAwKSByZXR1cm4ga2V5T2JqO1xuXG4gICAgICB2YXIgbSA9IHVybC5leGVjKHUpO1xuICAgICAgaWYgKCFtKSByZXR1cm4ga2V5T2JqO1xuICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IG0ubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaSAtIDFdO1xuICAgICAgICB2YXIgdmFsID0gbVtpXTtcbiAgICAgICAgaWYgKGtleSAmJiB2YWwpIHtcbiAgICAgICAgICBrZXlPYmpba2V5Lm5hbWUgfHwga2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ga2V5T2JqO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlUXVlcnkoKSB7XG4gICAgICB2YXIgb2JqID0ge30sIGtleV92YWx1ZSwga2V5LFxuICAgICAgICAgIHF1ZXJ5U3RyID0gdS5pbmRleE9mKCc/JykgPiAtMVxuICAgICAgICAgID8gdS5zdWJzdHJpbmcodS5pbmRleE9mKCc/JykgKyAxKVxuICAgICAgICAgIDogXCJcIjtcblxuICAgICAgYW5ndWxhci5mb3JFYWNoKHF1ZXJ5U3RyLnNwbGl0KCcmJyksIGZ1bmN0aW9uKGtleVZhbHVlKSB7XG4gICAgICAgIGlmIChrZXlWYWx1ZSkge1xuICAgICAgICAgIGtleV92YWx1ZSA9IGtleVZhbHVlLnJlcGxhY2UoL1xcKy9nLCclMjAnKS5zcGxpdCgnPScpO1xuICAgICAgICAgIGtleSA9IHRyeURlY29kZVVSSUNvbXBvbmVudChrZXlfdmFsdWVbMF0pO1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChrZXkpKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gYW5ndWxhci5pc0RlZmluZWQoa2V5X3ZhbHVlWzFdKSA/IHRyeURlY29kZVVSSUNvbXBvbmVudChrZXlfdmFsdWVbMV0pIDogdHJ1ZTtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgICAgICAgICAgb2JqW2tleV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb2JqW2tleV0gPSBbb2JqW2tleV0sdmFsXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWdub3JlIGFueSBpbnZhbGlkIHVyaSBjb21wb25lbnRcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1vY2tYaHIoKSB7XG4gIHJldHVybiBuZXcgTW9ja1hocigpO1xufVxuXG5mdW5jdGlvbiBNb2NrWGhyKCkge1xuXG4gIC8vIGhhY2sgZm9yIHRlc3RpbmcgJGh0dHAsICRodHRwQmFja2VuZFxuICBNb2NrWGhyLiQkbGFzdEluc3RhbmNlID0gdGhpcztcblxuICB0aGlzLm9wZW4gPSBmdW5jdGlvbihtZXRob2QsIHVybCwgYXN5bmMpIHtcbiAgICB0aGlzLiQkbWV0aG9kID0gbWV0aG9kO1xuICAgIHRoaXMuJCR1cmwgPSB1cmw7XG4gICAgdGhpcy4kJGFzeW5jID0gYXN5bmM7XG4gICAgdGhpcy4kJHJlcUhlYWRlcnMgPSB7fTtcbiAgICB0aGlzLiQkcmVzcEhlYWRlcnMgPSB7fTtcbiAgfTtcblxuICB0aGlzLnNlbmQgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdGhpcy4kJGRhdGEgPSBkYXRhO1xuICB9O1xuXG4gIHRoaXMuc2V0UmVxdWVzdEhlYWRlciA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLiQkcmVxSGVhZGVyc1trZXldID0gdmFsdWU7XG4gIH07XG5cbiAgdGhpcy5nZXRSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAvLyB0aGUgbG9va3VwIG11c3QgYmUgY2FzZSBpbnNlbnNpdGl2ZSxcbiAgICAvLyB0aGF0J3Mgd2h5IHdlIHRyeSB0d28gcXVpY2sgbG9va3VwcyBmaXJzdCBhbmQgZnVsbCBzY2FuIGxhc3RcbiAgICB2YXIgaGVhZGVyID0gdGhpcy4kJHJlc3BIZWFkZXJzW25hbWVdO1xuICAgIGlmIChoZWFkZXIpIHJldHVybiBoZWFkZXI7XG5cbiAgICBuYW1lID0gYW5ndWxhci5sb3dlcmNhc2UobmFtZSk7XG4gICAgaGVhZGVyID0gdGhpcy4kJHJlc3BIZWFkZXJzW25hbWVdO1xuICAgIGlmIChoZWFkZXIpIHJldHVybiBoZWFkZXI7XG5cbiAgICBoZWFkZXIgPSB1bmRlZmluZWQ7XG4gICAgYW5ndWxhci5mb3JFYWNoKHRoaXMuJCRyZXNwSGVhZGVycywgZnVuY3Rpb24oaGVhZGVyVmFsLCBoZWFkZXJOYW1lKSB7XG4gICAgICBpZiAoIWhlYWRlciAmJiBhbmd1bGFyLmxvd2VyY2FzZShoZWFkZXJOYW1lKSA9PSBuYW1lKSBoZWFkZXIgPSBoZWFkZXJWYWw7XG4gICAgfSk7XG4gICAgcmV0dXJuIGhlYWRlcjtcbiAgfTtcblxuICB0aGlzLmdldEFsbFJlc3BvbnNlSGVhZGVycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsaW5lcyA9IFtdO1xuXG4gICAgYW5ndWxhci5mb3JFYWNoKHRoaXMuJCRyZXNwSGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgbGluZXMucHVzaChrZXkgKyAnOiAnICsgdmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBsaW5lcy5qb2luKCdcXG4nKTtcbiAgfTtcblxuICB0aGlzLmFib3J0ID0gYW5ndWxhci5ub29wO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR0aW1lb3V0XG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIHNlcnZpY2UgaXMganVzdCBhIHNpbXBsZSBkZWNvcmF0b3IgZm9yIHtAbGluayBuZy4kdGltZW91dCAkdGltZW91dH0gc2VydmljZVxuICogdGhhdCBhZGRzIGEgXCJmbHVzaFwiIGFuZCBcInZlcmlmeU5vUGVuZGluZ1Rhc2tzXCIgbWV0aG9kcy5cbiAqL1xuXG5hbmd1bGFyLm1vY2suJFRpbWVvdXREZWNvcmF0b3IgPSBbJyRkZWxlZ2F0ZScsICckYnJvd3NlcicsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSwgJGJyb3dzZXIpIHtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkdGltZW91dCNmbHVzaFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRmx1c2hlcyB0aGUgcXVldWUgb2YgcGVuZGluZyB0YXNrcy5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXI9fSBkZWxheSBtYXhpbXVtIHRpbWVvdXQgYW1vdW50IHRvIGZsdXNoIHVwIHVudGlsXG4gICAqL1xuICAkZGVsZWdhdGUuZmx1c2ggPSBmdW5jdGlvbihkZWxheSkge1xuICAgICRicm93c2VyLmRlZmVyLmZsdXNoKGRlbGF5KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkdGltZW91dCN2ZXJpZnlOb1BlbmRpbmdUYXNrc1xuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogVmVyaWZpZXMgdGhhdCB0aGVyZSBhcmUgbm8gcGVuZGluZyB0YXNrcyB0aGF0IG5lZWQgdG8gYmUgZmx1c2hlZC5cbiAgICovXG4gICRkZWxlZ2F0ZS52ZXJpZnlOb1BlbmRpbmdUYXNrcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkYnJvd3Nlci5kZWZlcnJlZEZucy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGVmZXJyZWQgdGFza3MgdG8gZmx1c2ggKCcgKyAkYnJvd3Nlci5kZWZlcnJlZEZucy5sZW5ndGggKyAnKTogJyArXG4gICAgICAgICAgZm9ybWF0UGVuZGluZ1Rhc2tzQXNTdHJpbmcoJGJyb3dzZXIuZGVmZXJyZWRGbnMpKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gZm9ybWF0UGVuZGluZ1Rhc2tzQXNTdHJpbmcodGFza3MpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgYW5ndWxhci5mb3JFYWNoKHRhc2tzLCBmdW5jdGlvbih0YXNrKSB7XG4gICAgICByZXN1bHQucHVzaCgne2lkOiAnICsgdGFzay5pZCArICcsICcgKyAndGltZTogJyArIHRhc2sudGltZSArICd9Jyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJywgJyk7XG4gIH1cblxuICByZXR1cm4gJGRlbGVnYXRlO1xufV07XG5cbmFuZ3VsYXIubW9jay4kUkFGRGVjb3JhdG9yID0gWyckZGVsZWdhdGUnLCBmdW5jdGlvbigkZGVsZWdhdGUpIHtcbiAgdmFyIHJhZkZuID0gZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgaW5kZXggPSByYWZGbi5xdWV1ZS5sZW5ndGg7XG4gICAgcmFmRm4ucXVldWUucHVzaChmbik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmFmRm4ucXVldWUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICB9O1xuXG4gIHJhZkZuLnF1ZXVlID0gW107XG4gIHJhZkZuLnN1cHBvcnRlZCA9ICRkZWxlZ2F0ZS5zdXBwb3J0ZWQ7XG5cbiAgcmFmRm4uZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAocmFmRm4ucXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJBRiBjYWxsYmFja3MgcHJlc2VudCcpO1xuICAgIH1cblxuICAgIHZhciBsZW5ndGggPSByYWZGbi5xdWV1ZS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmFmRm4ucXVldWVbaV0oKTtcbiAgICB9XG5cbiAgICByYWZGbi5xdWV1ZSA9IHJhZkZuLnF1ZXVlLnNsaWNlKGkpO1xuICB9O1xuXG4gIHJldHVybiByYWZGbjtcbn1dO1xuXG4vKipcbiAqXG4gKi9cbmFuZ3VsYXIubW9jay4kUm9vdEVsZW1lbnRQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG5nLWFwcD48L2Rpdj4nKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRjb250cm9sbGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgZGVjb3JhdG9yIGZvciB7QGxpbmsgbmcuJGNvbnRyb2xsZXJ9IHdpdGggYWRkaXRpb25hbCBgYmluZGluZ3NgIHBhcmFtZXRlciwgdXNlZnVsIHdoZW4gdGVzdGluZ1xuICogY29udHJvbGxlcnMgb2YgZGlyZWN0aXZlcyB0aGF0IHVzZSB7QGxpbmsgJGNvbXBpbGUjLWJpbmR0b2NvbnRyb2xsZXItIGBiaW5kVG9Db250cm9sbGVyYH0uXG4gKlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICpcbiAqIC8vIERpcmVjdGl2ZSBkZWZpbml0aW9uIC4uLlxuICpcbiAqIG15TW9kLmRpcmVjdGl2ZSgnbXlEaXJlY3RpdmUnLCB7XG4gKiAgIGNvbnRyb2xsZXI6ICdNeURpcmVjdGl2ZUNvbnRyb2xsZXInLFxuICogICBiaW5kVG9Db250cm9sbGVyOiB7XG4gKiAgICAgbmFtZTogJ0AnXG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqXG4gKiAvLyBDb250cm9sbGVyIGRlZmluaXRpb24gLi4uXG4gKlxuICogbXlNb2QuY29udHJvbGxlcignTXlEaXJlY3RpdmVDb250cm9sbGVyJywgWyckbG9nJywgZnVuY3Rpb24oJGxvZykge1xuICogICAkbG9nLmluZm8odGhpcy5uYW1lKTtcbiAqIH0pXTtcbiAqXG4gKlxuICogLy8gSW4gYSB0ZXN0IC4uLlxuICpcbiAqIGRlc2NyaWJlKCdteURpcmVjdGl2ZUNvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcbiAqICAgaXQoJ3Nob3VsZCB3cml0ZSB0aGUgYm91bmQgbmFtZSB0byB0aGUgbG9nJywgaW5qZWN0KGZ1bmN0aW9uKCRjb250cm9sbGVyLCAkbG9nKSB7XG4gKiAgICAgdmFyIGN0cmwgPSAkY29udHJvbGxlcignTXlEaXJlY3RpdmVDb250cm9sbGVyJywgeyAvKiBubyBsb2NhbHMgJiM0MjsvIH0sIHsgbmFtZTogJ0NsYXJrIEtlbnQnIH0pO1xuICogICAgIGV4cGVjdChjdHJsLm5hbWUpLnRvRXF1YWwoJ0NsYXJrIEtlbnQnKTtcbiAqICAgICBleHBlY3QoJGxvZy5pbmZvLmxvZ3MpLnRvRXF1YWwoWydDbGFyayBLZW50J10pO1xuICogICB9KTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBjb25zdHJ1Y3RvciBJZiBjYWxsZWQgd2l0aCBhIGZ1bmN0aW9uIHRoZW4gaXQncyBjb25zaWRlcmVkIHRvIGJlIHRoZVxuICogICAgY29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gT3RoZXJ3aXNlIGl0J3MgY29uc2lkZXJlZCB0byBiZSBhIHN0cmluZyB3aGljaCBpcyB1c2VkXG4gKiAgICB0byByZXRyaWV2ZSB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciB1c2luZyB0aGUgZm9sbG93aW5nIHN0ZXBzOlxuICpcbiAqICAgICogY2hlY2sgaWYgYSBjb250cm9sbGVyIHdpdGggZ2l2ZW4gbmFtZSBpcyByZWdpc3RlcmVkIHZpYSBgJGNvbnRyb2xsZXJQcm92aWRlcmBcbiAqICAgICogY2hlY2sgaWYgZXZhbHVhdGluZyB0aGUgc3RyaW5nIG9uIHRoZSBjdXJyZW50IHNjb3BlIHJldHVybnMgYSBjb25zdHJ1Y3RvclxuICogICAgKiBpZiAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFscywgY2hlY2sgYHdpbmRvd1tjb25zdHJ1Y3Rvcl1gIG9uIHRoZSBnbG9iYWxcbiAqICAgICAgYHdpbmRvd2Agb2JqZWN0IChub3QgcmVjb21tZW5kZWQpXG4gKlxuICogICAgVGhlIHN0cmluZyBjYW4gdXNlIHRoZSBgY29udHJvbGxlciBhcyBwcm9wZXJ0eWAgc3ludGF4LCB3aGVyZSB0aGUgY29udHJvbGxlciBpbnN0YW5jZSBpcyBwdWJsaXNoZWRcbiAqICAgIGFzIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgb24gdGhlIGBzY29wZWA7IHRoZSBgc2NvcGVgIG11c3QgYmUgaW5qZWN0ZWQgaW50byBgbG9jYWxzYCBwYXJhbSBmb3IgdGhpc1xuICogICAgdG8gd29yayBjb3JyZWN0bHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBJbmplY3Rpb24gbG9jYWxzIGZvciBDb250cm9sbGVyLlxuICogQHBhcmFtIHtPYmplY3Q9fSBiaW5kaW5ncyBQcm9wZXJ0aWVzIHRvIGFkZCB0byB0aGUgY29udHJvbGxlciBiZWZvcmUgaW52b2tpbmcgdGhlIGNvbnN0cnVjdG9yLiBUaGlzIGlzIHVzZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gc2ltdWxhdGUgdGhlIGBiaW5kVG9Db250cm9sbGVyYCBmZWF0dXJlIGFuZCBzaW1wbGlmeSBjZXJ0YWluIGtpbmRzIG9mIHRlc3RzLlxuICogQHJldHVybiB7T2JqZWN0fSBJbnN0YW5jZSBvZiBnaXZlbiBjb250cm9sbGVyLlxuICovXG5hbmd1bGFyLm1vY2suJENvbnRyb2xsZXJEZWNvcmF0b3IgPSBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oZXhwcmVzc2lvbiwgbG9jYWxzLCBsYXRlciwgaWRlbnQpIHtcbiAgICBpZiAobGF0ZXIgJiYgdHlwZW9mIGxhdGVyID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGNyZWF0ZSA9ICRkZWxlZ2F0ZShleHByZXNzaW9uLCBsb2NhbHMsIHRydWUsIGlkZW50KTtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKGNyZWF0ZS5pbnN0YW5jZSwgbGF0ZXIpO1xuICAgICAgcmV0dXJuIGNyZWF0ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gJGRlbGVnYXRlKGV4cHJlc3Npb24sIGxvY2FscywgbGF0ZXIsIGlkZW50KTtcbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkY29tcG9uZW50Q29udHJvbGxlclxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHNlcnZpY2UgdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgaW5zdGFuY2VzIG9mIGNvbXBvbmVudCBjb250cm9sbGVycy5cbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiBCZSBhd2FyZSB0aGF0IHRoZSBjb250cm9sbGVyIHdpbGwgYmUgaW5zdGFudGlhdGVkIGFuZCBhdHRhY2hlZCB0byB0aGUgc2NvcGUgYXMgc3BlY2lmaWVkIGluXG4gKiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0LiBUaGF0IG1lYW5zIHRoYXQgeW91IG11c3QgYWx3YXlzIHByb3ZpZGUgYSBgJHNjb3BlYCBvYmplY3RcbiAqIGluIHRoZSBgbG9jYWxzYCBwYXJhbS5cbiAqIDwvZGl2PlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgdGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCB3aG9zZSBjb250cm9sbGVyIHdlIHdhbnQgdG8gaW5zdGFudGlhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhbHMgSW5qZWN0aW9uIGxvY2FscyBmb3IgQ29udHJvbGxlci5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gYmluZGluZ3MgUHJvcGVydGllcyB0byBhZGQgdG8gdGhlIGNvbnRyb2xsZXIgYmVmb3JlIGludm9raW5nIHRoZSBjb25zdHJ1Y3Rvci4gVGhpcyBpcyB1c2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvIHNpbXVsYXRlIHRoZSBgYmluZFRvQ29udHJvbGxlcmAgZmVhdHVyZSBhbmQgc2ltcGxpZnkgY2VydGFpbiBraW5kcyBvZiB0ZXN0cy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gaWRlbnQgT3ZlcnJpZGUgdGhlIHByb3BlcnR5IG5hbWUgdG8gdXNlIHdoZW4gYXR0YWNoaW5nIHRoZSBjb250cm9sbGVyIHRvIHRoZSBzY29wZS5cbiAqIEByZXR1cm4ge09iamVjdH0gSW5zdGFuY2Ugb2YgcmVxdWVzdGVkIGNvbnRyb2xsZXIuXG4gKi9cbmFuZ3VsYXIubW9jay4kQ29tcG9uZW50Q29udHJvbGxlclByb3ZpZGVyID0gWyckY29tcGlsZVByb3ZpZGVyJywgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikge1xuICByZXR1cm4ge1xuICAgICRnZXQ6IFsnJGNvbnRyb2xsZXInLCckaW5qZWN0b3InLCBmdW5jdGlvbigkY29udHJvbGxlciwkaW5qZWN0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAkY29tcG9uZW50Q29udHJvbGxlcihjb21wb25lbnROYW1lLCBsb2NhbHMsIGJpbmRpbmdzLCBpZGVudCkge1xuICAgICAgICAvLyBnZXQgYWxsIGRpcmVjdGl2ZXMgYXNzb2NpYXRlZCB0byB0aGUgY29tcG9uZW50IG5hbWVcbiAgICAgICAgdmFyIGRpcmVjdGl2ZXMgPSAkaW5qZWN0b3IuZ2V0KGNvbXBvbmVudE5hbWUgKyAnRGlyZWN0aXZlJyk7XG4gICAgICAgIC8vIGxvb2sgZm9yIHRob3NlIGRpcmVjdGl2ZXMgdGhhdCBhcmUgY29tcG9uZW50c1xuICAgICAgICB2YXIgY2FuZGlkYXRlRGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuZmlsdGVyKGZ1bmN0aW9uKGRpcmVjdGl2ZUluZm8pIHtcbiAgICAgICAgICAvLyBjb21wb25lbnRzIGhhdmUgY29udHJvbGxlciwgY29udHJvbGxlckFzIGFuZCByZXN0cmljdDonRSdcbiAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlSW5mby5jb250cm9sbGVyICYmIGRpcmVjdGl2ZUluZm8uY29udHJvbGxlckFzICYmIGRpcmVjdGl2ZUluZm8ucmVzdHJpY3QgPT09ICdFJztcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNoZWNrIGlmIHZhbGlkIGRpcmVjdGl2ZXMgZm91bmRcbiAgICAgICAgaWYgKGNhbmRpZGF0ZURpcmVjdGl2ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb21wb25lbnQgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuZGlkYXRlRGlyZWN0aXZlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb28gbWFueSBjb21wb25lbnRzIGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ2V0IHRoZSBpbmZvIG9mIHRoZSBjb21wb25lbnRcbiAgICAgICAgdmFyIGRpcmVjdGl2ZUluZm8gPSBjYW5kaWRhdGVEaXJlY3RpdmVzWzBdO1xuICAgICAgICByZXR1cm4gJGNvbnRyb2xsZXIoZGlyZWN0aXZlSW5mby5jb250cm9sbGVyLCBsb2NhbHMsIGJpbmRpbmdzLCBpZGVudCB8fCBkaXJlY3RpdmVJbmZvLmNvbnRyb2xsZXJBcyk7XG4gICAgICB9O1xuICAgIH1dXG4gIH07XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nTW9ja1xuICogQHBhY2thZ2VOYW1lIGFuZ3VsYXItbW9ja3NcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICMgbmdNb2NrXG4gKlxuICogVGhlIGBuZ01vY2tgIG1vZHVsZSBwcm92aWRlcyBzdXBwb3J0IHRvIGluamVjdCBhbmQgbW9jayBBbmd1bGFyIHNlcnZpY2VzIGludG8gdW5pdCB0ZXN0cy5cbiAqIEluIGFkZGl0aW9uLCBuZ01vY2sgYWxzbyBleHRlbmRzIHZhcmlvdXMgY29yZSBuZyBzZXJ2aWNlcyBzdWNoIHRoYXQgdGhleSBjYW4gYmVcbiAqIGluc3BlY3RlZCBhbmQgY29udHJvbGxlZCBpbiBhIHN5bmNocm9ub3VzIG1hbm5lciB3aXRoaW4gdGVzdCBjb2RlLlxuICpcbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nTW9ja1wiPjwvZGl2PlxuICpcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ25nTW9jaycsIFsnbmcnXSkucHJvdmlkZXIoe1xuICAkYnJvd3NlcjogYW5ndWxhci5tb2NrLiRCcm93c2VyUHJvdmlkZXIsXG4gICRleGNlcHRpb25IYW5kbGVyOiBhbmd1bGFyLm1vY2suJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcbiAgJGxvZzogYW5ndWxhci5tb2NrLiRMb2dQcm92aWRlcixcbiAgJGludGVydmFsOiBhbmd1bGFyLm1vY2suJEludGVydmFsUHJvdmlkZXIsXG4gICRodHRwQmFja2VuZDogYW5ndWxhci5tb2NrLiRIdHRwQmFja2VuZFByb3ZpZGVyLFxuICAkcm9vdEVsZW1lbnQ6IGFuZ3VsYXIubW9jay4kUm9vdEVsZW1lbnRQcm92aWRlcixcbiAgJGNvbXBvbmVudENvbnRyb2xsZXI6IGFuZ3VsYXIubW9jay4kQ29tcG9uZW50Q29udHJvbGxlclByb3ZpZGVyXG59KS5jb25maWcoWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gICRwcm92aWRlLmRlY29yYXRvcignJHRpbWVvdXQnLCBhbmd1bGFyLm1vY2suJFRpbWVvdXREZWNvcmF0b3IpO1xuICAkcHJvdmlkZS5kZWNvcmF0b3IoJyQkckFGJywgYW5ndWxhci5tb2NrLiRSQUZEZWNvcmF0b3IpO1xuICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRyb290U2NvcGUnLCBhbmd1bGFyLm1vY2suJFJvb3RTY29wZURlY29yYXRvcik7XG4gICRwcm92aWRlLmRlY29yYXRvcignJGNvbnRyb2xsZXInLCBhbmd1bGFyLm1vY2suJENvbnRyb2xsZXJEZWNvcmF0b3IpO1xufV0pO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nTW9ja0UyRVxuICogQG1vZHVsZSBuZ01vY2tFMkVcbiAqIEBwYWNrYWdlTmFtZSBhbmd1bGFyLW1vY2tzXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGUgYG5nTW9ja0UyRWAgaXMgYW4gYW5ndWxhciBtb2R1bGUgd2hpY2ggY29udGFpbnMgbW9ja3Mgc3VpdGFibGUgZm9yIGVuZC10by1lbmQgdGVzdGluZy5cbiAqIEN1cnJlbnRseSB0aGVyZSBpcyBvbmx5IG9uZSBtb2NrIHByZXNlbnQgaW4gdGhpcyBtb2R1bGUgLVxuICogdGhlIHtAbGluayBuZ01vY2tFMkUuJGh0dHBCYWNrZW5kIGUyZSAkaHR0cEJhY2tlbmR9IG1vY2suXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCduZ01vY2tFMkUnLCBbJ25nJ10pLmNvbmZpZyhbJyRwcm92aWRlJywgZnVuY3Rpb24oJHByb3ZpZGUpIHtcbiAgJHByb3ZpZGUuZGVjb3JhdG9yKCckaHR0cEJhY2tlbmQnLCBhbmd1bGFyLm1vY2suZTJlLiRodHRwQmFja2VuZERlY29yYXRvcik7XG59XSk7XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRodHRwQmFja2VuZFxuICogQG1vZHVsZSBuZ01vY2tFMkVcbiAqIEBkZXNjcmlwdGlvblxuICogRmFrZSBIVFRQIGJhY2tlbmQgaW1wbGVtZW50YXRpb24gc3VpdGFibGUgZm9yIGVuZC10by1lbmQgdGVzdGluZyBvciBiYWNrZW5kLWxlc3MgZGV2ZWxvcG1lbnQgb2ZcbiAqIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSB0aGUge0BsaW5rIG5nLiRodHRwICRodHRwIHNlcnZpY2V9LlxuICpcbiAqICpOb3RlKjogRm9yIGZha2UgaHR0cCBiYWNrZW5kIGltcGxlbWVudGF0aW9uIHN1aXRhYmxlIGZvciB1bml0IHRlc3RpbmcgcGxlYXNlIHNlZVxuICoge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgdW5pdC10ZXN0aW5nICRodHRwQmFja2VuZCBtb2NrfS5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIGNhbiBiZSB1c2VkIHRvIHJlc3BvbmQgd2l0aCBzdGF0aWMgb3IgZHluYW1pYyByZXNwb25zZXMgdmlhIHRoZSBgd2hlbmAgYXBpXG4gKiBhbmQgaXRzIHNob3J0Y3V0cyAoYHdoZW5HRVRgLCBgd2hlblBPU1RgLCBldGMpIGFuZCBvcHRpb25hbGx5IHBhc3MgdGhyb3VnaCByZXF1ZXN0cyB0byB0aGVcbiAqIHJlYWwgJGh0dHBCYWNrZW5kIGZvciBzcGVjaWZpYyByZXF1ZXN0cyAoZS5nLiB0byBpbnRlcmFjdCB3aXRoIGNlcnRhaW4gcmVtb3RlIGFwaXMgb3IgdG8gZmV0Y2hcbiAqIHRlbXBsYXRlcyBmcm9tIGEgd2Vic2VydmVyKS5cbiAqXG4gKiBBcyBvcHBvc2VkIHRvIHVuaXQtdGVzdGluZywgaW4gYW4gZW5kLXRvLWVuZCB0ZXN0aW5nIHNjZW5hcmlvIG9yIGluIHNjZW5hcmlvIHdoZW4gYW4gYXBwbGljYXRpb25cbiAqIGlzIGJlaW5nIGRldmVsb3BlZCB3aXRoIHRoZSByZWFsIGJhY2tlbmQgYXBpIHJlcGxhY2VkIHdpdGggYSBtb2NrLCBpdCBpcyBvZnRlbiBkZXNpcmFibGUgZm9yXG4gKiBjZXJ0YWluIGNhdGVnb3J5IG9mIHJlcXVlc3RzIHRvIGJ5cGFzcyB0aGUgbW9jayBhbmQgaXNzdWUgYSByZWFsIGh0dHAgcmVxdWVzdCAoZS5nLiB0byBmZXRjaFxuICogdGVtcGxhdGVzIG9yIHN0YXRpYyBmaWxlcyBmcm9tIHRoZSB3ZWJzZXJ2ZXIpLiBUbyBjb25maWd1cmUgdGhlIGJhY2tlbmQgd2l0aCB0aGlzIGJlaGF2aW9yXG4gKiB1c2UgdGhlIGBwYXNzVGhyb3VnaGAgcmVxdWVzdCBoYW5kbGVyIG9mIGB3aGVuYCBpbnN0ZWFkIG9mIGByZXNwb25kYC5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHdlIGRvbid0IHdhbnQgdG8gbWFudWFsbHkgaGF2ZSB0byBmbHVzaCBtb2NrZWQgb3V0IHJlcXVlc3RzIGxpa2Ugd2UgZG8gZHVyaW5nIHVuaXRcbiAqIHRlc3RpbmcuIEZvciB0aGlzIHJlYXNvbiB0aGUgZTJlICRodHRwQmFja2VuZCBmbHVzaGVzIG1vY2tlZCBvdXQgcmVxdWVzdHNcbiAqIGF1dG9tYXRpY2FsbHksIGNsb3NlbHkgc2ltdWxhdGluZyB0aGUgYmVoYXZpb3Igb2YgdGhlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdC5cbiAqXG4gKiBUbyBzZXR1cCB0aGUgYXBwbGljYXRpb24gdG8gcnVuIHdpdGggdGhpcyBodHRwIGJhY2tlbmQsIHlvdSBoYXZlIHRvIGNyZWF0ZSBhIG1vZHVsZSB0aGF0IGRlcGVuZHNcbiAqIG9uIHRoZSBgbmdNb2NrRTJFYCBhbmQgeW91ciBhcHBsaWNhdGlvbiBtb2R1bGVzIGFuZCBkZWZpbmVzIHRoZSBmYWtlIGJhY2tlbmQ6XG4gKlxuICogYGBganNcbiAqICAgbXlBcHBEZXYgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHBEZXYnLCBbJ215QXBwJywgJ25nTW9ja0UyRSddKTtcbiAqICAgbXlBcHBEZXYucnVuKGZ1bmN0aW9uKCRodHRwQmFja2VuZCkge1xuICogICAgIHBob25lcyA9IFt7bmFtZTogJ3Bob25lMSd9LCB7bmFtZTogJ3Bob25lMid9XTtcbiAqXG4gKiAgICAgLy8gcmV0dXJucyB0aGUgY3VycmVudCBsaXN0IG9mIHBob25lc1xuICogICAgICRodHRwQmFja2VuZC53aGVuR0VUKCcvcGhvbmVzJykucmVzcG9uZChwaG9uZXMpO1xuICpcbiAqICAgICAvLyBhZGRzIGEgbmV3IHBob25lIHRvIHRoZSBwaG9uZXMgYXJyYXlcbiAqICAgICAkaHR0cEJhY2tlbmQud2hlblBPU1QoJy9waG9uZXMnKS5yZXNwb25kKGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBkYXRhKSB7XG4gKiAgICAgICB2YXIgcGhvbmUgPSBhbmd1bGFyLmZyb21Kc29uKGRhdGEpO1xuICogICAgICAgcGhvbmVzLnB1c2gocGhvbmUpO1xuICogICAgICAgcmV0dXJuIFsyMDAsIHBob25lLCB7fV07XG4gKiAgICAgfSk7XG4gKiAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoL15cXC90ZW1wbGF0ZXNcXC8vKS5wYXNzVGhyb3VnaCgpO1xuICogICAgIC8vLi4uXG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogQWZ0ZXJ3YXJkcywgYm9vdHN0cmFwIHlvdXIgYXBwIHdpdGggdGhpcyBuZXcgbW9kdWxlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGh0dHBCYWNrZW5kI3doZW5cbiAqIEBtb2R1bGUgbmdNb2NrRTJFXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgSFRUUCBtZXRob2QuXG4gKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKX0gdXJsIEhUVFAgdXJsIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSB1cmxcbiAqICAgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgdXJsIG1hdGNoZXMgdGhlIGN1cnJlbnQgZGVmaW5pdGlvbi5cbiAqIEBwYXJhbSB7KHN0cmluZ3xSZWdFeHApPX0gZGF0YSBIVFRQIHJlcXVlc3QgYm9keS5cbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgaHR0cCBoZWFkZXJcbiAqICAgb2JqZWN0IGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGhlYWRlcnMgbWF0Y2ggdGhlIGN1cnJlbnQgZGVmaW5pdGlvbi5cbiAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgb25cbiAqICAge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgJGh0dHBCYWNrZW5kIG1vY2t9LlxuICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBhbmQgYHBhc3NUaHJvdWdoYCBtZXRob2RzIHRoYXRcbiAqICAgY29udHJvbCBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC4gWW91IGNhbiBzYXZlIHRoaXMgb2JqZWN0IGZvciBsYXRlciB1c2UgYW5kIGludm9rZVxuICogICBgcmVzcG9uZGAgb3IgYHBhc3NUaHJvdWdoYCBhZ2FpbiBpbiBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gKlxuICogIC0gcmVzcG9uZCDigJNcbiAqICAgIGB7ZnVuY3Rpb24oW3N0YXR1cyxdIGRhdGFbLCBoZWFkZXJzLCBzdGF0dXNUZXh0XSlcbiAqICAgIHwgZnVuY3Rpb24oZnVuY3Rpb24obWV0aG9kLCB1cmwsIGRhdGEsIGhlYWRlcnMsIHBhcmFtcyl9YFxuICogICAg4oCTIFRoZSByZXNwb25kIG1ldGhvZCB0YWtlcyBhIHNldCBvZiBzdGF0aWMgZGF0YSB0byBiZSByZXR1cm5lZCBvciBhIGZ1bmN0aW9uIHRoYXQgY2FuIHJldHVyblxuICogICAgYW4gYXJyYXkgY29udGFpbmluZyByZXNwb25zZSBzdGF0dXMgKG51bWJlciksIHJlc3BvbnNlIGRhdGEgKHN0cmluZyksIHJlc3BvbnNlIGhlYWRlcnNcbiAqICAgIChPYmplY3QpLCBhbmQgdGhlIHRleHQgZm9yIHRoZSBzdGF0dXMgKHN0cmluZykuXG4gKiAgLSBwYXNzVGhyb3VnaCDigJMgYHtmdW5jdGlvbigpfWAg4oCTIEFueSByZXF1ZXN0IG1hdGNoaW5nIGEgYmFja2VuZCBkZWZpbml0aW9uIHdpdGhcbiAqICAgIGBwYXNzVGhyb3VnaGAgaGFuZGxlciB3aWxsIGJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSByZWFsIGJhY2tlbmQgKGFuIFhIUiByZXF1ZXN0IHdpbGwgYmUgbWFkZVxuICogICAgdG8gdGhlIHNlcnZlci4pXG4gKiAgLSBCb3RoIG1ldGhvZHMgcmV0dXJuIHRoZSBgcmVxdWVzdEhhbmRsZXJgIG9iamVjdCBmb3IgcG9zc2libGUgb3ZlcnJpZGVzLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGh0dHBCYWNrZW5kI3doZW5HRVRcbiAqIEBtb2R1bGUgbmdNb2NrRTJFXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIGZvciBHRVQgcmVxdWVzdHMuIEZvciBtb3JlIGluZm8gc2VlIGB3aGVuKClgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfFJlZ0V4cHxmdW5jdGlvbihzdHJpbmcpfSB1cmwgSFRUUCB1cmwgb3IgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhIHVybFxuICogICBhbmQgcmV0dXJucyB0cnVlIGlmIHRoZSB1cmwgbWF0Y2hlcyB0aGUgY3VycmVudCBkZWZpbml0aW9uLlxuICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKE9iamVjdCkpPX0gaGVhZGVycyBIVFRQIGhlYWRlcnMuXG4gKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIG9uXG4gKiAgIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kICRodHRwQmFja2VuZCBtb2NrfS5cbiAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgYW5kIGBwYXNzVGhyb3VnaGAgbWV0aG9kcyB0aGF0XG4gKiAgIGNvbnRyb2wgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuIFlvdSBjYW4gc2F2ZSB0aGlzIG9iamVjdCBmb3IgbGF0ZXIgdXNlIGFuZCBpbnZva2VcbiAqICAgYHJlc3BvbmRgIG9yIGBwYXNzVGhyb3VnaGAgYWdhaW4gaW4gb3JkZXIgdG8gY2hhbmdlIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGh0dHBCYWNrZW5kI3doZW5IRUFEXG4gKiBAbW9kdWxlIG5nTW9ja0UyRVxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbmV3IGJhY2tlbmQgZGVmaW5pdGlvbiBmb3IgSEVBRCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl9IHVybCBIVFRQIHVybCBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgdXJsXG4gKiAgIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIHVybCBtYXRjaGVzIHRoZSBjdXJyZW50IGRlZmluaXRpb24uXG4gKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy5cbiAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgb25cbiAqICAge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgJGh0dHBCYWNrZW5kIG1vY2t9LlxuICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBhbmQgYHBhc3NUaHJvdWdoYCBtZXRob2RzIHRoYXRcbiAqICAgY29udHJvbCBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC4gWW91IGNhbiBzYXZlIHRoaXMgb2JqZWN0IGZvciBsYXRlciB1c2UgYW5kIGludm9rZVxuICogICBgcmVzcG9uZGAgb3IgYHBhc3NUaHJvdWdoYCBhZ2FpbiBpbiBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlbkRFTEVURVxuICogQG1vZHVsZSBuZ01vY2tFMkVcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIG5ldyBiYWNrZW5kIGRlZmluaXRpb24gZm9yIERFTEVURSByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl9IHVybCBIVFRQIHVybCBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgdXJsXG4gKiAgIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIHVybCBtYXRjaGVzIHRoZSBjdXJyZW50IGRlZmluaXRpb24uXG4gKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy5cbiAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgb25cbiAqICAge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgJGh0dHBCYWNrZW5kIG1vY2t9LlxuICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBhbmQgYHBhc3NUaHJvdWdoYCBtZXRob2RzIHRoYXRcbiAqICAgY29udHJvbCBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC4gWW91IGNhbiBzYXZlIHRoaXMgb2JqZWN0IGZvciBsYXRlciB1c2UgYW5kIGludm9rZVxuICogICBgcmVzcG9uZGAgb3IgYHBhc3NUaHJvdWdoYCBhZ2FpbiBpbiBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlblBPU1RcbiAqIEBtb2R1bGUgbmdNb2NrRTJFXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIGZvciBQT1NUIHJlcXVlc3RzLiBGb3IgbW9yZSBpbmZvIHNlZSBgd2hlbigpYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKX0gdXJsIEhUVFAgdXJsIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSB1cmxcbiAqICAgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgdXJsIG1hdGNoZXMgdGhlIGN1cnJlbnQgZGVmaW5pdGlvbi5cbiAqIEBwYXJhbSB7KHN0cmluZ3xSZWdFeHApPX0gZGF0YSBIVFRQIHJlcXVlc3QgYm9keS5cbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLlxuICogQHBhcmFtIHsoQXJyYXkpPX0ga2V5cyBBcnJheSBvZiBrZXlzIHRvIGFzc2lnbiB0byByZWdleCBtYXRjaGVzIGluIHJlcXVlc3QgdXJsIGRlc2NyaWJlZCBvblxuICogICB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCAkaHR0cEJhY2tlbmQgbW9ja30uXG4gKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIGFuZCBgcGFzc1Rocm91Z2hgIG1ldGhvZHMgdGhhdFxuICogICBjb250cm9sIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLiBZb3UgY2FuIHNhdmUgdGhpcyBvYmplY3QgZm9yIGxhdGVyIHVzZSBhbmQgaW52b2tlXG4gKiAgIGByZXNwb25kYCBvciBgcGFzc1Rocm91Z2hgIGFnYWluIGluIG9yZGVyIHRvIGNoYW5nZSBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuUFVUXG4gKiBAbW9kdWxlIG5nTW9ja0UyRVxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbmV3IGJhY2tlbmQgZGVmaW5pdGlvbiBmb3IgUFVUIHJlcXVlc3RzLiAgRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl9IHVybCBIVFRQIHVybCBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgdXJsXG4gKiAgIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIHVybCBtYXRjaGVzIHRoZSBjdXJyZW50IGRlZmluaXRpb24uXG4gKiBAcGFyYW0geyhzdHJpbmd8UmVnRXhwKT19IGRhdGEgSFRUUCByZXF1ZXN0IGJvZHkuXG4gKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oT2JqZWN0KSk9fSBoZWFkZXJzIEhUVFAgaGVhZGVycy5cbiAqIEBwYXJhbSB7KEFycmF5KT19IGtleXMgQXJyYXkgb2Yga2V5cyB0byBhc3NpZ24gdG8gcmVnZXggbWF0Y2hlcyBpbiByZXF1ZXN0IHVybCBkZXNjcmliZWQgb25cbiAqICAge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgJGh0dHBCYWNrZW5kIG1vY2t9LlxuICogQHJldHVybnMge3JlcXVlc3RIYW5kbGVyfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIGByZXNwb25kYCBhbmQgYHBhc3NUaHJvdWdoYCBtZXRob2RzIHRoYXRcbiAqICAgY29udHJvbCBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC4gWW91IGNhbiBzYXZlIHRoaXMgb2JqZWN0IGZvciBsYXRlciB1c2UgYW5kIGludm9rZVxuICogICBgcmVzcG9uZGAgb3IgYHBhc3NUaHJvdWdoYCBhZ2FpbiBpbiBvcmRlciB0byBjaGFuZ2UgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaHR0cEJhY2tlbmQjd2hlblBBVENIXG4gKiBAbW9kdWxlIG5nTW9ja0UyRVxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbmV3IGJhY2tlbmQgZGVmaW5pdGlvbiBmb3IgUEFUQ0ggcmVxdWVzdHMuICBGb3IgbW9yZSBpbmZvIHNlZSBgd2hlbigpYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xSZWdFeHB8ZnVuY3Rpb24oc3RyaW5nKX0gdXJsIEhUVFAgdXJsIG9yIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSB1cmxcbiAqICAgYW5kIHJldHVybnMgdHJ1ZSBpZiB0aGUgdXJsIG1hdGNoZXMgdGhlIGN1cnJlbnQgZGVmaW5pdGlvbi5cbiAqIEBwYXJhbSB7KHN0cmluZ3xSZWdFeHApPX0gZGF0YSBIVFRQIHJlcXVlc3QgYm9keS5cbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbihPYmplY3QpKT19IGhlYWRlcnMgSFRUUCBoZWFkZXJzLlxuICogQHBhcmFtIHsoQXJyYXkpPX0ga2V5cyBBcnJheSBvZiBrZXlzIHRvIGFzc2lnbiB0byByZWdleCBtYXRjaGVzIGluIHJlcXVlc3QgdXJsIGRlc2NyaWJlZCBvblxuICogICB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCAkaHR0cEJhY2tlbmQgbW9ja30uXG4gKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIGFuZCBgcGFzc1Rocm91Z2hgIG1ldGhvZHMgdGhhdFxuICogICBjb250cm9sIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLiBZb3UgY2FuIHNhdmUgdGhpcyBvYmplY3QgZm9yIGxhdGVyIHVzZSBhbmQgaW52b2tlXG4gKiAgIGByZXNwb25kYCBvciBgcGFzc1Rocm91Z2hgIGFnYWluIGluIG9yZGVyIHRvIGNoYW5nZSBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuSlNPTlBcbiAqIEBtb2R1bGUgbmdNb2NrRTJFXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIGZvciBKU09OUCByZXF1ZXN0cy4gRm9yIG1vcmUgaW5mbyBzZWUgYHdoZW4oKWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8UmVnRXhwfGZ1bmN0aW9uKHN0cmluZyl9IHVybCBIVFRQIHVybCBvciBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgdXJsXG4gKiAgIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIHVybCBtYXRjaGVzIHRoZSBjdXJyZW50IGRlZmluaXRpb24uXG4gKiBAcGFyYW0geyhBcnJheSk9fSBrZXlzIEFycmF5IG9mIGtleXMgdG8gYXNzaWduIHRvIHJlZ2V4IG1hdGNoZXMgaW4gcmVxdWVzdCB1cmwgZGVzY3JpYmVkIG9uXG4gKiAgIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kICRodHRwQmFja2VuZCBtb2NrfS5cbiAqIEByZXR1cm5zIHtyZXF1ZXN0SGFuZGxlcn0gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgcmVzcG9uZGAgYW5kIGBwYXNzVGhyb3VnaGAgbWV0aG9kcyB0aGF0XG4gKiAgIGNvbnRyb2wgaG93IGEgbWF0Y2hlZCByZXF1ZXN0IGlzIGhhbmRsZWQuIFlvdSBjYW4gc2F2ZSB0aGlzIG9iamVjdCBmb3IgbGF0ZXIgdXNlIGFuZCBpbnZva2VcbiAqICAgYHJlc3BvbmRgIG9yIGBwYXNzVGhyb3VnaGAgYWdhaW4gaW4gb3JkZXIgdG8gY2hhbmdlIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLlxuICovXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRodHRwQmFja2VuZCN3aGVuUm91dGVcbiAqIEBtb2R1bGUgbmdNb2NrRTJFXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBkZWZpbml0aW9uIHRoYXQgY29tcGFyZXMgb25seSB3aXRoIHRoZSByZXF1ZXN0ZWQgcm91dGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBIVFRQIG1ldGhvZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSFRUUCB1cmwgc3RyaW5nIHRoYXQgc3VwcG9ydHMgY29sb24gcGFyYW0gbWF0Y2hpbmcuXG4gKiBAcmV0dXJucyB7cmVxdWVzdEhhbmRsZXJ9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYHJlc3BvbmRgIGFuZCBgcGFzc1Rocm91Z2hgIG1ldGhvZHMgdGhhdFxuICogICBjb250cm9sIGhvdyBhIG1hdGNoZWQgcmVxdWVzdCBpcyBoYW5kbGVkLiBZb3UgY2FuIHNhdmUgdGhpcyBvYmplY3QgZm9yIGxhdGVyIHVzZSBhbmQgaW52b2tlXG4gKiAgIGByZXNwb25kYCBvciBgcGFzc1Rocm91Z2hgIGFnYWluIGluIG9yZGVyIHRvIGNoYW5nZSBob3cgYSBtYXRjaGVkIHJlcXVlc3QgaXMgaGFuZGxlZC5cbiAqL1xuYW5ndWxhci5tb2NrLmUyZSA9IHt9O1xuYW5ndWxhci5tb2NrLmUyZS4kaHR0cEJhY2tlbmREZWNvcmF0b3IgPVxuICBbJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnJGRlbGVnYXRlJywgJyRicm93c2VyJywgY3JlYXRlSHR0cEJhY2tlbmRNb2NrXTtcblxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlXG4gKiBAbW9kdWxlIG5nTW9ja1xuICogQGRlc2NyaXB0aW9uXG4gKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBTY29wZX0gdHlwZSBkZWNvcmF0ZWQgd2l0aCBoZWxwZXIgbWV0aG9kcyB1c2VmdWwgZm9yIHRlc3RpbmcuIFRoZXNlXG4gKiBtZXRob2RzIGFyZSBhdXRvbWF0aWNhbGx5IGF2YWlsYWJsZSBvbiBhbnkge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IGluc3RhbmNlIHdoZW5cbiAqIGBuZ01vY2tgIG1vZHVsZSBpcyBsb2FkZWQuXG4gKlxuICogSW4gYWRkaXRpb24gdG8gYWxsIHRoZSByZWd1bGFyIGBTY29wZWAgbWV0aG9kcywgdGhlIGZvbGxvd2luZyBoZWxwZXIgbWV0aG9kcyBhcmUgYXZhaWxhYmxlOlxuICovXG5hbmd1bGFyLm1vY2suJFJvb3RTY29wZURlY29yYXRvciA9IFsnJGRlbGVnYXRlJywgZnVuY3Rpb24oJGRlbGVnYXRlKSB7XG5cbiAgdmFyICRyb290U2NvcGVQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoJGRlbGVnYXRlKTtcblxuICAkcm9vdFNjb3BlUHJvdG90eXBlLiRjb3VudENoaWxkU2NvcGVzID0gY291bnRDaGlsZFNjb3BlcztcbiAgJHJvb3RTY29wZVByb3RvdHlwZS4kY291bnRXYXRjaGVycyA9IGNvdW50V2F0Y2hlcnM7XG5cbiAgcmV0dXJuICRkZWxlZ2F0ZTtcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRjb3VudENoaWxkU2NvcGVzXG4gICAqIEBtb2R1bGUgbmdNb2NrXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb3VudHMgYWxsIHRoZSBkaXJlY3QgYW5kIGluZGlyZWN0IGNoaWxkIHNjb3BlcyBvZiB0aGUgY3VycmVudCBzY29wZS5cbiAgICpcbiAgICogVGhlIGN1cnJlbnQgc2NvcGUgaXMgZXhjbHVkZWQgZnJvbSB0aGUgY291bnQuIFRoZSBjb3VudCBpbmNsdWRlcyBhbGwgaXNvbGF0ZSBjaGlsZCBzY29wZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRvdGFsIG51bWJlciBvZiBjaGlsZCBzY29wZXMuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudENoaWxkU2NvcGVzKCkge1xuICAgIC8vIGpzaGludCB2YWxpZHRoaXM6IHRydWVcbiAgICB2YXIgY291bnQgPSAwOyAvLyBleGNsdWRlIHRoZSBjdXJyZW50IHNjb3BlXG4gICAgdmFyIHBlbmRpbmdDaGlsZEhlYWRzID0gW3RoaXMuJCRjaGlsZEhlYWRdO1xuICAgIHZhciBjdXJyZW50U2NvcGU7XG5cbiAgICB3aGlsZSAocGVuZGluZ0NoaWxkSGVhZHMubGVuZ3RoKSB7XG4gICAgICBjdXJyZW50U2NvcGUgPSBwZW5kaW5nQ2hpbGRIZWFkcy5zaGlmdCgpO1xuXG4gICAgICB3aGlsZSAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgIHBlbmRpbmdDaGlsZEhlYWRzLnB1c2goY3VycmVudFNjb3BlLiQkY2hpbGRIZWFkKTtcbiAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudFNjb3BlLiQkbmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRjb3VudFdhdGNoZXJzXG4gICAqIEBtb2R1bGUgbmdNb2NrXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb3VudHMgYWxsIHRoZSB3YXRjaGVycyBvZiBkaXJlY3QgYW5kIGluZGlyZWN0IGNoaWxkIHNjb3BlcyBvZiB0aGUgY3VycmVudCBzY29wZS5cbiAgICpcbiAgICogVGhlIHdhdGNoZXJzIG9mIHRoZSBjdXJyZW50IHNjb3BlIGFyZSBpbmNsdWRlZCBpbiB0aGUgY291bnQgYW5kIHNvIGFyZSBhbGwgdGhlIHdhdGNoZXJzIG9mXG4gICAqIGlzb2xhdGUgY2hpbGQgc2NvcGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUb3RhbCBudW1iZXIgb2Ygd2F0Y2hlcnMuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudFdhdGNoZXJzKCkge1xuICAgIC8vIGpzaGludCB2YWxpZHRoaXM6IHRydWVcbiAgICB2YXIgY291bnQgPSB0aGlzLiQkd2F0Y2hlcnMgPyB0aGlzLiQkd2F0Y2hlcnMubGVuZ3RoIDogMDsgLy8gaW5jbHVkZSB0aGUgY3VycmVudCBzY29wZVxuICAgIHZhciBwZW5kaW5nQ2hpbGRIZWFkcyA9IFt0aGlzLiQkY2hpbGRIZWFkXTtcbiAgICB2YXIgY3VycmVudFNjb3BlO1xuXG4gICAgd2hpbGUgKHBlbmRpbmdDaGlsZEhlYWRzLmxlbmd0aCkge1xuICAgICAgY3VycmVudFNjb3BlID0gcGVuZGluZ0NoaWxkSGVhZHMuc2hpZnQoKTtcblxuICAgICAgd2hpbGUgKGN1cnJlbnRTY29wZSkge1xuICAgICAgICBjb3VudCArPSBjdXJyZW50U2NvcGUuJCR3YXRjaGVycyA/IGN1cnJlbnRTY29wZS4kJHdhdGNoZXJzLmxlbmd0aCA6IDA7XG4gICAgICAgIHBlbmRpbmdDaGlsZEhlYWRzLnB1c2goY3VycmVudFNjb3BlLiQkY2hpbGRIZWFkKTtcbiAgICAgICAgY3VycmVudFNjb3BlID0gY3VycmVudFNjb3BlLiQkbmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG59XTtcblxuXG5pZiAod2luZG93Lmphc21pbmUgfHwgd2luZG93Lm1vY2hhKSB7XG5cbiAgdmFyIGN1cnJlbnRTcGVjID0gbnVsbCxcbiAgICAgIGFubm90YXRlZEZ1bmN0aW9ucyA9IFtdLFxuICAgICAgaXNTcGVjUnVubmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gISFjdXJyZW50U3BlYztcbiAgICAgIH07XG5cbiAgYW5ndWxhci5tb2NrLiQkYW5ub3RhdGUgPSBhbmd1bGFyLmluamVjdG9yLiQkYW5ub3RhdGU7XG4gIGFuZ3VsYXIuaW5qZWN0b3IuJCRhbm5vdGF0ZSA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiAhZm4uJGluamVjdCkge1xuICAgICAgYW5ub3RhdGVkRnVuY3Rpb25zLnB1c2goZm4pO1xuICAgIH1cbiAgICByZXR1cm4gYW5ndWxhci5tb2NrLiQkYW5ub3RhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcblxuXG4gICh3aW5kb3cuYmVmb3JlRWFjaCB8fCB3aW5kb3cuc2V0dXApKGZ1bmN0aW9uKCkge1xuICAgIGFubm90YXRlZEZ1bmN0aW9ucyA9IFtdO1xuICAgIGN1cnJlbnRTcGVjID0gdGhpcztcbiAgfSk7XG5cbiAgKHdpbmRvdy5hZnRlckVhY2ggfHwgd2luZG93LnRlYXJkb3duKShmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5qZWN0b3IgPSBjdXJyZW50U3BlYy4kaW5qZWN0b3I7XG5cbiAgICBhbm5vdGF0ZWRGdW5jdGlvbnMuZm9yRWFjaChmdW5jdGlvbihmbikge1xuICAgICAgZGVsZXRlIGZuLiRpbmplY3Q7XG4gICAgfSk7XG5cbiAgICBhbmd1bGFyLmZvckVhY2goY3VycmVudFNwZWMuJG1vZHVsZXMsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgaWYgKG1vZHVsZSAmJiBtb2R1bGUuJCRoYXNoS2V5KSB7XG4gICAgICAgIG1vZHVsZS4kJGhhc2hLZXkgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjdXJyZW50U3BlYy4kaW5qZWN0b3IgPSBudWxsO1xuICAgIGN1cnJlbnRTcGVjLiRtb2R1bGVzID0gbnVsbDtcbiAgICBjdXJyZW50U3BlYy4kcHJvdmlkZXJJbmplY3RvciA9IG51bGw7XG4gICAgY3VycmVudFNwZWMgPSBudWxsO1xuXG4gICAgaWYgKGluamVjdG9yKSB7XG4gICAgICBpbmplY3Rvci5nZXQoJyRyb290RWxlbWVudCcpLm9mZigpO1xuICAgICAgaW5qZWN0b3IuZ2V0KCckcm9vdFNjb3BlJykuJGRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICAvLyBjbGVhbiB1cCBqcXVlcnkncyBmcmFnbWVudCBjYWNoZVxuICAgIGFuZ3VsYXIuZm9yRWFjaChhbmd1bGFyLmVsZW1lbnQuZnJhZ21lbnRzLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgZGVsZXRlIGFuZ3VsYXIuZWxlbWVudC5mcmFnbWVudHNba2V5XTtcbiAgICB9KTtcblxuICAgIE1vY2tYaHIuJCRsYXN0SW5zdGFuY2UgPSBudWxsO1xuXG4gICAgYW5ndWxhci5mb3JFYWNoKGFuZ3VsYXIuY2FsbGJhY2tzLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgZGVsZXRlIGFuZ3VsYXIuY2FsbGJhY2tzW2tleV07XG4gICAgfSk7XG4gICAgYW5ndWxhci5jYWxsYmFja3MuY291bnRlciA9IDA7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgYW5ndWxhci5tb2NrLm1vZHVsZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogKk5PVEUqOiBUaGlzIGZ1bmN0aW9uIGlzIGFsc28gcHVibGlzaGVkIG9uIHdpbmRvdyBmb3IgZWFzeSBhY2Nlc3MuPGJyPlxuICAgKiAqTk9URSo6IFRoaXMgZnVuY3Rpb24gaXMgZGVjbGFyZWQgT05MWSBXSEVOIHJ1bm5pbmcgdGVzdHMgd2l0aCBqYXNtaW5lIG9yIG1vY2hhXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gcmVnaXN0ZXJzIGEgbW9kdWxlIGNvbmZpZ3VyYXRpb24gY29kZS4gSXQgY29sbGVjdHMgdGhlIGNvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb25cbiAgICogd2hpY2ggd2lsbCBiZSB1c2VkIHdoZW4gdGhlIGluamVjdG9yIGlzIGNyZWF0ZWQgYnkge0BsaW5rIGFuZ3VsYXIubW9jay5pbmplY3QgaW5qZWN0fS5cbiAgICpcbiAgICogU2VlIHtAbGluayBhbmd1bGFyLm1vY2suaW5qZWN0IGluamVjdH0gZm9yIHVzYWdlIGV4YW1wbGVcbiAgICpcbiAgICogQHBhcmFtIHsuLi4oc3RyaW5nfEZ1bmN0aW9ufE9iamVjdCl9IGZucyBhbnkgbnVtYmVyIG9mIG1vZHVsZXMgd2hpY2ggYXJlIHJlcHJlc2VudGVkIGFzIHN0cmluZ1xuICAgKiAgICAgICAgYWxpYXNlcyBvciBhcyBhbm9ueW1vdXMgbW9kdWxlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9ucy4gVGhlIG1vZHVsZXMgYXJlIHVzZWQgdG9cbiAgICogICAgICAgIGNvbmZpZ3VyZSB0aGUgaW5qZWN0b3IuIFRoZSAnbmcnIGFuZCAnbmdNb2NrJyBtb2R1bGVzIGFyZSBhdXRvbWF0aWNhbGx5IGxvYWRlZC4gSWYgYW5cbiAgICogICAgICAgIG9iamVjdCBsaXRlcmFsIGlzIHBhc3NlZCBlYWNoIGtleS12YWx1ZSBwYWlyIHdpbGwgYmUgcmVnaXN0ZXJlZCBvbiB0aGUgbW9kdWxlIHZpYVxuICAgKiAgICAgICAge0BsaW5rIGF1dG8uJHByb3ZpZGUgJHByb3ZpZGV9LnZhbHVlLCB0aGUga2V5IGJlaW5nIHRoZSBzdHJpbmcgbmFtZSAob3IgdG9rZW4pIHRvIGFzc29jaWF0ZVxuICAgKiAgICAgICAgd2l0aCB0aGUgdmFsdWUgb24gdGhlIGluamVjdG9yLlxuICAgKi9cbiAgd2luZG93Lm1vZHVsZSA9IGFuZ3VsYXIubW9jay5tb2R1bGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbW9kdWxlRm5zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICByZXR1cm4gaXNTcGVjUnVubmluZygpID8gd29ya0ZuKCkgOiB3b3JrRm47XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgZnVuY3Rpb24gd29ya0ZuKCkge1xuICAgICAgaWYgKGN1cnJlbnRTcGVjLiRpbmplY3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luamVjdG9yIGFscmVhZHkgY3JlYXRlZCwgY2FuIG5vdCByZWdpc3RlciBhIG1vZHVsZSEnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmbiwgbW9kdWxlcyA9IGN1cnJlbnRTcGVjLiRtb2R1bGVzIHx8IChjdXJyZW50U3BlYy4kbW9kdWxlcyA9IFtdKTtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKG1vZHVsZUZucywgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QobW9kdWxlKSAmJiAhYW5ndWxhci5pc0FycmF5KG1vZHVsZSkpIHtcbiAgICAgICAgICAgIGZuID0gZnVuY3Rpb24oJHByb3ZpZGUpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKG1vZHVsZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgICRwcm92aWRlLnZhbHVlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZuID0gbW9kdWxlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudFNwZWMuJHByb3ZpZGVySW5qZWN0b3IpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTcGVjLiRwcm92aWRlckluamVjdG9yLmludm9rZShmbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vZHVsZXMucHVzaChmbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBhbmd1bGFyLm1vY2suaW5qZWN0XG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiAqTk9URSo6IFRoaXMgZnVuY3Rpb24gaXMgYWxzbyBwdWJsaXNoZWQgb24gd2luZG93IGZvciBlYXN5IGFjY2Vzcy48YnI+XG4gICAqICpOT1RFKjogVGhpcyBmdW5jdGlvbiBpcyBkZWNsYXJlZCBPTkxZIFdIRU4gcnVubmluZyB0ZXN0cyB3aXRoIGphc21pbmUgb3IgbW9jaGFcbiAgICpcbiAgICogVGhlIGluamVjdCBmdW5jdGlvbiB3cmFwcyBhIGZ1bmN0aW9uIGludG8gYW4gaW5qZWN0YWJsZSBmdW5jdGlvbi4gVGhlIGluamVjdCgpIGNyZWF0ZXMgbmV3XG4gICAqIGluc3RhbmNlIG9mIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9IHBlciB0ZXN0LCB3aGljaCBpcyB0aGVuIHVzZWQgZm9yXG4gICAqIHJlc29sdmluZyByZWZlcmVuY2VzLlxuICAgKlxuICAgKlxuICAgKiAjIyBSZXNvbHZpbmcgUmVmZXJlbmNlcyAoVW5kZXJzY29yZSBXcmFwcGluZylcbiAgICogT2Z0ZW4sIHdlIHdvdWxkIGxpa2UgdG8gaW5qZWN0IGEgcmVmZXJlbmNlIG9uY2UsIGluIGEgYGJlZm9yZUVhY2goKWAgYmxvY2sgYW5kIHJldXNlIHRoaXNcbiAgICogaW4gbXVsdGlwbGUgYGl0KClgIGNsYXVzZXMuIFRvIGJlIGFibGUgdG8gZG8gdGhpcyB3ZSBtdXN0IGFzc2lnbiB0aGUgcmVmZXJlbmNlIHRvIGEgdmFyaWFibGVcbiAgICogdGhhdCBpcyBkZWNsYXJlZCBpbiB0aGUgc2NvcGUgb2YgdGhlIGBkZXNjcmliZSgpYCBibG9jay4gU2luY2Ugd2Ugd291bGQsIG1vc3QgbGlrZWx5LCB3YW50XG4gICAqIHRoZSB2YXJpYWJsZSB0byBoYXZlIHRoZSBzYW1lIG5hbWUgb2YgdGhlIHJlZmVyZW5jZSB3ZSBoYXZlIGEgcHJvYmxlbSwgc2luY2UgdGhlIHBhcmFtZXRlclxuICAgKiB0byB0aGUgYGluamVjdCgpYCBmdW5jdGlvbiB3b3VsZCBoaWRlIHRoZSBvdXRlciB2YXJpYWJsZS5cbiAgICpcbiAgICogVG8gaGVscCB3aXRoIHRoaXMsIHRoZSBpbmplY3RlZCBwYXJhbWV0ZXJzIGNhbiwgb3B0aW9uYWxseSwgYmUgZW5jbG9zZWQgd2l0aCB1bmRlcnNjb3Jlcy5cbiAgICogVGhlc2UgYXJlIGlnbm9yZWQgYnkgdGhlIGluamVjdG9yIHdoZW4gdGhlIHJlZmVyZW5jZSBuYW1lIGlzIHJlc29sdmVkLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSwgdGhlIHBhcmFtZXRlciBgX215U2VydmljZV9gIHdvdWxkIGJlIHJlc29sdmVkIGFzIHRoZSByZWZlcmVuY2UgYG15U2VydmljZWAuXG4gICAqIFNpbmNlIGl0IGlzIGF2YWlsYWJsZSBpbiB0aGUgZnVuY3Rpb24gYm9keSBhcyBfbXlTZXJ2aWNlXywgd2UgY2FuIHRoZW4gYXNzaWduIGl0IHRvIGEgdmFyaWFibGVcbiAgICogZGVmaW5lZCBpbiBhbiBvdXRlciBzY29wZS5cbiAgICpcbiAgICogYGBgXG4gICAqIC8vIERlZmluZWQgb3V0IHJlZmVyZW5jZSB2YXJpYWJsZSBvdXRzaWRlXG4gICAqIHZhciBteVNlcnZpY2U7XG4gICAqXG4gICAqIC8vIFdyYXAgdGhlIHBhcmFtZXRlciBpbiB1bmRlcnNjb3Jlc1xuICAgKiBiZWZvcmVFYWNoKCBpbmplY3QoIGZ1bmN0aW9uKF9teVNlcnZpY2VfKXtcbiAgICogICBteVNlcnZpY2UgPSBfbXlTZXJ2aWNlXztcbiAgICogfSkpO1xuICAgKlxuICAgKiAvLyBVc2UgbXlTZXJ2aWNlIGluIGEgc2VyaWVzIG9mIHRlc3RzLlxuICAgKiBpdCgnbWFrZXMgdXNlIG9mIG15U2VydmljZScsIGZ1bmN0aW9uKCkge1xuICAgKiAgIG15U2VydmljZS5kb1N0dWZmKCk7XG4gICAqIH0pO1xuICAgKlxuICAgKiBgYGBcbiAgICpcbiAgICogU2VlIGFsc28ge0BsaW5rIGFuZ3VsYXIubW9jay5tb2R1bGUgYW5ndWxhci5tb2NrLm1vZHVsZX1cbiAgICpcbiAgICogIyMgRXhhbXBsZVxuICAgKiBFeGFtcGxlIG9mIHdoYXQgYSB0eXBpY2FsIGphc21pbmUgdGVzdHMgbG9va3MgbGlrZSB3aXRoIHRoZSBpbmplY3QgbWV0aG9kLlxuICAgKiBgYGBqc1xuICAgKlxuICAgKiAgIGFuZ3VsYXIubW9kdWxlKCdteUFwcGxpY2F0aW9uTW9kdWxlJywgW10pXG4gICAqICAgICAgIC52YWx1ZSgnbW9kZScsICdhcHAnKVxuICAgKiAgICAgICAudmFsdWUoJ3ZlcnNpb24nLCAndjEuMC4xJyk7XG4gICAqXG4gICAqXG4gICAqICAgZGVzY3JpYmUoJ015QXBwJywgZnVuY3Rpb24oKSB7XG4gICAqXG4gICAqICAgICAvLyBZb3UgbmVlZCB0byBsb2FkIG1vZHVsZXMgdGhhdCB5b3Ugd2FudCB0byB0ZXN0LFxuICAgKiAgICAgLy8gaXQgbG9hZHMgb25seSB0aGUgXCJuZ1wiIG1vZHVsZSBieSBkZWZhdWx0LlxuICAgKiAgICAgYmVmb3JlRWFjaChtb2R1bGUoJ215QXBwbGljYXRpb25Nb2R1bGUnKSk7XG4gICAqXG4gICAqXG4gICAqICAgICAvLyBpbmplY3QoKSBpcyB1c2VkIHRvIGluamVjdCBhcmd1bWVudHMgb2YgYWxsIGdpdmVuIGZ1bmN0aW9uc1xuICAgKiAgICAgaXQoJ3Nob3VsZCBwcm92aWRlIGEgdmVyc2lvbicsIGluamVjdChmdW5jdGlvbihtb2RlLCB2ZXJzaW9uKSB7XG4gICAqICAgICAgIGV4cGVjdCh2ZXJzaW9uKS50b0VxdWFsKCd2MS4wLjEnKTtcbiAgICogICAgICAgZXhwZWN0KG1vZGUpLnRvRXF1YWwoJ2FwcCcpO1xuICAgKiAgICAgfSkpO1xuICAgKlxuICAgKlxuICAgKiAgICAgLy8gVGhlIGluamVjdCBhbmQgbW9kdWxlIG1ldGhvZCBjYW4gYWxzbyBiZSB1c2VkIGluc2lkZSBvZiB0aGUgaXQgb3IgYmVmb3JlRWFjaFxuICAgKiAgICAgaXQoJ3Nob3VsZCBvdmVycmlkZSBhIHZlcnNpb24gYW5kIHRlc3QgdGhlIG5ldyB2ZXJzaW9uIGlzIGluamVjdGVkJywgZnVuY3Rpb24oKSB7XG4gICAqICAgICAgIC8vIG1vZHVsZSgpIHRha2VzIGZ1bmN0aW9ucyBvciBzdHJpbmdzIChtb2R1bGUgYWxpYXNlcylcbiAgICogICAgICAgbW9kdWxlKGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gICAqICAgICAgICAgJHByb3ZpZGUudmFsdWUoJ3ZlcnNpb24nLCAnb3ZlcnJpZGRlbicpOyAvLyBvdmVycmlkZSB2ZXJzaW9uIGhlcmVcbiAgICogICAgICAgfSk7XG4gICAqXG4gICAqICAgICAgIGluamVjdChmdW5jdGlvbih2ZXJzaW9uKSB7XG4gICAqICAgICAgICAgZXhwZWN0KHZlcnNpb24pLnRvRXF1YWwoJ292ZXJyaWRkZW4nKTtcbiAgICogICAgICAgfSk7XG4gICAqICAgICB9KTtcbiAgICogICB9KTtcbiAgICpcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZucyBhbnkgbnVtYmVyIG9mIGZ1bmN0aW9ucyB3aGljaCB3aWxsIGJlIGluamVjdGVkIHVzaW5nIHRoZSBpbmplY3Rvci5cbiAgICovXG5cblxuXG4gIHZhciBFcnJvckFkZGluZ0RlY2xhcmF0aW9uTG9jYXRpb25TdGFjayA9IGZ1bmN0aW9uKGUsIGVycm9yRm9yU3RhY2spIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBlLm1lc3NhZ2U7XG4gICAgdGhpcy5uYW1lID0gZS5uYW1lO1xuICAgIGlmIChlLmxpbmUpIHRoaXMubGluZSA9IGUubGluZTtcbiAgICBpZiAoZS5zb3VyY2VJZCkgdGhpcy5zb3VyY2VJZCA9IGUuc291cmNlSWQ7XG4gICAgaWYgKGUuc3RhY2sgJiYgZXJyb3JGb3JTdGFjaylcbiAgICAgIHRoaXMuc3RhY2sgPSBlLnN0YWNrICsgJ1xcbicgKyBlcnJvckZvclN0YWNrLnN0YWNrO1xuICAgIGlmIChlLnN0YWNrQXJyYXkpIHRoaXMuc3RhY2tBcnJheSA9IGUuc3RhY2tBcnJheTtcbiAgfTtcbiAgRXJyb3JBZGRpbmdEZWNsYXJhdGlvbkxvY2F0aW9uU3RhY2sucHJvdG90eXBlLnRvU3RyaW5nID0gRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4gIHdpbmRvdy5pbmplY3QgPSBhbmd1bGFyLm1vY2suaW5qZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJsb2NrRm5zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICB2YXIgZXJyb3JGb3JTdGFjayA9IG5ldyBFcnJvcignRGVjbGFyYXRpb24gTG9jYXRpb24nKTtcbiAgICByZXR1cm4gaXNTcGVjUnVubmluZygpID8gd29ya0ZuLmNhbGwoY3VycmVudFNwZWMpIDogd29ya0ZuO1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIHdvcmtGbigpIHtcbiAgICAgIHZhciBtb2R1bGVzID0gY3VycmVudFNwZWMuJG1vZHVsZXMgfHwgW107XG4gICAgICB2YXIgc3RyaWN0RGkgPSAhIWN1cnJlbnRTcGVjLiRpbmplY3RvclN0cmljdDtcbiAgICAgIG1vZHVsZXMudW5zaGlmdChmdW5jdGlvbigkaW5qZWN0b3IpIHtcbiAgICAgICAgY3VycmVudFNwZWMuJHByb3ZpZGVySW5qZWN0b3IgPSAkaW5qZWN0b3I7XG4gICAgICB9KTtcbiAgICAgIG1vZHVsZXMudW5zaGlmdCgnbmdNb2NrJyk7XG4gICAgICBtb2R1bGVzLnVuc2hpZnQoJ25nJyk7XG4gICAgICB2YXIgaW5qZWN0b3IgPSBjdXJyZW50U3BlYy4kaW5qZWN0b3I7XG4gICAgICBpZiAoIWluamVjdG9yKSB7XG4gICAgICAgIGlmIChzdHJpY3REaSkge1xuICAgICAgICAgIC8vIElmIHN0cmljdERpIGlzIGVuYWJsZWQsIGFubm90YXRlIHRoZSBwcm92aWRlckluamVjdG9yIGJsb2Nrc1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChtb2R1bGVzLCBmdW5jdGlvbihtb2R1bGVGbikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGVGbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuaW5qZWN0b3IuJCRhbm5vdGF0ZShtb2R1bGVGbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5qZWN0b3IgPSBjdXJyZW50U3BlYy4kaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKG1vZHVsZXMsIHN0cmljdERpKTtcbiAgICAgICAgY3VycmVudFNwZWMuJGluamVjdG9yU3RyaWN0ID0gc3RyaWN0RGk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBibG9ja0Zucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIGlmIChjdXJyZW50U3BlYy4kaW5qZWN0b3JTdHJpY3QpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgaW5qZWN0b3IgaXMgc3RyaWN0IC8gc3RyaWN0RGksIGFuZCB0aGUgc3BlYyB3YW50cyB0byBpbmplY3QgdXNpbmcgYXV0b21hdGljXG4gICAgICAgICAgLy8gYW5ub3RhdGlvbiwgdGhlbiBhbm5vdGF0ZSB0aGUgZnVuY3Rpb24gaGVyZS5cbiAgICAgICAgICBpbmplY3Rvci5hbm5vdGF0ZShibG9ja0Zuc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvKiBqc2hpbnQgLVcwNDAgKi8vKiBKYXNtaW5lIGV4cGxpY2l0bHkgcHJvdmlkZXMgYSBgdGhpc2Agb2JqZWN0IHdoZW4gY2FsbGluZyBmdW5jdGlvbnMgKi9cbiAgICAgICAgICBpbmplY3Rvci5pbnZva2UoYmxvY2tGbnNbaV0gfHwgYW5ndWxhci5ub29wLCB0aGlzKTtcbiAgICAgICAgICAvKiBqc2hpbnQgK1cwNDAgKi9cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmIChlLnN0YWNrICYmIGVycm9yRm9yU3RhY2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvckFkZGluZ0RlY2xhcmF0aW9uTG9jYXRpb25TdGFjayhlLCBlcnJvckZvclN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBlcnJvckZvclN0YWNrID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuXG4gIGFuZ3VsYXIubW9jay5pbmplY3Quc3RyaWN0RGkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA/ICEhdmFsdWUgOiB0cnVlO1xuICAgIHJldHVybiBpc1NwZWNSdW5uaW5nKCkgPyB3b3JrRm4oKSA6IHdvcmtGbjtcblxuICAgIGZ1bmN0aW9uIHdvcmtGbigpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gY3VycmVudFNwZWMuJGluamVjdG9yU3RyaWN0KSB7XG4gICAgICAgIGlmIChjdXJyZW50U3BlYy4kaW5qZWN0b3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luamVjdG9yIGFscmVhZHkgY3JlYXRlZCwgY2FuIG5vdCBtb2RpZnkgc3RyaWN0IGFubm90YXRpb25zJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudFNwZWMuJGluamVjdG9yU3RyaWN0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG4iLCIvKlxuIEFuZ3VsYXJKUyB2MS41LjBcbiAoYykgMjAxMC0yMDE2IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuIExpY2Vuc2U6IE1JVFxuKi9cbihmdW5jdGlvbihyLGQsQyl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIHgocyxoLGcpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLHRlcm1pbmFsOiEwLHByaW9yaXR5OjQwMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLGxpbms6ZnVuY3Rpb24oYSxjLGIsZix5KXtmdW5jdGlvbiBrKCl7biYmKGcuY2FuY2VsKG4pLG49bnVsbCk7bCYmKGwuJGRlc3Ryb3koKSxsPW51bGwpO20mJihuPWcubGVhdmUobSksbi50aGVuKGZ1bmN0aW9uKCl7bj1udWxsfSksbT1udWxsKX1mdW5jdGlvbiB6KCl7dmFyIGI9cy5jdXJyZW50JiZzLmN1cnJlbnQubG9jYWxzO2lmKGQuaXNEZWZpbmVkKGImJmIuJHRlbXBsYXRlKSl7dmFyIGI9YS4kbmV3KCksZj1zLmN1cnJlbnQ7bT15KGIsZnVuY3Rpb24oYil7Zy5lbnRlcihiLG51bGwsbXx8YykudGhlbihmdW5jdGlvbigpeyFkLmlzRGVmaW5lZCh1KXx8dSYmIWEuJGV2YWwodSl8fGgoKX0pO2soKX0pO2w9Zi5zY29wZT1iO2wuJGVtaXQoXCIkdmlld0NvbnRlbnRMb2FkZWRcIik7XG5sLiRldmFsKHYpfWVsc2UgaygpfXZhciBsLG0sbix1PWIuYXV0b3Njcm9sbCx2PWIub25sb2FkfHxcIlwiO2EuJG9uKFwiJHJvdXRlQ2hhbmdlU3VjY2Vzc1wiLHopO3ooKX19fWZ1bmN0aW9uIEEoZCxoLGcpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLHByaW9yaXR5Oi00MDAsbGluazpmdW5jdGlvbihhLGMpe3ZhciBiPWcuY3VycmVudCxmPWIubG9jYWxzO2MuaHRtbChmLiR0ZW1wbGF0ZSk7dmFyIHk9ZChjLmNvbnRlbnRzKCkpO2lmKGIuY29udHJvbGxlcil7Zi4kc2NvcGU9YTt2YXIgaz1oKGIuY29udHJvbGxlcixmKTtiLmNvbnRyb2xsZXJBcyYmKGFbYi5jb250cm9sbGVyQXNdPWspO2MuZGF0YShcIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyXCIsayk7Yy5jaGlsZHJlbigpLmRhdGEoXCIkbmdDb250cm9sbGVyQ29udHJvbGxlclwiLGspfWFbYi5yZXNvbHZlQXN8fFwiJHJlc29sdmVcIl09Zjt5KGEpfX19cj1kLm1vZHVsZShcIm5nUm91dGVcIixbXCJuZ1wiXSkucHJvdmlkZXIoXCIkcm91dGVcIixmdW5jdGlvbigpe2Z1bmN0aW9uIHMoYSxcbmMpe3JldHVybiBkLmV4dGVuZChPYmplY3QuY3JlYXRlKGEpLGMpfWZ1bmN0aW9uIGgoYSxkKXt2YXIgYj1kLmNhc2VJbnNlbnNpdGl2ZU1hdGNoLGY9e29yaWdpbmFsUGF0aDphLHJlZ2V4cDphfSxnPWYua2V5cz1bXTthPWEucmVwbGFjZSgvKFsoKS5dKS9nLFwiXFxcXCQxXCIpLnJlcGxhY2UoLyhcXC8pPzooXFx3KykoW1xcP1xcKl0pPy9nLGZ1bmN0aW9uKGEsZCxiLGMpe2E9XCI/XCI9PT1jP2M6bnVsbDtjPVwiKlwiPT09Yz9jOm51bGw7Zy5wdXNoKHtuYW1lOmIsb3B0aW9uYWw6ISFhfSk7ZD1kfHxcIlwiO3JldHVyblwiXCIrKGE/XCJcIjpkKStcIig/OlwiKyhhP2Q6XCJcIikrKGMmJlwiKC4rPylcInx8XCIoW14vXSspXCIpKyhhfHxcIlwiKStcIilcIisoYXx8XCJcIil9KS5yZXBsYWNlKC8oW1xcLyRcXCpdKS9nLFwiXFxcXCQxXCIpO2YucmVnZXhwPW5ldyBSZWdFeHAoXCJeXCIrYStcIiRcIixiP1wiaVwiOlwiXCIpO3JldHVybiBmfXZhciBnPXt9O3RoaXMud2hlbj1mdW5jdGlvbihhLGMpe3ZhciBiPWQuY29weShjKTtkLmlzVW5kZWZpbmVkKGIucmVsb2FkT25TZWFyY2gpJiZcbihiLnJlbG9hZE9uU2VhcmNoPSEwKTtkLmlzVW5kZWZpbmVkKGIuY2FzZUluc2Vuc2l0aXZlTWF0Y2gpJiYoYi5jYXNlSW5zZW5zaXRpdmVNYXRjaD10aGlzLmNhc2VJbnNlbnNpdGl2ZU1hdGNoKTtnW2FdPWQuZXh0ZW5kKGIsYSYmaChhLGIpKTtpZihhKXt2YXIgZj1cIi9cIj09YVthLmxlbmd0aC0xXT9hLnN1YnN0cigwLGEubGVuZ3RoLTEpOmErXCIvXCI7Z1tmXT1kLmV4dGVuZCh7cmVkaXJlY3RUbzphfSxoKGYsYikpfXJldHVybiB0aGlzfTt0aGlzLmNhc2VJbnNlbnNpdGl2ZU1hdGNoPSExO3RoaXMub3RoZXJ3aXNlPWZ1bmN0aW9uKGEpe1wic3RyaW5nXCI9PT10eXBlb2YgYSYmKGE9e3JlZGlyZWN0VG86YX0pO3RoaXMud2hlbihudWxsLGEpO3JldHVybiB0aGlzfTt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGxvY2F0aW9uXCIsXCIkcm91dGVQYXJhbXNcIixcIiRxXCIsXCIkaW5qZWN0b3JcIixcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiRzY2VcIixmdW5jdGlvbihhLGMsYixmLGgsayxyKXtmdW5jdGlvbiBsKGIpe3ZhciBlPVxudC5jdXJyZW50Oyh4PShwPW4oKSkmJmUmJnAuJCRyb3V0ZT09PWUuJCRyb3V0ZSYmZC5lcXVhbHMocC5wYXRoUGFyYW1zLGUucGF0aFBhcmFtcykmJiFwLnJlbG9hZE9uU2VhcmNoJiYhdil8fCFlJiYhcHx8YS4kYnJvYWRjYXN0KFwiJHJvdXRlQ2hhbmdlU3RhcnRcIixwLGUpLmRlZmF1bHRQcmV2ZW50ZWQmJmImJmIucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBtKCl7dmFyIHc9dC5jdXJyZW50LGU9cDtpZih4KXcucGFyYW1zPWUucGFyYW1zLGQuY29weSh3LnBhcmFtcyxiKSxhLiRicm9hZGNhc3QoXCIkcm91dGVVcGRhdGVcIix3KTtlbHNlIGlmKGV8fHcpdj0hMSwodC5jdXJyZW50PWUpJiZlLnJlZGlyZWN0VG8mJihkLmlzU3RyaW5nKGUucmVkaXJlY3RUbyk/Yy5wYXRoKHUoZS5yZWRpcmVjdFRvLGUucGFyYW1zKSkuc2VhcmNoKGUucGFyYW1zKS5yZXBsYWNlKCk6Yy51cmwoZS5yZWRpcmVjdFRvKGUucGF0aFBhcmFtcyxjLnBhdGgoKSxjLnNlYXJjaCgpKSkucmVwbGFjZSgpKSxmLndoZW4oZSkudGhlbihmdW5jdGlvbigpe2lmKGUpe3ZhciBhPVxuZC5leHRlbmQoe30sZS5yZXNvbHZlKSxiLGM7ZC5mb3JFYWNoKGEsZnVuY3Rpb24oYixlKXthW2VdPWQuaXNTdHJpbmcoYik/aC5nZXQoYik6aC5pbnZva2UoYixudWxsLG51bGwsZSl9KTtkLmlzRGVmaW5lZChiPWUudGVtcGxhdGUpP2QuaXNGdW5jdGlvbihiKSYmKGI9YihlLnBhcmFtcykpOmQuaXNEZWZpbmVkKGM9ZS50ZW1wbGF0ZVVybCkmJihkLmlzRnVuY3Rpb24oYykmJihjPWMoZS5wYXJhbXMpKSxkLmlzRGVmaW5lZChjKSYmKGUubG9hZGVkVGVtcGxhdGVVcmw9ci52YWx1ZU9mKGMpLGI9ayhjKSkpO2QuaXNEZWZpbmVkKGIpJiYoYS4kdGVtcGxhdGU9Yik7cmV0dXJuIGYuYWxsKGEpfX0pLnRoZW4oZnVuY3Rpb24oYyl7ZT09dC5jdXJyZW50JiYoZSYmKGUubG9jYWxzPWMsZC5jb3B5KGUucGFyYW1zLGIpKSxhLiRicm9hZGNhc3QoXCIkcm91dGVDaGFuZ2VTdWNjZXNzXCIsZSx3KSl9LGZ1bmN0aW9uKGIpe2U9PXQuY3VycmVudCYmYS4kYnJvYWRjYXN0KFwiJHJvdXRlQ2hhbmdlRXJyb3JcIixcbmUsdyxiKX0pfWZ1bmN0aW9uIG4oKXt2YXIgYSxiO2QuZm9yRWFjaChnLGZ1bmN0aW9uKGYsZyl7dmFyIHE7aWYocT0hYil7dmFyIGg9Yy5wYXRoKCk7cT1mLmtleXM7dmFyIGw9e307aWYoZi5yZWdleHApaWYoaD1mLnJlZ2V4cC5leGVjKGgpKXtmb3IodmFyIGs9MSxuPWgubGVuZ3RoO2s8bjsrK2spe3ZhciBtPXFbay0xXSxwPWhba107bSYmcCYmKGxbbS5uYW1lXT1wKX1xPWx9ZWxzZSBxPW51bGw7ZWxzZSBxPW51bGw7cT1hPXF9cSYmKGI9cyhmLHtwYXJhbXM6ZC5leHRlbmQoe30sYy5zZWFyY2goKSxhKSxwYXRoUGFyYW1zOmF9KSxiLiQkcm91dGU9Zil9KTtyZXR1cm4gYnx8Z1tudWxsXSYmcyhnW251bGxdLHtwYXJhbXM6e30scGF0aFBhcmFtczp7fX0pfWZ1bmN0aW9uIHUoYSxiKXt2YXIgYz1bXTtkLmZvckVhY2goKGF8fFwiXCIpLnNwbGl0KFwiOlwiKSxmdW5jdGlvbihhLGQpe2lmKDA9PT1kKWMucHVzaChhKTtlbHNle3ZhciBmPWEubWF0Y2goLyhcXHcrKSg/Ols/Kl0pPyguKikvKSxcbmc9ZlsxXTtjLnB1c2goYltnXSk7Yy5wdXNoKGZbMl18fFwiXCIpO2RlbGV0ZSBiW2ddfX0pO3JldHVybiBjLmpvaW4oXCJcIil9dmFyIHY9ITEscCx4LHQ9e3JvdXRlczpnLHJlbG9hZDpmdW5jdGlvbigpe3Y9ITA7dmFyIGI9e2RlZmF1bHRQcmV2ZW50ZWQ6ITEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITA7dj0hMX19O2EuJGV2YWxBc3luYyhmdW5jdGlvbigpe2woYik7Yi5kZWZhdWx0UHJldmVudGVkfHxtKCl9KX0sdXBkYXRlUGFyYW1zOmZ1bmN0aW9uKGEpe2lmKHRoaXMuY3VycmVudCYmdGhpcy5jdXJyZW50LiQkcm91dGUpYT1kLmV4dGVuZCh7fSx0aGlzLmN1cnJlbnQucGFyYW1zLGEpLGMucGF0aCh1KHRoaXMuY3VycmVudC4kJHJvdXRlLm9yaWdpbmFsUGF0aCxhKSksYy5zZWFyY2goYSk7ZWxzZSB0aHJvdyBCKFwibm9yb3V0XCIpO319O2EuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3RhcnRcIixsKTthLiRvbihcIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NcIixcbm0pO3JldHVybiB0fV19KTt2YXIgQj1kLiQkbWluRXJyKFwibmdSb3V0ZVwiKTtyLnByb3ZpZGVyKFwiJHJvdXRlUGFyYW1zXCIsZnVuY3Rpb24oKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm57fX19KTtyLmRpcmVjdGl2ZShcIm5nVmlld1wiLHgpO3IuZGlyZWN0aXZlKFwibmdWaWV3XCIsQSk7eC4kaW5qZWN0PVtcIiRyb3V0ZVwiLFwiJGFuY2hvclNjcm9sbFwiLFwiJGFuaW1hdGVcIl07QS4kaW5qZWN0PVtcIiRjb21waWxlXCIsXCIkY29udHJvbGxlclwiLFwiJHJvdXRlXCJdfSkod2luZG93LHdpbmRvdy5hbmd1bGFyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXItcm91dGUubWluLmpzLm1hcFxuIiwiLypcbiBBbmd1bGFySlMgdjEuNC43XG4gKGMpIDIwMTAtMjAxNSBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiBMaWNlbnNlOiBNSVRcbiovXG4oZnVuY3Rpb24obixoLHApeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBFKGEpe3ZhciBmPVtdO3IoZixoLm5vb3ApLmNoYXJzKGEpO3JldHVybiBmLmpvaW4oXCJcIil9ZnVuY3Rpb24gZyhhLGYpe3ZhciBkPXt9LGM9YS5zcGxpdChcIixcIiksYjtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKWRbZj9oLmxvd2VyY2FzZShjW2JdKTpjW2JdXT0hMDtyZXR1cm4gZH1mdW5jdGlvbiBGKGEsZil7ZnVuY3Rpb24gZChhLGIsZCxsKXtiPWgubG93ZXJjYXNlKGIpO2lmKHNbYl0pZm9yKDtlLmxhc3QoKSYmdFtlLmxhc3QoKV07KWMoXCJcIixlLmxhc3QoKSk7dVtiXSYmZS5sYXN0KCk9PWImJmMoXCJcIixiKTsobD12W2JdfHwhIWwpfHxlLnB1c2goYik7dmFyIG09e307ZC5yZXBsYWNlKEcsZnVuY3Rpb24oYixhLGYsYyxkKXttW2FdPXEoZnx8Y3x8ZHx8XCJcIil9KTtmLnN0YXJ0JiZmLnN0YXJ0KGIsbSxsKX1mdW5jdGlvbiBjKGIsYSl7dmFyIGM9MCxkO2lmKGE9aC5sb3dlcmNhc2UoYSkpZm9yKGM9ZS5sZW5ndGgtXG4xOzA8PWMmJmVbY10hPWE7Yy0tKTtpZigwPD1jKXtmb3IoZD1lLmxlbmd0aC0xO2Q+PWM7ZC0tKWYuZW5kJiZmLmVuZChlW2RdKTtlLmxlbmd0aD1jfX1cInN0cmluZ1wiIT09dHlwZW9mIGEmJihhPW51bGw9PT1hfHxcInVuZGVmaW5lZFwiPT09dHlwZW9mIGE/XCJcIjpcIlwiK2EpO3ZhciBiLGssZT1bXSxtPWEsbDtmb3IoZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIGVbZS5sZW5ndGgtMV19O2E7KXtsPVwiXCI7az0hMDtpZihlLmxhc3QoKSYmd1tlLmxhc3QoKV0pYT1hLnJlcGxhY2UobmV3IFJlZ0V4cChcIihbXFxcXFdcXFxcd10qKTxcXFxccypcXFxcL1xcXFxzKlwiK2UubGFzdCgpK1wiW14+XSo+XCIsXCJpXCIpLGZ1bmN0aW9uKGEsYil7Yj1iLnJlcGxhY2UoSCxcIiQxXCIpLnJlcGxhY2UoSSxcIiQxXCIpO2YuY2hhcnMmJmYuY2hhcnMocShiKSk7cmV0dXJuXCJcIn0pLGMoXCJcIixlLmxhc3QoKSk7ZWxzZXtpZigwPT09YS5pbmRleE9mKFwiXFx4M2MhLS1cIikpYj1hLmluZGV4T2YoXCItLVwiLDQpLDA8PWImJmEubGFzdEluZGV4T2YoXCItLVxceDNlXCIsXG5iKT09PWImJihmLmNvbW1lbnQmJmYuY29tbWVudChhLnN1YnN0cmluZyg0LGIpKSxhPWEuc3Vic3RyaW5nKGIrMyksaz0hMSk7ZWxzZSBpZih4LnRlc3QoYSkpe2lmKGI9YS5tYXRjaCh4KSlhPWEucmVwbGFjZShiWzBdLFwiXCIpLGs9ITF9ZWxzZSBpZihKLnRlc3QoYSkpe2lmKGI9YS5tYXRjaCh5KSlhPWEuc3Vic3RyaW5nKGJbMF0ubGVuZ3RoKSxiWzBdLnJlcGxhY2UoeSxjKSxrPSExfWVsc2UgSy50ZXN0KGEpJiYoKGI9YS5tYXRjaCh6KSk/KGJbNF0mJihhPWEuc3Vic3RyaW5nKGJbMF0ubGVuZ3RoKSxiWzBdLnJlcGxhY2UoeixkKSksaz0hMSk6KGwrPVwiPFwiLGE9YS5zdWJzdHJpbmcoMSkpKTtrJiYoYj1hLmluZGV4T2YoXCI8XCIpLGwrPTA+Yj9hOmEuc3Vic3RyaW5nKDAsYiksYT0wPmI/XCJcIjphLnN1YnN0cmluZyhiKSxmLmNoYXJzJiZmLmNoYXJzKHEobCkpKX1pZihhPT1tKXRocm93IEwoXCJiYWRwYXJzZVwiLGEpO209YX1jKCl9ZnVuY3Rpb24gcShhKXtpZighYSlyZXR1cm5cIlwiO0EuaW5uZXJIVE1MPVxuYS5yZXBsYWNlKC88L2csXCImbHQ7XCIpO3JldHVybiBBLnRleHRDb250ZW50fWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGEucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZShNLGZ1bmN0aW9uKGEpe3ZhciBkPWEuY2hhckNvZGVBdCgwKTthPWEuY2hhckNvZGVBdCgxKTtyZXR1cm5cIiYjXCIrKDEwMjQqKGQtNTUyOTYpKyhhLTU2MzIwKSs2NTUzNikrXCI7XCJ9KS5yZXBsYWNlKE4sZnVuY3Rpb24oYSl7cmV0dXJuXCImI1wiK2EuY2hhckNvZGVBdCgwKStcIjtcIn0pLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKX1mdW5jdGlvbiByKGEsZil7dmFyIGQ9ITEsYz1oLmJpbmQoYSxhLnB1c2gpO3JldHVybntzdGFydDpmdW5jdGlvbihhLGssZSl7YT1oLmxvd2VyY2FzZShhKTshZCYmd1thXSYmKGQ9YSk7ZHx8ITAhPT1DW2FdfHwoYyhcIjxcIiksYyhhKSxoLmZvckVhY2goayxmdW5jdGlvbihkLGUpe3ZhciBrPWgubG93ZXJjYXNlKGUpLGc9XCJpbWdcIj09PWEmJlwic3JjXCI9PT1rfHxcblwiYmFja2dyb3VuZFwiPT09azshMCE9PU9ba118fCEwPT09RFtrXSYmIWYoZCxnKXx8KGMoXCIgXCIpLGMoZSksYygnPVwiJyksYyhCKGQpKSxjKCdcIicpKX0pLGMoZT9cIi8+XCI6XCI+XCIpKX0sZW5kOmZ1bmN0aW9uKGEpe2E9aC5sb3dlcmNhc2UoYSk7ZHx8ITAhPT1DW2FdfHwoYyhcIjwvXCIpLGMoYSksYyhcIj5cIikpO2E9PWQmJihkPSExKX0sY2hhcnM6ZnVuY3Rpb24oYSl7ZHx8YyhCKGEpKX19fXZhciBMPWguJCRtaW5FcnIoXCIkc2FuaXRpemVcIiksej0vXjwoKD86W2EtekEtWl0pW1xcdzotXSopKCg/OlxccytbXFx3Oi1dKyg/Olxccyo9XFxzKig/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfFtePlxcc10rKSk/KSopXFxzKihcXC8/KVxccyooPj8pLyx5PS9ePFxcL1xccyooW1xcdzotXSspW14+XSo+LyxHPS8oW1xcdzotXSspKD86XFxzKj1cXHMqKD86KD86XCIoKD86W15cIl0pKilcIil8KD86JygoPzpbXiddKSopJyl8KFtePlxcc10rKSkpPy9nLEs9L148LyxKPS9ePFxcLy8sSD0vXFx4M2MhLS0oLio/KS0tXFx4M2UvZyx4PS88IURPQ1RZUEUoW14+XSo/KT4vaSxcbkk9LzwhXFxbQ0RBVEFcXFsoLio/KV1dXFx4M2UvZyxNPS9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2csTj0vKFteXFwjLX58IHwhXSkvZyx2PWcoXCJhcmVhLGJyLGNvbCxocixpbWcsd2JyXCIpO249ZyhcImNvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHJcIik7cD1nKFwicnAscnRcIik7dmFyIHU9aC5leHRlbmQoe30scCxuKSxzPWguZXh0ZW5kKHt9LG4sZyhcImFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSxoNixoZWFkZXIsaGdyb3VwLGhyLGlucyxtYXAsbWVudSxuYXYsb2wscHJlLHNjcmlwdCxzZWN0aW9uLHRhYmxlLHVsXCIpKSx0PWguZXh0ZW5kKHt9LHAsZyhcImEsYWJicixhY3JvbnltLGIsYmRpLGJkbyxiaWcsYnIsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGltZyxpbnMsa2JkLGxhYmVsLG1hcCxtYXJrLHEscnVieSxycCxydCxzLHNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0dCx1LHZhclwiKSk7XG5uPWcoXCJjaXJjbGUsZGVmcyxkZXNjLGVsbGlwc2UsZm9udC1mYWNlLGZvbnQtZmFjZS1uYW1lLGZvbnQtZmFjZS1zcmMsZyxnbHlwaCxoa2VybixpbWFnZSxsaW5lYXJHcmFkaWVudCxsaW5lLG1hcmtlcixtZXRhZGF0YSxtaXNzaW5nLWdseXBoLG1wYXRoLHBhdGgscG9seWdvbixwb2x5bGluZSxyYWRpYWxHcmFkaWVudCxyZWN0LHN0b3Asc3ZnLHN3aXRjaCx0ZXh0LHRpdGxlLHRzcGFuLHVzZVwiKTt2YXIgdz1nKFwic2NyaXB0LHN0eWxlXCIpLEM9aC5leHRlbmQoe30sdixzLHQsdSxuKSxEPWcoXCJiYWNrZ3JvdW5kLGNpdGUsaHJlZixsb25nZGVzYyxzcmMsdXNlbWFwLHhsaW5rOmhyZWZcIik7bj1nKFwiYWJicixhbGlnbixhbHQsYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhcixjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb29yZHMsZGlyLGZhY2UsaGVhZGVycyxoZWlnaHQsaHJlZmxhbmcsaHNwYWNlLGlzbWFwLGxhbmcsbGFuZ3VhZ2Usbm9ocmVmLG5vd3JhcCxyZWwscmV2LHJvd3Mscm93c3BhbixydWxlcyxzY29wZSxzY3JvbGxpbmcsc2hhcGUsc2l6ZSxzcGFuLHN0YXJ0LHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHR5cGUsdmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aFwiKTtcbnA9ZyhcImFjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbHBoYWJldGljLGFyYWJpYy1mb3JtLGFzY2VudCxiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY29sb3IsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnQsY3gsY3ksZCxkeCxkeSxkZXNjZW50LGRpc3BsYXksZHVyLGVuZCxmaWxsLGZpbGwtcnVsZSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zdHJldGNoLGZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZyb20sZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxncmFkaWVudFVuaXRzLGhhbmdpbmcsaGVpZ2h0LGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkZW9ncmFwaGljLGssa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXRoZW1hdGljYWwsbWF4LG1pbixvZmZzZXQsb3BhY2l0eSxvcmllbnQsb3JpZ2luLG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSxwYXRoLHBhdGhMZW5ndGgscG9pbnRzLHByZXNlcnZlQXNwZWN0UmF0aW8scixyZWZYLHJlZlkscmVwZWF0Q291bnQscmVwZWF0RHVyLHJlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscm90YXRlLHJ4LHJ5LHNsb3BlLHN0ZW1oLHN0ZW12LHN0b3AtY29sb3Isc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzeXN0ZW1MYW5ndWFnZSx0YXJnZXQsdGV4dC1hbmNob3IsdG8sdHJhbnNmb3JtLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLHVuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2YWx1ZXMsdmVyc2lvbix2aWV3Qm94LHZpc2liaWxpdHksd2lkdGgsd2lkdGhzLHgseC1oZWlnaHQseDEseDIseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSx4bGluazp0eXBlLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx4bWxucyx4bWxuczp4bGluayx5LHkxLHkyLHpvb21BbmRQYW5cIixcbiEwKTt2YXIgTz1oLmV4dGVuZCh7fSxELHAsbiksQT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpO2gubW9kdWxlKFwibmdTYW5pdGl6ZVwiLFtdKS5wcm92aWRlcihcIiRzYW5pdGl6ZVwiLGZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiQkc2FuaXRpemVVcmlcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oZil7dmFyIGQ9W107RihmLHIoZCxmdW5jdGlvbihjLGIpe3JldHVybiEvXnVuc2FmZS8udGVzdChhKGMsYikpfSkpO3JldHVybiBkLmpvaW4oXCJcIil9fV19KTtoLm1vZHVsZShcIm5nU2FuaXRpemVcIikuZmlsdGVyKFwibGlua3lcIixbXCIkc2FuaXRpemVcIixmdW5jdGlvbihhKXt2YXIgZj0vKChmdHB8aHR0cHM/KTpcXC9cXC98KHd3d1xcLil8KG1haWx0bzopP1tBLVphLXowLTkuXyUrLV0rQClcXFMqW15cXHMuOywoKXt9PD5cIlxcdTIwMWRcXHUyMDE5XS9pLGQ9L15tYWlsdG86L2k7cmV0dXJuIGZ1bmN0aW9uKGMsYil7ZnVuY3Rpb24gayhhKXthJiZnLnB1c2goRShhKSl9ZnVuY3Rpb24gZShhLFxuYyl7Zy5wdXNoKFwiPGEgXCIpO2guaXNEZWZpbmVkKGIpJiZnLnB1c2goJ3RhcmdldD1cIicsYiwnXCIgJyk7Zy5wdXNoKCdocmVmPVwiJyxhLnJlcGxhY2UoL1wiL2csXCImcXVvdDtcIiksJ1wiPicpO2soYyk7Zy5wdXNoKFwiPC9hPlwiKX1pZighYylyZXR1cm4gYztmb3IodmFyIG0sbD1jLGc9W10sbixwO209bC5tYXRjaChmKTspbj1tWzBdLG1bMl18fG1bNF18fChuPShtWzNdP1wiaHR0cDovL1wiOlwibWFpbHRvOlwiKStuKSxwPW0uaW5kZXgsayhsLnN1YnN0cigwLHApKSxlKG4sbVswXS5yZXBsYWNlKGQsXCJcIikpLGw9bC5zdWJzdHJpbmcocCttWzBdLmxlbmd0aCk7ayhsKTtyZXR1cm4gYShnLmpvaW4oXCJcIikpfX1dKX0pKHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLXNhbml0aXplLm1pbi5qcy5tYXBcbiIsIi8qXG4gQW5ndWxhckpTIHYxLjUuMFxuIChjKSAyMDEwLTIwMTYgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gTGljZW5zZTogTUlUXG4qL1xuKGZ1bmN0aW9uKE8sVyx2KXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gSChhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1hcmd1bWVudHNbMF0sZDtkPVwiW1wiKyhhP2ErXCI6XCI6XCJcIikrYitcIl0gaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNS4wL1wiKyhhP2ErXCIvXCI6XCJcIikrYjtmb3IoYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe2Q9ZCsoMT09Yj9cIj9cIjpcIiZcIikrXCJwXCIrKGItMSkrXCI9XCI7dmFyIGM9ZW5jb2RlVVJJQ29tcG9uZW50LGU7ZT1hcmd1bWVudHNbYl07ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UudG9TdHJpbmcoKS5yZXBsYWNlKC8gXFx7W1xcc1xcU10qJC8sXCJcIik6XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpcInN0cmluZ1wiIT10eXBlb2YgZT9KU09OLnN0cmluZ2lmeShlKTplO2QrPWMoZSl9cmV0dXJuIEVycm9yKGQpfX1mdW5jdGlvbiBDYShhKXtpZihudWxsPT1hfHxaYShhKSlyZXR1cm4hMTtpZihMKGEpfHxGKGEpfHxDJiZhIGluc3RhbmNlb2YgQylyZXR1cm4hMDtcbnZhciBiPVwibGVuZ3RoXCJpbiBPYmplY3QoYSkmJmEubGVuZ3RoO3JldHVybiBOKGIpJiYoMDw9YiYmKGItMSBpbiBhfHxhIGluc3RhbmNlb2YgQXJyYXkpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLml0ZW0pfWZ1bmN0aW9uIG4oYSxiLGQpe3ZhciBjLGU7aWYoYSlpZihEKGEpKWZvcihjIGluIGEpXCJwcm90b3R5cGVcIj09Y3x8XCJsZW5ndGhcIj09Y3x8XCJuYW1lXCI9PWN8fGEuaGFzT3duUHJvcGVydHkmJiFhLmhhc093blByb3BlcnR5KGMpfHxiLmNhbGwoZCxhW2NdLGMsYSk7ZWxzZSBpZihMKGEpfHxDYShhKSl7dmFyIGY9XCJvYmplY3RcIiE9PXR5cGVvZiBhO2M9MDtmb3IoZT1hLmxlbmd0aDtjPGU7YysrKShmfHxjIGluIGEpJiZiLmNhbGwoZCxhW2NdLGMsYSl9ZWxzZSBpZihhLmZvckVhY2gmJmEuZm9yRWFjaCE9PW4pYS5mb3JFYWNoKGIsZCxhKTtlbHNlIGlmKHFjKGEpKWZvcihjIGluIGEpYi5jYWxsKGQsYVtjXSxjLGEpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuaGFzT3duUHJvcGVydHkpZm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZcbmIuY2FsbChkLGFbY10sYyxhKTtlbHNlIGZvcihjIGluIGEpc2EuY2FsbChhLGMpJiZiLmNhbGwoZCxhW2NdLGMsYSk7cmV0dXJuIGF9ZnVuY3Rpb24gcmMoYSxiLGQpe2Zvcih2YXIgYz1PYmplY3Qua2V5cyhhKS5zb3J0KCksZT0wO2U8Yy5sZW5ndGg7ZSsrKWIuY2FsbChkLGFbY1tlXV0sY1tlXSk7cmV0dXJuIGN9ZnVuY3Rpb24gc2MoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7YShkLGIpfX1mdW5jdGlvbiBZZCgpe3JldHVybisrcGJ9ZnVuY3Rpb24gUWIoYSxiLGQpe2Zvcih2YXIgYz1hLiQkaGFzaEtleSxlPTAsZj1iLmxlbmd0aDtlPGY7KytlKXt2YXIgZz1iW2VdO2lmKEUoZyl8fEQoZykpZm9yKHZhciBoPU9iamVjdC5rZXlzKGcpLGs9MCxsPWgubGVuZ3RoO2s8bDtrKyspe3ZhciBtPWhba10scj1nW21dO2QmJkUocik/VihyKT9hW21dPW5ldyBEYXRlKHIudmFsdWVPZigpKTokYShyKT9hW21dPW5ldyBSZWdFeHAocik6ci5ub2RlTmFtZT9hW21dPXIuY2xvbmVOb2RlKCEwKTpcblJiKHIpP2FbbV09ci5jbG9uZSgpOihFKGFbbV0pfHwoYVttXT1MKHIpP1tdOnt9KSxRYihhW21dLFtyXSwhMCkpOmFbbV09cn19Yz9hLiQkaGFzaEtleT1jOmRlbGV0ZSBhLiQkaGFzaEtleTtyZXR1cm4gYX1mdW5jdGlvbiBUKGEpe3JldHVybiBRYihhLHdhLmNhbGwoYXJndW1lbnRzLDEpLCExKX1mdW5jdGlvbiBaZChhKXtyZXR1cm4gUWIoYSx3YS5jYWxsKGFyZ3VtZW50cywxKSwhMCl9ZnVuY3Rpb24gY2EoYSl7cmV0dXJuIHBhcnNlSW50KGEsMTApfWZ1bmN0aW9uIFNiKGEsYil7cmV0dXJuIFQoT2JqZWN0LmNyZWF0ZShhKSxiKX1mdW5jdGlvbiBCKCl7fWZ1bmN0aW9uIGFiKGEpe3JldHVybiBhfWZ1bmN0aW9uIGJhKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX1mdW5jdGlvbiB0YyhhKXtyZXR1cm4gRChhLnRvU3RyaW5nKSYmYS50b1N0cmluZyE9PWdhfWZ1bmN0aW9uIHgoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIHkoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PVxudHlwZW9mIGF9ZnVuY3Rpb24gRShhKXtyZXR1cm4gbnVsbCE9PWEmJlwib2JqZWN0XCI9PT10eXBlb2YgYX1mdW5jdGlvbiBxYyhhKXtyZXR1cm4gbnVsbCE9PWEmJlwib2JqZWN0XCI9PT10eXBlb2YgYSYmIXVjKGEpfWZ1bmN0aW9uIEYoYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIE4oYSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIFYoYSl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1nYS5jYWxsKGEpfWZ1bmN0aW9uIEQoYSl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gJGEoYSl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PWdhLmNhbGwoYSl9ZnVuY3Rpb24gWmEoYSl7cmV0dXJuIGEmJmEud2luZG93PT09YX1mdW5jdGlvbiBiYihhKXtyZXR1cm4gYSYmYS4kZXZhbEFzeW5jJiZhLiR3YXRjaH1mdW5jdGlvbiBOYShhKXtyZXR1cm5cImJvb2xlYW5cIj09PXR5cGVvZiBhfWZ1bmN0aW9uICRkKGEpe3JldHVybiBhJiZOKGEubGVuZ3RoKSYmXG5hZS50ZXN0KGdhLmNhbGwoYSkpfWZ1bmN0aW9uIFJiKGEpe3JldHVybiEoIWF8fCEoYS5ub2RlTmFtZXx8YS5wcm9wJiZhLmF0dHImJmEuZmluZCkpfWZ1bmN0aW9uIGJlKGEpe3ZhciBiPXt9O2E9YS5zcGxpdChcIixcIik7dmFyIGQ7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyliW2FbZF1dPSEwO3JldHVybiBifWZ1bmN0aW9uIHJhKGEpe3JldHVybiBHKGEubm9kZU5hbWV8fGFbMF0mJmFbMF0ubm9kZU5hbWUpfWZ1bmN0aW9uIGNiKGEsYil7dmFyIGQ9YS5pbmRleE9mKGIpOzA8PWQmJmEuc3BsaWNlKGQsMSk7cmV0dXJuIGR9ZnVuY3Rpb24gT2EoYSxiKXtmdW5jdGlvbiBkKGEsYil7dmFyIGQ9Yi4kJGhhc2hLZXksZTtpZihMKGEpKXtlPTA7Zm9yKHZhciBmPWEubGVuZ3RoO2U8ZjtlKyspYi5wdXNoKGMoYVtlXSkpfWVsc2UgaWYocWMoYSkpZm9yKGUgaW4gYSliW2VdPWMoYVtlXSk7ZWxzZSBpZihhJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5oYXNPd25Qcm9wZXJ0eSlmb3IoZSBpbiBhKWEuaGFzT3duUHJvcGVydHkoZSkmJlxuKGJbZV09YyhhW2VdKSk7ZWxzZSBmb3IoZSBpbiBhKXNhLmNhbGwoYSxlKSYmKGJbZV09YyhhW2VdKSk7ZD9iLiQkaGFzaEtleT1kOmRlbGV0ZSBiLiQkaGFzaEtleTtyZXR1cm4gYn1mdW5jdGlvbiBjKGEpe2lmKCFFKGEpKXJldHVybiBhO3ZhciBiPWYuaW5kZXhPZihhKTtpZigtMSE9PWIpcmV0dXJuIGdbYl07aWYoWmEoYSl8fGJiKGEpKXRocm93IERhKFwiY3B3c1wiKTt2YXIgYj0hMSxjPWUoYSk7Yz09PXYmJihjPUwoYSk/W106T2JqZWN0LmNyZWF0ZSh1YyhhKSksYj0hMCk7Zi5wdXNoKGEpO2cucHVzaChjKTtyZXR1cm4gYj9kKGEsYyk6Y31mdW5jdGlvbiBlKGEpe3N3aXRjaChnYS5jYWxsKGEpKXtjYXNlIFwiW29iamVjdCBJbnQ4QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgSW50MTZBcnJheV1cIjpjYXNlIFwiW29iamVjdCBJbnQzMkFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIjpjYXNlIFwiW29iamVjdCBGbG9hdDY0QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgVWludDhBcnJheV1cIjpjYXNlIFwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIjpjYXNlIFwiW29iamVjdCBVaW50MTZBcnJheV1cIjpjYXNlIFwiW29iamVjdCBVaW50MzJBcnJheV1cIjpyZXR1cm4gbmV3IGEuY29uc3RydWN0b3IoYyhhLmJ1ZmZlcikpO1xuY2FzZSBcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI6aWYoIWEuc2xpY2Upe3ZhciBiPW5ldyBBcnJheUJ1ZmZlcihhLmJ5dGVMZW5ndGgpOyhuZXcgVWludDhBcnJheShiKSkuc2V0KG5ldyBVaW50OEFycmF5KGEpKTtyZXR1cm4gYn1yZXR1cm4gYS5zbGljZSgwKTtjYXNlIFwiW29iamVjdCBCb29sZWFuXVwiOmNhc2UgXCJbb2JqZWN0IE51bWJlcl1cIjpjYXNlIFwiW29iamVjdCBTdHJpbmddXCI6Y2FzZSBcIltvYmplY3QgRGF0ZV1cIjpyZXR1cm4gbmV3IGEuY29uc3RydWN0b3IoYS52YWx1ZU9mKCkpO2Nhc2UgXCJbb2JqZWN0IFJlZ0V4cF1cIjpyZXR1cm4gYj1uZXcgUmVnRXhwKGEuc291cmNlLGEudG9TdHJpbmcoKS5tYXRjaCgvW15cXC9dKiQvKVswXSksYi5sYXN0SW5kZXg9YS5sYXN0SW5kZXgsYn1pZihEKGEuY2xvbmVOb2RlKSlyZXR1cm4gYS5jbG9uZU5vZGUoITApfXZhciBmPVtdLGc9W107aWYoYil7aWYoJGQoYil8fFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PWdhLmNhbGwoYikpdGhyb3cgRGEoXCJjcHRhXCIpO1xuaWYoYT09PWIpdGhyb3cgRGEoXCJjcGlcIik7TChiKT9iLmxlbmd0aD0wOm4oYixmdW5jdGlvbihhLGMpe1wiJCRoYXNoS2V5XCIhPT1jJiZkZWxldGUgYltjXX0pO2YucHVzaChhKTtnLnB1c2goYik7cmV0dXJuIGQoYSxiKX1yZXR1cm4gYyhhKX1mdW5jdGlvbiBuYShhLGIpe2lmKEwoYSkpe2I9Ynx8W107Zm9yKHZhciBkPTAsYz1hLmxlbmd0aDtkPGM7ZCsrKWJbZF09YVtkXX1lbHNlIGlmKEUoYSkpZm9yKGQgaW4gYj1ifHx7fSxhKWlmKFwiJFwiIT09ZC5jaGFyQXQoMCl8fFwiJFwiIT09ZC5jaGFyQXQoMSkpYltkXT1hW2RdO3JldHVybiBifHxhfWZ1bmN0aW9uIG9hKGEsYil7aWYoYT09PWIpcmV0dXJuITA7aWYobnVsbD09PWF8fG51bGw9PT1iKXJldHVybiExO2lmKGEhPT1hJiZiIT09YilyZXR1cm4hMDt2YXIgZD10eXBlb2YgYSxjO2lmKGQ9PXR5cGVvZiBiJiZcIm9iamVjdFwiPT1kKWlmKEwoYSkpe2lmKCFMKGIpKXJldHVybiExO2lmKChkPWEubGVuZ3RoKT09Yi5sZW5ndGgpe2ZvcihjPVxuMDtjPGQ7YysrKWlmKCFvYShhW2NdLGJbY10pKXJldHVybiExO3JldHVybiEwfX1lbHNle2lmKFYoYSkpcmV0dXJuIFYoYik/b2EoYS5nZXRUaW1lKCksYi5nZXRUaW1lKCkpOiExO2lmKCRhKGEpKXJldHVybiAkYShiKT9hLnRvU3RyaW5nKCk9PWIudG9TdHJpbmcoKTohMTtpZihiYihhKXx8YmIoYil8fFphKGEpfHxaYShiKXx8TChiKXx8VihiKXx8JGEoYikpcmV0dXJuITE7ZD1aKCk7Zm9yKGMgaW4gYSlpZihcIiRcIiE9PWMuY2hhckF0KDApJiYhRChhW2NdKSl7aWYoIW9hKGFbY10sYltjXSkpcmV0dXJuITE7ZFtjXT0hMH1mb3IoYyBpbiBiKWlmKCEoYyBpbiBkKSYmXCIkXCIhPT1jLmNoYXJBdCgwKSYmeShiW2NdKSYmIUQoYltjXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gZGIoYSxiLGQpe3JldHVybiBhLmNvbmNhdCh3YS5jYWxsKGIsZCkpfWZ1bmN0aW9uIHZjKGEsYil7dmFyIGQ9Mjxhcmd1bWVudHMubGVuZ3RoP3dhLmNhbGwoYXJndW1lbnRzLDIpOltdO1xucmV0dXJuIUQoYil8fGIgaW5zdGFuY2VvZiBSZWdFeHA/YjpkLmxlbmd0aD9mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2IuYXBwbHkoYSxkYihkLGFyZ3VtZW50cywwKSk6Yi5hcHBseShhLGQpfTpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2IuYXBwbHkoYSxhcmd1bWVudHMpOmIuY2FsbChhKX19ZnVuY3Rpb24gY2UoYSxiKXt2YXIgZD1iO1wic3RyaW5nXCI9PT10eXBlb2YgYSYmXCIkXCI9PT1hLmNoYXJBdCgwKSYmXCIkXCI9PT1hLmNoYXJBdCgxKT9kPXY6WmEoYik/ZD1cIiRXSU5ET1dcIjpiJiZXPT09Yj9kPVwiJERPQ1VNRU5UXCI6YmIoYikmJihkPVwiJFNDT1BFXCIpO3JldHVybiBkfWZ1bmN0aW9uIGViKGEsYil7aWYoeChhKSlyZXR1cm4gdjtOKGIpfHwoYj1iPzI6bnVsbCk7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGEsY2UsYil9ZnVuY3Rpb24gd2MoYSl7cmV0dXJuIEYoYSk/SlNPTi5wYXJzZShhKTphfWZ1bmN0aW9uIHhjKGEsYil7YT1hLnJlcGxhY2UoZGUsXG5cIlwiKTt2YXIgZD1EYXRlLnBhcnNlKFwiSmFuIDAxLCAxOTcwIDAwOjAwOjAwIFwiK2EpLzZFNDtyZXR1cm4gaXNOYU4oZCk/YjpkfWZ1bmN0aW9uIFRiKGEsYixkKXtkPWQ/LTE6MTt2YXIgYz1hLmdldFRpbWV6b25lT2Zmc2V0KCk7Yj14YyhiLGMpO2QqPWItYzthPW5ldyBEYXRlKGEuZ2V0VGltZSgpKTthLnNldE1pbnV0ZXMoYS5nZXRNaW51dGVzKCkrZCk7cmV0dXJuIGF9ZnVuY3Rpb24gdGEoYSl7YT1DKGEpLmNsb25lKCk7dHJ5e2EuZW1wdHkoKX1jYXRjaChiKXt9dmFyIGQ9QyhcIjxkaXY+XCIpLmFwcGVuZChhKS5odG1sKCk7dHJ5e3JldHVybiBhWzBdLm5vZGVUeXBlPT09UGE/RyhkKTpkLm1hdGNoKC9eKDxbXj5dKz4pLylbMV0ucmVwbGFjZSgvXjwoW1xcd1xcLV0rKS8sZnVuY3Rpb24oYSxiKXtyZXR1cm5cIjxcIitHKGIpfSl9Y2F0Y2goYyl7cmV0dXJuIEcoZCl9fWZ1bmN0aW9uIHljKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGEpfWNhdGNoKGIpe319ZnVuY3Rpb24gemMoYSl7dmFyIGI9XG57fTtuKChhfHxcIlwiKS5zcGxpdChcIiZcIiksZnVuY3Rpb24oYSl7dmFyIGMsZSxmO2EmJihlPWE9YS5yZXBsYWNlKC9cXCsvZyxcIiUyMFwiKSxjPWEuaW5kZXhPZihcIj1cIiksLTEhPT1jJiYoZT1hLnN1YnN0cmluZygwLGMpLGY9YS5zdWJzdHJpbmcoYysxKSksZT15YyhlKSx5KGUpJiYoZj15KGYpP3ljKGYpOiEwLHNhLmNhbGwoYixlKT9MKGJbZV0pP2JbZV0ucHVzaChmKTpiW2VdPVtiW2VdLGZdOmJbZV09ZikpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gVWIoYSl7dmFyIGI9W107bihhLGZ1bmN0aW9uKGEsYyl7TChhKT9uKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKGhhKGMsITApKyghMD09PWE/XCJcIjpcIj1cIitoYShhLCEwKSkpfSk6Yi5wdXNoKGhhKGMsITApKyghMD09PWE/XCJcIjpcIj1cIitoYShhLCEwKSkpfSk7cmV0dXJuIGIubGVuZ3RoP2Iuam9pbihcIiZcIik6XCJcIn1mdW5jdGlvbiBxYihhKXtyZXR1cm4gaGEoYSwhMCkucmVwbGFjZSgvJTI2L2dpLFwiJlwiKS5yZXBsYWNlKC8lM0QvZ2ksXCI9XCIpLnJlcGxhY2UoLyUyQi9naSxcblwiK1wiKX1mdW5jdGlvbiBoYShhLGIpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvJTQwL2dpLFwiQFwiKS5yZXBsYWNlKC8lM0EvZ2ksXCI6XCIpLnJlcGxhY2UoLyUyNC9nLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUzQi9naSxcIjtcIikucmVwbGFjZSgvJTIwL2csYj9cIiUyMFwiOlwiK1wiKX1mdW5jdGlvbiBlZShhLGIpe3ZhciBkLGMsZT1RYS5sZW5ndGg7Zm9yKGM9MDtjPGU7KytjKWlmKGQ9UWFbY10rYixGKGQ9YS5nZXRBdHRyaWJ1dGUoZCkpKXJldHVybiBkO3JldHVybiBudWxsfWZ1bmN0aW9uIGZlKGEsYil7dmFyIGQsYyxlPXt9O24oUWEsZnVuY3Rpb24oYil7Yis9XCJhcHBcIjshZCYmYS5oYXNBdHRyaWJ1dGUmJmEuaGFzQXR0cmlidXRlKGIpJiYoZD1hLGM9YS5nZXRBdHRyaWJ1dGUoYikpfSk7bihRYSxmdW5jdGlvbihiKXtiKz1cImFwcFwiO3ZhciBlOyFkJiYoZT1hLnF1ZXJ5U2VsZWN0b3IoXCJbXCIrYi5yZXBsYWNlKFwiOlwiLFwiXFxcXDpcIikrXCJdXCIpKSYmXG4oZD1lLGM9ZS5nZXRBdHRyaWJ1dGUoYikpfSk7ZCYmKGUuc3RyaWN0RGk9bnVsbCE9PWVlKGQsXCJzdHJpY3QtZGlcIiksYihkLGM/W2NdOltdLGUpKX1mdW5jdGlvbiBBYyhhLGIsZCl7RShkKXx8KGQ9e30pO2Q9VCh7c3RyaWN0RGk6ITF9LGQpO3ZhciBjPWZ1bmN0aW9uKCl7YT1DKGEpO2lmKGEuaW5qZWN0b3IoKSl7dmFyIGM9YVswXT09PVc/XCJkb2N1bWVudFwiOnRhKGEpO3Rocm93IERhKFwiYnRzdHJwZFwiLGMucmVwbGFjZSgvPC8sXCImbHQ7XCIpLnJlcGxhY2UoLz4vLFwiJmd0O1wiKSk7fWI9Ynx8W107Yi51bnNoaWZ0KFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYil7Yi52YWx1ZShcIiRyb290RWxlbWVudFwiLGEpfV0pO2QuZGVidWdJbmZvRW5hYmxlZCYmYi5wdXNoKFtcIiRjb21waWxlUHJvdmlkZXJcIixmdW5jdGlvbihhKXthLmRlYnVnSW5mb0VuYWJsZWQoITApfV0pO2IudW5zaGlmdChcIm5nXCIpO2M9ZmIoYixkLnN0cmljdERpKTtjLmludm9rZShbXCIkcm9vdFNjb3BlXCIsXCIkcm9vdEVsZW1lbnRcIixcblwiJGNvbXBpbGVcIixcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEsYixjLGQpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7Yi5kYXRhKFwiJGluamVjdG9yXCIsZCk7YyhiKShhKX0pfV0pO3JldHVybiBjfSxlPS9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLyxmPS9eTkdfREVGRVJfQk9PVFNUUkFQIS87TyYmZS50ZXN0KE8ubmFtZSkmJihkLmRlYnVnSW5mb0VuYWJsZWQ9ITAsTy5uYW1lPU8ubmFtZS5yZXBsYWNlKGUsXCJcIikpO2lmKE8mJiFmLnRlc3QoTy5uYW1lKSlyZXR1cm4gYygpO08ubmFtZT1PLm5hbWUucmVwbGFjZShmLFwiXCIpO2lhLnJlc3VtZUJvb3RzdHJhcD1mdW5jdGlvbihhKXtuKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKGEpfSk7cmV0dXJuIGMoKX07RChpYS5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCkmJmlhLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKCl9ZnVuY3Rpb24gZ2UoKXtPLm5hbWU9XCJOR19FTkFCTEVfREVCVUdfSU5GTyFcIitPLm5hbWU7Ty5sb2NhdGlvbi5yZWxvYWQoKX1mdW5jdGlvbiBoZShhKXthPVxuaWEuZWxlbWVudChhKS5pbmplY3RvcigpO2lmKCFhKXRocm93IERhKFwidGVzdFwiKTtyZXR1cm4gYS5nZXQoXCIkJHRlc3RhYmlsaXR5XCIpfWZ1bmN0aW9uIEJjKGEsYil7Yj1ifHxcIl9cIjtyZXR1cm4gYS5yZXBsYWNlKGllLGZ1bmN0aW9uKGEsYyl7cmV0dXJuKGM/YjpcIlwiKSthLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBqZSgpe3ZhciBhO2lmKCFDYyl7dmFyIGI9cmIoKTsodWE9eChiKT9PLmpRdWVyeTpiP09bYl06dikmJnVhLmZuLm9uPyhDPXVhLFQodWEuZm4se3Njb3BlOlJhLnNjb3BlLGlzb2xhdGVTY29wZTpSYS5pc29sYXRlU2NvcGUsY29udHJvbGxlcjpSYS5jb250cm9sbGVyLGluamVjdG9yOlJhLmluamVjdG9yLGluaGVyaXRlZERhdGE6UmEuaW5oZXJpdGVkRGF0YX0pLGE9dWEuY2xlYW5EYXRhLHVhLmNsZWFuRGF0YT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZT0wLGY7bnVsbCE9KGY9YltlXSk7ZSsrKShjPXVhLl9kYXRhKGYsXCJldmVudHNcIikpJiZjLiRkZXN0cm95JiZ1YShmKS50cmlnZ2VySGFuZGxlcihcIiRkZXN0cm95XCIpO1xuYShiKX0pOkM9VTtpYS5lbGVtZW50PUM7Q2M9ITB9fWZ1bmN0aW9uIHNiKGEsYixkKXtpZighYSl0aHJvdyBEYShcImFyZXFcIixifHxcIj9cIixkfHxcInJlcXVpcmVkXCIpO3JldHVybiBhfWZ1bmN0aW9uIFNhKGEsYixkKXtkJiZMKGEpJiYoYT1hW2EubGVuZ3RoLTFdKTtzYihEKGEpLGIsXCJub3QgYSBmdW5jdGlvbiwgZ290IFwiKyhhJiZcIm9iamVjdFwiPT09dHlwZW9mIGE/YS5jb25zdHJ1Y3Rvci5uYW1lfHxcIk9iamVjdFwiOnR5cGVvZiBhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gVGEoYSxiKXtpZihcImhhc093blByb3BlcnR5XCI9PT1hKXRocm93IERhKFwiYmFkbmFtZVwiLGIpO31mdW5jdGlvbiBEYyhhLGIsZCl7aWYoIWIpcmV0dXJuIGE7Yj1iLnNwbGl0KFwiLlwiKTtmb3IodmFyIGMsZT1hLGY9Yi5sZW5ndGgsZz0wO2c8ZjtnKyspYz1iW2ddLGEmJihhPShlPWEpW2NdKTtyZXR1cm4hZCYmRChhKT92YyhlLGEpOmF9ZnVuY3Rpb24gdGIoYSl7Zm9yKHZhciBiPWFbMF0sZD1hW2EubGVuZ3RoLTFdLGMsXG5lPTE7YiE9PWQmJihiPWIubmV4dFNpYmxpbmcpO2UrKylpZihjfHxhW2VdIT09YiljfHwoYz1DKHdhLmNhbGwoYSwwLGUpKSksYy5wdXNoKGIpO3JldHVybiBjfHxhfWZ1bmN0aW9uIFooKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBrZShhKXtmdW5jdGlvbiBiKGEsYixjKXtyZXR1cm4gYVtiXXx8KGFbYl09YygpKX12YXIgZD1IKFwiJGluamVjdG9yXCIpLGM9SChcIm5nXCIpO2E9YihhLFwiYW5ndWxhclwiLE9iamVjdCk7YS4kJG1pbkVycj1hLiQkbWluRXJyfHxIO3JldHVybiBiKGEsXCJtb2R1bGVcIixmdW5jdGlvbigpe3ZhciBhPXt9O3JldHVybiBmdW5jdGlvbihmLGcsaCl7aWYoXCJoYXNPd25Qcm9wZXJ0eVwiPT09Zil0aHJvdyBjKFwiYmFkbmFtZVwiLFwibW9kdWxlXCIpO2cmJmEuaGFzT3duUHJvcGVydHkoZikmJihhW2ZdPW51bGwpO3JldHVybiBiKGEsZixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkLGUsZil7Znx8KGY9Yyk7cmV0dXJuIGZ1bmN0aW9uKCl7ZltlfHxcInB1c2hcIl0oW2IsXG5kLGFyZ3VtZW50c10pO3JldHVybiBLfX1mdW5jdGlvbiBiKGEsZCl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7ZSYmRChlKSYmKGUuJCRtb2R1bGVOYW1lPWYpO2MucHVzaChbYSxkLGFyZ3VtZW50c10pO3JldHVybiBLfX1pZighZyl0aHJvdyBkKFwibm9tb2RcIixmKTt2YXIgYz1bXSxlPVtdLHM9W10sST1hKFwiJGluamVjdG9yXCIsXCJpbnZva2VcIixcInB1c2hcIixlKSxLPXtfaW52b2tlUXVldWU6YyxfY29uZmlnQmxvY2tzOmUsX3J1bkJsb2NrczpzLHJlcXVpcmVzOmcsbmFtZTpmLHByb3ZpZGVyOmIoXCIkcHJvdmlkZVwiLFwicHJvdmlkZXJcIiksZmFjdG9yeTpiKFwiJHByb3ZpZGVcIixcImZhY3RvcnlcIiksc2VydmljZTpiKFwiJHByb3ZpZGVcIixcInNlcnZpY2VcIiksdmFsdWU6YShcIiRwcm92aWRlXCIsXCJ2YWx1ZVwiKSxjb25zdGFudDphKFwiJHByb3ZpZGVcIixcImNvbnN0YW50XCIsXCJ1bnNoaWZ0XCIpLGRlY29yYXRvcjpiKFwiJHByb3ZpZGVcIixcImRlY29yYXRvclwiKSxhbmltYXRpb246YihcIiRhbmltYXRlUHJvdmlkZXJcIixcblwicmVnaXN0ZXJcIiksZmlsdGVyOmIoXCIkZmlsdGVyUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGNvbnRyb2xsZXI6YihcIiRjb250cm9sbGVyUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGRpcmVjdGl2ZTpiKFwiJGNvbXBpbGVQcm92aWRlclwiLFwiZGlyZWN0aXZlXCIpLGNvbXBvbmVudDpiKFwiJGNvbXBpbGVQcm92aWRlclwiLFwiY29tcG9uZW50XCIpLGNvbmZpZzpJLHJ1bjpmdW5jdGlvbihhKXtzLnB1c2goYSk7cmV0dXJuIHRoaXN9fTtoJiZJKGgpO3JldHVybiBLfSl9fSl9ZnVuY3Rpb24gbGUoYSl7VChhLHtib290c3RyYXA6QWMsY29weTpPYSxleHRlbmQ6VCxtZXJnZTpaZCxlcXVhbHM6b2EsZWxlbWVudDpDLGZvckVhY2g6bixpbmplY3RvcjpmYixub29wOkIsYmluZDp2Yyx0b0pzb246ZWIsZnJvbUpzb246d2MsaWRlbnRpdHk6YWIsaXNVbmRlZmluZWQ6eCxpc0RlZmluZWQ6eSxpc1N0cmluZzpGLGlzRnVuY3Rpb246RCxpc09iamVjdDpFLGlzTnVtYmVyOk4saXNFbGVtZW50OlJiLGlzQXJyYXk6TCxcbnZlcnNpb246bWUsaXNEYXRlOlYsbG93ZXJjYXNlOkcsdXBwZXJjYXNlOnViLGNhbGxiYWNrczp7Y291bnRlcjowfSxnZXRUZXN0YWJpbGl0eTpoZSwkJG1pbkVycjpILCQkY3NwOkVhLHJlbG9hZFdpdGhEZWJ1Z0luZm86Z2V9KTtWYj1rZShPKTtWYihcIm5nXCIsW1wibmdMb2NhbGVcIl0sW1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXthLnByb3ZpZGVyKHskJHNhbml0aXplVXJpOm5lfSk7YS5wcm92aWRlcihcIiRjb21waWxlXCIsRWMpLmRpcmVjdGl2ZSh7YTpvZSxpbnB1dDpGYyx0ZXh0YXJlYTpGYyxmb3JtOnBlLHNjcmlwdDpxZSxzZWxlY3Q6cmUsc3R5bGU6c2Usb3B0aW9uOnRlLG5nQmluZDp1ZSxuZ0JpbmRIdG1sOnZlLG5nQmluZFRlbXBsYXRlOndlLG5nQ2xhc3M6eGUsbmdDbGFzc0V2ZW46eWUsbmdDbGFzc09kZDp6ZSxuZ0Nsb2FrOkFlLG5nQ29udHJvbGxlcjpCZSxuZ0Zvcm06Q2UsbmdIaWRlOkRlLG5nSWY6RWUsbmdJbmNsdWRlOkZlLG5nSW5pdDpHZSxuZ05vbkJpbmRhYmxlOkhlLFxubmdQbHVyYWxpemU6SWUsbmdSZXBlYXQ6SmUsbmdTaG93OktlLG5nU3R5bGU6TGUsbmdTd2l0Y2g6TWUsbmdTd2l0Y2hXaGVuOk5lLG5nU3dpdGNoRGVmYXVsdDpPZSxuZ09wdGlvbnM6UGUsbmdUcmFuc2NsdWRlOlFlLG5nTW9kZWw6UmUsbmdMaXN0OlNlLG5nQ2hhbmdlOlRlLHBhdHRlcm46R2MsbmdQYXR0ZXJuOkdjLHJlcXVpcmVkOkhjLG5nUmVxdWlyZWQ6SGMsbWlubGVuZ3RoOkljLG5nTWlubGVuZ3RoOkljLG1heGxlbmd0aDpKYyxuZ01heGxlbmd0aDpKYyxuZ1ZhbHVlOlVlLG5nTW9kZWxPcHRpb25zOlZlfSkuZGlyZWN0aXZlKHtuZ0luY2x1ZGU6V2V9KS5kaXJlY3RpdmUodmIpLmRpcmVjdGl2ZShLYyk7YS5wcm92aWRlcih7JGFuY2hvclNjcm9sbDpYZSwkYW5pbWF0ZTpZZSwkYW5pbWF0ZUNzczpaZSwkJGFuaW1hdGVKczokZSwkJGFuaW1hdGVRdWV1ZTphZiwkJEFuaW1hdGVSdW5uZXI6YmYsJCRhbmltYXRlQXN5bmNSdW46Y2YsJGJyb3dzZXI6ZGYsJGNhY2hlRmFjdG9yeTplZixcbiRjb250cm9sbGVyOmZmLCRkb2N1bWVudDpnZiwkZXhjZXB0aW9uSGFuZGxlcjpoZiwkZmlsdGVyOkxjLCQkZm9yY2VSZWZsb3c6amYsJGludGVycG9sYXRlOmtmLCRpbnRlcnZhbDpsZiwkaHR0cDptZiwkaHR0cFBhcmFtU2VyaWFsaXplcjpuZiwkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZTpvZiwkaHR0cEJhY2tlbmQ6cGYsJHhockZhY3Rvcnk6cWYsJGxvY2F0aW9uOnJmLCRsb2c6c2YsJHBhcnNlOnRmLCRyb290U2NvcGU6dWYsJHE6dmYsJCRxOndmLCRzY2U6eGYsJHNjZURlbGVnYXRlOnlmLCRzbmlmZmVyOnpmLCR0ZW1wbGF0ZUNhY2hlOkFmLCR0ZW1wbGF0ZVJlcXVlc3Q6QmYsJCR0ZXN0YWJpbGl0eTpDZiwkdGltZW91dDpEZiwkd2luZG93OkVmLCQkckFGOkZmLCQkanFMaXRlOkdmLCQkSGFzaE1hcDpIZiwkJGNvb2tpZVJlYWRlcjpJZn0pfV0pfWZ1bmN0aW9uIGdiKGEpe3JldHVybiBhLnJlcGxhY2UoSmYsZnVuY3Rpb24oYSxkLGMsZSl7cmV0dXJuIGU/Yy50b1VwcGVyQ2FzZSgpOlxuY30pLnJlcGxhY2UoS2YsXCJNb3okMVwiKX1mdW5jdGlvbiBNYyhhKXthPWEubm9kZVR5cGU7cmV0dXJuIDE9PT1hfHwhYXx8OT09PWF9ZnVuY3Rpb24gTmMoYSxiKXt2YXIgZCxjLGU9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZj1bXTtpZihXYi50ZXN0KGEpKXtkPWR8fGUuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtjPShMZi5leGVjKGEpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKTtjPWRhW2NdfHxkYS5fZGVmYXVsdDtkLmlubmVySFRNTD1jWzFdK2EucmVwbGFjZShNZixcIjwkMT48LyQyPlwiKStjWzJdO2ZvcihjPWNbMF07Yy0tOylkPWQubGFzdENoaWxkO2Y9ZGIoZixkLmNoaWxkTm9kZXMpO2Q9ZS5maXJzdENoaWxkO2QudGV4dENvbnRlbnQ9XCJcIn1lbHNlIGYucHVzaChiLmNyZWF0ZVRleHROb2RlKGEpKTtlLnRleHRDb250ZW50PVwiXCI7ZS5pbm5lckhUTUw9XCJcIjtuKGYsZnVuY3Rpb24oYSl7ZS5hcHBlbmRDaGlsZChhKX0pO3JldHVybiBlfWZ1bmN0aW9uIE9jKGEsXG5iKXt2YXIgZD1hLnBhcmVudE5vZGU7ZCYmZC5yZXBsYWNlQ2hpbGQoYixhKTtiLmFwcGVuZENoaWxkKGEpfWZ1bmN0aW9uIFUoYSl7aWYoYSBpbnN0YW5jZW9mIFUpcmV0dXJuIGE7dmFyIGI7RihhKSYmKGE9WChhKSxiPSEwKTtpZighKHRoaXMgaW5zdGFuY2VvZiBVKSl7aWYoYiYmXCI8XCIhPWEuY2hhckF0KDApKXRocm93IFhiKFwibm9zZWxcIik7cmV0dXJuIG5ldyBVKGEpfWlmKGIpe2I9Vzt2YXIgZDthPShkPU5mLmV4ZWMoYSkpP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPU5jKGEsYikpP2QuY2hpbGROb2RlczpbXX1QYyh0aGlzLGEpfWZ1bmN0aW9uIFliKGEpe3JldHVybiBhLmNsb25lTm9kZSghMCl9ZnVuY3Rpb24gd2IoYSxiKXtifHxoYihhKTtpZihhLnF1ZXJ5U2VsZWN0b3JBbGwpZm9yKHZhciBkPWEucXVlcnlTZWxlY3RvckFsbChcIipcIiksYz0wLGU9ZC5sZW5ndGg7YzxlO2MrKyloYihkW2NdKX1mdW5jdGlvbiBRYyhhLGIsZCxjKXtpZih5KGMpKXRocm93IFhiKFwib2ZmYXJnc1wiKTtcbnZhciBlPShjPXhiKGEpKSYmYy5ldmVudHMsZj1jJiZjLmhhbmRsZTtpZihmKWlmKGIpe3ZhciBnPWZ1bmN0aW9uKGIpe3ZhciBjPWVbYl07eShkKSYmY2IoY3x8W10sZCk7eShkKSYmYyYmMDxjLmxlbmd0aHx8KGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRlbGV0ZSBlW2JdKX07bihiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtnKGEpO3liW2FdJiZnKHliW2FdKX0pfWVsc2UgZm9yKGIgaW4gZSlcIiRkZXN0cm95XCIhPT1iJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixmLCExKSxkZWxldGUgZVtiXX1mdW5jdGlvbiBoYihhLGIpe3ZhciBkPWEubmczMzksYz1kJiZpYltkXTtjJiYoYj9kZWxldGUgYy5kYXRhW2JdOihjLmhhbmRsZSYmKGMuZXZlbnRzLiRkZXN0cm95JiZjLmhhbmRsZSh7fSxcIiRkZXN0cm95XCIpLFFjKGEpKSxkZWxldGUgaWJbZF0sYS5uZzMzOT12KSl9ZnVuY3Rpb24geGIoYSxiKXt2YXIgZD1hLm5nMzM5LGQ9ZCYmaWJbZF07YiYmIWQmJihhLm5nMzM5PWQ9KytPZixcbmQ9aWJbZF09e2V2ZW50czp7fSxkYXRhOnt9LGhhbmRsZTp2fSk7cmV0dXJuIGR9ZnVuY3Rpb24gWmIoYSxiLGQpe2lmKE1jKGEpKXt2YXIgYz15KGQpLGU9IWMmJmImJiFFKGIpLGY9IWI7YT0oYT14YihhLCFlKSkmJmEuZGF0YTtpZihjKWFbYl09ZDtlbHNle2lmKGYpcmV0dXJuIGE7aWYoZSlyZXR1cm4gYSYmYVtiXTtUKGEsYil9fX1mdW5jdGlvbiB6YihhLGIpe3JldHVybiBhLmdldEF0dHJpYnV0ZT8tMTwoXCIgXCIrKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKS5pbmRleE9mKFwiIFwiK2IrXCIgXCIpOiExfWZ1bmN0aW9uIEFiKGEsYil7YiYmYS5zZXRBdHRyaWJ1dGUmJm4oYi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYil7YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFgoKFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIikucmVwbGFjZShcIiBcIitYKGIpK1wiIFwiLFwiIFwiKSkpfSl9ZnVuY3Rpb24gQmIoYSxcbmIpe2lmKGImJmEuc2V0QXR0cmlidXRlKXt2YXIgZD0oXCIgXCIrKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKTtuKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2E9WChhKTstMT09PWQuaW5kZXhPZihcIiBcIithK1wiIFwiKSYmKGQrPWErXCIgXCIpfSk7YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFgoZCkpfX1mdW5jdGlvbiBQYyhhLGIpe2lmKGIpaWYoYi5ub2RlVHlwZSlhW2EubGVuZ3RoKytdPWI7ZWxzZXt2YXIgZD1iLmxlbmd0aDtpZihcIm51bWJlclwiPT09dHlwZW9mIGQmJmIud2luZG93IT09Yil7aWYoZClmb3IodmFyIGM9MDtjPGQ7YysrKWFbYS5sZW5ndGgrK109YltjXX1lbHNlIGFbYS5sZW5ndGgrK109Yn19ZnVuY3Rpb24gUmMoYSxiKXtyZXR1cm4gQ2IoYSxcIiRcIisoYnx8XCJuZ0NvbnRyb2xsZXJcIikrXCJDb250cm9sbGVyXCIpfWZ1bmN0aW9uIENiKGEsYixkKXs5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7Zm9yKGI9XG5MKGIpP2I6W2JdO2E7KXtmb3IodmFyIGM9MCxlPWIubGVuZ3RoO2M8ZTtjKyspaWYoeShkPUMuZGF0YShhLGJbY10pKSlyZXR1cm4gZDthPWEucGFyZW50Tm9kZXx8MTE9PT1hLm5vZGVUeXBlJiZhLmhvc3R9fWZ1bmN0aW9uIFNjKGEpe2Zvcih3YihhLCEwKTthLmZpcnN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKX1mdW5jdGlvbiAkYihhLGIpe2J8fHdiKGEpO3ZhciBkPWEucGFyZW50Tm9kZTtkJiZkLnJlbW92ZUNoaWxkKGEpfWZ1bmN0aW9uIFBmKGEsYil7Yj1ifHxPO2lmKFwiY29tcGxldGVcIj09PWIuZG9jdW1lbnQucmVhZHlTdGF0ZSliLnNldFRpbWVvdXQoYSk7ZWxzZSBDKGIpLm9uKFwibG9hZFwiLGEpfWZ1bmN0aW9uIFRjKGEsYil7dmFyIGQ9RGJbYi50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gZCYmVWNbcmEoYSldJiZkfWZ1bmN0aW9uIFFmKGEsYil7dmFyIGQ9ZnVuY3Rpb24oYyxkKXtjLmlzRGVmYXVsdFByZXZlbnRlZD1mdW5jdGlvbigpe3JldHVybiBjLmRlZmF1bHRQcmV2ZW50ZWR9O1xudmFyIGY9YltkfHxjLnR5cGVdLGc9Zj9mLmxlbmd0aDowO2lmKGcpe2lmKHgoYy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpKXt2YXIgaD1jLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtjLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe2MuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPSEwO2Muc3RvcFByb3BhZ2F0aW9uJiZjLnN0b3BQcm9wYWdhdGlvbigpO2gmJmguY2FsbChjKX19Yy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1mdW5jdGlvbigpe3JldHVybiEwPT09Yy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWR9O3ZhciBrPWYuc3BlY2lhbEhhbmRsZXJXcmFwcGVyfHxSZjsxPGcmJihmPW5hKGYpKTtmb3IodmFyIGw9MDtsPGc7bCsrKWMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKXx8ayhhLGMsZltsXSl9fTtkLmVsZW09YTtyZXR1cm4gZH1mdW5jdGlvbiBSZihhLGIsZCl7ZC5jYWxsKGEsYil9ZnVuY3Rpb24gU2YoYSxiLFxuZCl7dmFyIGM9Yi5yZWxhdGVkVGFyZ2V0O2MmJihjPT09YXx8VGYuY2FsbChhLGMpKXx8ZC5jYWxsKGEsYil9ZnVuY3Rpb24gR2YoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gVChVLHtoYXNDbGFzczpmdW5jdGlvbihhLGIpe2EuYXR0ciYmKGE9YVswXSk7cmV0dXJuIHpiKGEsYil9LGFkZENsYXNzOmZ1bmN0aW9uKGEsYil7YS5hdHRyJiYoYT1hWzBdKTtyZXR1cm4gQmIoYSxiKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSxiKXthLmF0dHImJihhPWFbMF0pO3JldHVybiBBYihhLGIpfX0pfX1mdW5jdGlvbiBGYShhLGIpe3ZhciBkPWEmJmEuJCRoYXNoS2V5O2lmKGQpcmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGQmJihkPWEuJCRoYXNoS2V5KCkpLGQ7ZD10eXBlb2YgYTtyZXR1cm4gZD1cImZ1bmN0aW9uXCI9PWR8fFwib2JqZWN0XCI9PWQmJm51bGwhPT1hP2EuJCRoYXNoS2V5PWQrXCI6XCIrKGJ8fFlkKSgpOmQrXCI6XCIrYX1mdW5jdGlvbiBVYShhLGIpe2lmKGIpe3ZhciBkPTA7dGhpcy5uZXh0VWlkPVxuZnVuY3Rpb24oKXtyZXR1cm4rK2R9fW4oYSx0aGlzLnB1dCx0aGlzKX1mdW5jdGlvbiBWYyhhKXthPWEudG9TdHJpbmcoKS5yZXBsYWNlKFVmLFwiXCIpO3JldHVybiBhLm1hdGNoKFZmKXx8YS5tYXRjaChXZil9ZnVuY3Rpb24gWGYoYSl7cmV0dXJuKGE9VmMoYSkpP1wiZnVuY3Rpb24oXCIrKGFbMV18fFwiXCIpLnJlcGxhY2UoL1tcXHNcXHJcXG5dKy8sXCIgXCIpK1wiKVwiOlwiZm5cIn1mdW5jdGlvbiBmYihhLGIpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7aWYoRShiKSluKGIsc2MoYSkpO2Vsc2UgcmV0dXJuIGEoYixjKX19ZnVuY3Rpb24gYyhhLGIpe1RhKGEsXCJzZXJ2aWNlXCIpO2lmKEQoYil8fEwoYikpYj1zLmluc3RhbnRpYXRlKGIpO2lmKCFiLiRnZXQpdGhyb3cgR2EoXCJwZ2V0XCIsYSk7cmV0dXJuIHJbYStcIlByb3ZpZGVyXCJdPWJ9ZnVuY3Rpb24gZShhLGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPXQuaW52b2tlKGIsdGhpcyk7aWYoeChjKSl0aHJvdyBHYShcInVuZGVmXCIsYSk7XG5yZXR1cm4gY319ZnVuY3Rpb24gZihhLGIsZCl7cmV0dXJuIGMoYSx7JGdldDohMSE9PWQ/ZShhLGIpOmJ9KX1mdW5jdGlvbiBnKGEpe3NiKHgoYSl8fEwoYSksXCJtb2R1bGVzVG9Mb2FkXCIsXCJub3QgYW4gYXJyYXlcIik7dmFyIGI9W10sYztuKGEsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChhKXt2YXIgYixjO2I9MDtmb3IoYz1hLmxlbmd0aDtiPGM7YisrKXt2YXIgZT1hW2JdLGY9cy5nZXQoZVswXSk7ZltlWzFdXS5hcHBseShmLGVbMl0pfX1pZighbS5nZXQoYSkpe20ucHV0KGEsITApO3RyeXtGKGEpPyhjPVZiKGEpLGI9Yi5jb25jYXQoZyhjLnJlcXVpcmVzKSkuY29uY2F0KGMuX3J1bkJsb2NrcyksZChjLl9pbnZva2VRdWV1ZSksZChjLl9jb25maWdCbG9ja3MpKTpEKGEpP2IucHVzaChzLmludm9rZShhKSk6TChhKT9iLnB1c2gocy5pbnZva2UoYSkpOlNhKGEsXCJtb2R1bGVcIil9Y2F0Y2goZSl7dGhyb3cgTChhKSYmKGE9YVthLmxlbmd0aC0xXSksZS5tZXNzYWdlJiZlLnN0YWNrJiZcbi0xPT1lLnN0YWNrLmluZGV4T2YoZS5tZXNzYWdlKSYmKGU9ZS5tZXNzYWdlK1wiXFxuXCIrZS5zdGFjayksR2EoXCJtb2R1bGVyclwiLGEsZS5zdGFja3x8ZS5tZXNzYWdlfHxlKTt9fX0pO3JldHVybiBifWZ1bmN0aW9uIGgoYSxjKXtmdW5jdGlvbiBkKGIsZSl7aWYoYS5oYXNPd25Qcm9wZXJ0eShiKSl7aWYoYVtiXT09PWspdGhyb3cgR2EoXCJjZGVwXCIsYitcIiA8LSBcIitsLmpvaW4oXCIgPC0gXCIpKTtyZXR1cm4gYVtiXX10cnl7cmV0dXJuIGwudW5zaGlmdChiKSxhW2JdPWssYVtiXT1jKGIsZSl9Y2F0Y2goZil7dGhyb3cgYVtiXT09PWsmJmRlbGV0ZSBhW2JdLGY7fWZpbmFsbHl7bC5zaGlmdCgpfX1mdW5jdGlvbiBlKGEsYyxmKXt2YXIgZz1bXTthPWZiLiQkYW5ub3RhdGUoYSxiLGYpO2Zvcih2YXIgaD0wLGs9YS5sZW5ndGg7aDxrO2grKyl7dmFyIGw9YVtoXTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGwpdGhyb3cgR2EoXCJpdGtuXCIsbCk7Zy5wdXNoKGMmJmMuaGFzT3duUHJvcGVydHkobCk/Y1tsXTpcbmQobCxmKSl9cmV0dXJuIGd9cmV0dXJue2ludm9rZTpmdW5jdGlvbihhLGIsYyxkKXtcInN0cmluZ1wiPT09dHlwZW9mIGMmJihkPWMsYz1udWxsKTtjPWUoYSxjLGQpO0woYSkmJihhPWFbYS5sZW5ndGgtMV0pO2Q9MTE+PXhhPyExOlwiZnVuY3Rpb25cIj09PXR5cGVvZiBhJiYvXig/OmNsYXNzXFxzfGNvbnN0cnVjdG9yXFwoKS8udGVzdChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSk7cmV0dXJuIGQ/KGMudW5zaGlmdChudWxsKSxuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGEsYykpKTphLmFwcGx5KGIsYyl9LGluc3RhbnRpYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1MKGEpP2FbYS5sZW5ndGgtMV06YTthPWUoYSxiLGMpO2EudW5zaGlmdChudWxsKTtyZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShkLGEpKX0sZ2V0OmQsYW5ub3RhdGU6ZmIuJCRhbm5vdGF0ZSxoYXM6ZnVuY3Rpb24oYil7cmV0dXJuIHIuaGFzT3duUHJvcGVydHkoYitcblwiUHJvdmlkZXJcIil8fGEuaGFzT3duUHJvcGVydHkoYil9fX1iPSEwPT09Yjt2YXIgaz17fSxsPVtdLG09bmV3IFVhKFtdLCEwKSxyPXskcHJvdmlkZTp7cHJvdmlkZXI6ZChjKSxmYWN0b3J5OmQoZiksc2VydmljZTpkKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYSxbXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5pbnN0YW50aWF0ZShiKX1dKX0pLHZhbHVlOmQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gZihhLGJhKGIpLCExKX0pLGNvbnN0YW50OmQoZnVuY3Rpb24oYSxiKXtUYShhLFwiY29uc3RhbnRcIik7clthXT1iO0lbYV09Yn0pLGRlY29yYXRvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXMuZ2V0KGErXCJQcm92aWRlclwiKSxkPWMuJGdldDtjLiRnZXQ9ZnVuY3Rpb24oKXt2YXIgYT10Lmludm9rZShkLGMpO3JldHVybiB0Lmludm9rZShiLG51bGwseyRkZWxlZ2F0ZTphfSl9fX19LHM9ci4kaW5qZWN0b3I9aChyLGZ1bmN0aW9uKGEsYil7aWEuaXNTdHJpbmcoYikmJmwucHVzaChiKTtcbnRocm93IEdhKFwidW5wclwiLGwuam9pbihcIiA8LSBcIikpO30pLEk9e30sSz1oKEksZnVuY3Rpb24oYSxiKXt2YXIgYz1zLmdldChhK1wiUHJvdmlkZXJcIixiKTtyZXR1cm4gdC5pbnZva2UoYy4kZ2V0LGMsdixhKX0pLHQ9SztyLiRpbmplY3RvclByb3ZpZGVyPXskZ2V0OmJhKEspfTt2YXIgcD1nKGEpLHQ9Sy5nZXQoXCIkaW5qZWN0b3JcIik7dC5zdHJpY3REaT1iO24ocCxmdW5jdGlvbihhKXthJiZ0Lmludm9rZShhKX0pO3JldHVybiB0fWZ1bmN0aW9uIFhlKCl7dmFyIGE9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1mdW5jdGlvbigpe2E9ITF9O3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkbG9jYXRpb25cIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihiLGQsYyl7ZnVuY3Rpb24gZShhKXt2YXIgYj1udWxsO0FycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoYSxmdW5jdGlvbihhKXtpZihcImFcIj09PXJhKGEpKXJldHVybiBiPWEsITB9KTtyZXR1cm4gYn1mdW5jdGlvbiBmKGEpe2lmKGEpe2Euc2Nyb2xsSW50b1ZpZXcoKTtcbnZhciBjO2M9Zy55T2Zmc2V0O0QoYyk/Yz1jKCk6UmIoYyk/KGM9Y1swXSxjPVwiZml4ZWRcIiE9PWIuZ2V0Q29tcHV0ZWRTdHlsZShjKS5wb3NpdGlvbj8wOmMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKTpOKGMpfHwoYz0wKTtjJiYoYT1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxiLnNjcm9sbEJ5KDAsYS1jKSl9ZWxzZSBiLnNjcm9sbFRvKDAsMCl9ZnVuY3Rpb24gZyhhKXthPUYoYSk/YTpkLmhhc2goKTt2YXIgYjthPyhiPWguZ2V0RWxlbWVudEJ5SWQoYSkpP2YoYik6KGI9ZShoLmdldEVsZW1lbnRzQnlOYW1lKGEpKSk/ZihiKTpcInRvcFwiPT09YSYmZihudWxsKTpmKG51bGwpfXZhciBoPWIuZG9jdW1lbnQ7YSYmYy4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gZC5oYXNoKCl9LGZ1bmN0aW9uKGEsYil7YT09PWImJlwiXCI9PT1hfHxQZihmdW5jdGlvbigpe2MuJGV2YWxBc3luYyhnKX0pfSk7cmV0dXJuIGd9XX1mdW5jdGlvbiBqYihhLGIpe2lmKCFhJiYhYilyZXR1cm5cIlwiO1xuaWYoIWEpcmV0dXJuIGI7aWYoIWIpcmV0dXJuIGE7TChhKSYmKGE9YS5qb2luKFwiIFwiKSk7TChiKSYmKGI9Yi5qb2luKFwiIFwiKSk7cmV0dXJuIGErXCIgXCIrYn1mdW5jdGlvbiBZZihhKXtGKGEpJiYoYT1hLnNwbGl0KFwiIFwiKSk7dmFyIGI9WigpO24oYSxmdW5jdGlvbihhKXthLmxlbmd0aCYmKGJbYV09ITApfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gSGEoYSl7cmV0dXJuIEUoYSk/YTp7fX1mdW5jdGlvbiBaZihhLGIsZCxjKXtmdW5jdGlvbiBlKGEpe3RyeXthLmFwcGx5KG51bGwsd2EuY2FsbChhcmd1bWVudHMsMSkpfWZpbmFsbHl7aWYoSy0tLDA9PT1LKWZvcig7dC5sZW5ndGg7KXRyeXt0LnBvcCgpKCl9Y2F0Y2goYil7ZC5lcnJvcihiKX19fWZ1bmN0aW9uIGYoKXt6PW51bGw7ZygpO2goKX1mdW5jdGlvbiBnKCl7YTp7dHJ5e3A9bS5zdGF0ZTticmVhayBhfWNhdGNoKGEpe31wPXZvaWQgMH1wPXgocCk/bnVsbDpwO29hKHAsJCkmJihwPSQpOyQ9cH1mdW5jdGlvbiBoKCl7aWYodSE9PWsudXJsKCl8fFxudyE9PXApdT1rLnVybCgpLHc9cCxuKEEsZnVuY3Rpb24oYSl7YShrLnVybCgpLHApfSl9dmFyIGs9dGhpcyxsPWEubG9jYXRpb24sbT1hLmhpc3Rvcnkscj1hLnNldFRpbWVvdXQscz1hLmNsZWFyVGltZW91dCxJPXt9O2suaXNNb2NrPSExO3ZhciBLPTAsdD1bXTtrLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Q9ZTtrLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQ9ZnVuY3Rpb24oKXtLKyt9O2subm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cz1mdW5jdGlvbihhKXswPT09Sz9hKCk6dC5wdXNoKGEpfTt2YXIgcCx3LHU9bC5ocmVmLGxhPWIuZmluZChcImJhc2VcIiksej1udWxsO2coKTt3PXA7ay51cmw9ZnVuY3Rpb24oYixkLGUpe3goZSkmJihlPW51bGwpO2whPT1hLmxvY2F0aW9uJiYobD1hLmxvY2F0aW9uKTttIT09YS5oaXN0b3J5JiYobT1hLmhpc3RvcnkpO2lmKGIpe3ZhciBmPXc9PT1lO2lmKHU9PT1iJiYoIWMuaGlzdG9yeXx8ZikpcmV0dXJuIGs7dmFyIGg9XG51JiZJYSh1KT09PUlhKGIpO3U9Yjt3PWU7aWYoIWMuaGlzdG9yeXx8aCYmZil7aWYoIWh8fHopej1iO2Q/bC5yZXBsYWNlKGIpOmg/KGQ9bCxlPWIuaW5kZXhPZihcIiNcIiksZT0tMT09PWU/XCJcIjpiLnN1YnN0cihlKSxkLmhhc2g9ZSk6bC5ocmVmPWI7bC5ocmVmIT09YiYmKHo9Yil9ZWxzZSBtW2Q/XCJyZXBsYWNlU3RhdGVcIjpcInB1c2hTdGF0ZVwiXShlLFwiXCIsYiksZygpLHc9cDtyZXR1cm4ga31yZXR1cm4genx8bC5ocmVmLnJlcGxhY2UoLyUyNy9nLFwiJ1wiKX07ay5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBwfTt2YXIgQT1bXSxRPSExLCQ9bnVsbDtrLm9uVXJsQ2hhbmdlPWZ1bmN0aW9uKGIpe2lmKCFRKXtpZihjLmhpc3RvcnkpQyhhKS5vbihcInBvcHN0YXRlXCIsZik7QyhhKS5vbihcImhhc2hjaGFuZ2VcIixmKTtRPSEwfUEucHVzaChiKTtyZXR1cm4gYn07ay4kJGFwcGxpY2F0aW9uRGVzdHJveWVkPWZ1bmN0aW9uKCl7QyhhKS5vZmYoXCJoYXNoY2hhbmdlIHBvcHN0YXRlXCIsZil9O2suJCRjaGVja1VybENoYW5nZT1cbmg7ay5iYXNlSHJlZj1mdW5jdGlvbigpe3ZhciBhPWxhLmF0dHIoXCJocmVmXCIpO3JldHVybiBhP2EucmVwbGFjZSgvXihodHRwcz9cXDopP1xcL1xcL1teXFwvXSovLFwiXCIpOlwiXCJ9O2suZGVmZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYztLKys7Yz1yKGZ1bmN0aW9uKCl7ZGVsZXRlIElbY107ZShhKX0sYnx8MCk7SVtjXT0hMDtyZXR1cm4gY307ay5kZWZlci5jYW5jZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIElbYV0/KGRlbGV0ZSBJW2FdLHMoYSksZShCKSwhMCk6ITF9fWZ1bmN0aW9uIGRmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRsb2dcIixcIiRzbmlmZmVyXCIsXCIkZG9jdW1lbnRcIixmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gbmV3IFpmKGEsYyxiLGQpfV19ZnVuY3Rpb24gZWYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyl7ZnVuY3Rpb24gZShhKXthIT1yJiYocz9zPT1hJiYocz1hLm4pOnM9YSxmKGEubixhLnApLGYoYSxyKSxyPWEsci5uPW51bGwpfWZ1bmN0aW9uIGYoYSxcbmIpe2EhPWImJihhJiYoYS5wPWIpLGImJihiLm49YSkpfWlmKGEgaW4gYil0aHJvdyBIKFwiJGNhY2hlRmFjdG9yeVwiKShcImlpZFwiLGEpO3ZhciBnPTAsaD1UKHt9LGMse2lkOmF9KSxrPVooKSxsPWMmJmMuY2FwYWNpdHl8fE51bWJlci5NQVhfVkFMVUUsbT1aKCkscj1udWxsLHM9bnVsbDtyZXR1cm4gYlthXT17cHV0OmZ1bmN0aW9uKGEsYil7aWYoIXgoYikpe2lmKGw8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGM9bVthXXx8KG1bYV09e2tleTphfSk7ZShjKX1hIGluIGt8fGcrKztrW2FdPWI7Zz5sJiZ0aGlzLnJlbW92ZShzLmtleSk7cmV0dXJuIGJ9fSxnZXQ6ZnVuY3Rpb24oYSl7aWYobDxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgYj1tW2FdO2lmKCFiKXJldHVybjtlKGIpfXJldHVybiBrW2FdfSxyZW1vdmU6ZnVuY3Rpb24oYSl7aWYobDxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgYj1tW2FdO2lmKCFiKXJldHVybjtiPT1yJiYocj1iLnApO2I9PXMmJihzPWIubik7ZihiLm4sYi5wKTtkZWxldGUgbVthXX1hIGluXG5rJiYoZGVsZXRlIGtbYV0sZy0tKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7az1aKCk7Zz0wO209WigpO3I9cz1udWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7bT1oPWs9bnVsbDtkZWxldGUgYlthXX0saW5mbzpmdW5jdGlvbigpe3JldHVybiBUKHt9LGgse3NpemU6Z30pfX19dmFyIGI9e307YS5pbmZvPWZ1bmN0aW9uKCl7dmFyIGE9e307bihiLGZ1bmN0aW9uKGIsZSl7YVtlXT1iLmluZm8oKX0pO3JldHVybiBhfTthLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gYlthXX07cmV0dXJuIGF9fWZ1bmN0aW9uIEFmKCl7dGhpcy4kZ2V0PVtcIiRjYWNoZUZhY3RvcnlcIixmdW5jdGlvbihhKXtyZXR1cm4gYShcInRlbXBsYXRlc1wiKX1dfWZ1bmN0aW9uIEVjKGEsYil7ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQ9L15cXHMqKFtAJjxdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLyxlPXt9O24oYSxmdW5jdGlvbihhLGYpe3ZhciBnPWEubWF0Y2goZCk7aWYoIWcpdGhyb3cgamEoXCJpc2NwXCIsYixmLGEsYz9cblwiY29udHJvbGxlciBiaW5kaW5ncyBkZWZpbml0aW9uXCI6XCJpc29sYXRlIHNjb3BlIGRlZmluaXRpb25cIik7ZVtmXT17bW9kZTpnWzFdWzBdLGNvbGxlY3Rpb246XCIqXCI9PT1nWzJdLG9wdGlvbmFsOlwiP1wiPT09Z1szXSxhdHRyTmFtZTpnWzRdfHxmfX0pO3JldHVybiBlfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5jaGFyQXQoMCk7aWYoIWJ8fGIhPT1HKGIpKXRocm93IGphKFwiYmFkZGlyXCIsYSk7aWYoYSE9PWEudHJpbSgpKXRocm93IGphKFwiYmFkZGlyXCIsYSk7fXZhciBlPXt9LGY9L15cXHMqZGlyZWN0aXZlXFw6XFxzKihbXFx3XFwtXSspXFxzKyguKikkLyxnPS8oKFtcXHdcXC1dKykoPzpcXDooW147XSspKT87PykvLGg9YmUoXCJuZ1NyYyxuZ1NyY3NldCxzcmMsc3Jjc2V0XCIpLGs9L14oPzooXFxeXFxePyk/KFxcPyk/KFxcXlxcXj8pPyk/LyxsPS9eKG9uW2Etel0rfGZvcm1hY3Rpb24pJC87dGhpcy5kaXJlY3RpdmU9ZnVuY3Rpb24gcyhiLGYpe1RhKGIsXCJkaXJlY3RpdmVcIik7RihiKT8oYyhiKSxzYihmLFwiZGlyZWN0aXZlRmFjdG9yeVwiKSxcbmUuaGFzT3duUHJvcGVydHkoYil8fChlW2JdPVtdLGEuZmFjdG9yeShiK1wiRGlyZWN0aXZlXCIsW1wiJGluamVjdG9yXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGEsYyl7dmFyIGY9W107bihlW2JdLGZ1bmN0aW9uKGUsZyl7dHJ5e3ZhciBoPWEuaW52b2tlKGUpO0QoaCk/aD17Y29tcGlsZTpiYShoKX06IWguY29tcGlsZSYmaC5saW5rJiYoaC5jb21waWxlPWJhKGgubGluaykpO2gucHJpb3JpdHk9aC5wcmlvcml0eXx8MDtoLmluZGV4PWc7aC5uYW1lPWgubmFtZXx8YjtoLnJlcXVpcmU9aC5yZXF1aXJlfHxoLmNvbnRyb2xsZXImJmgubmFtZTtoLnJlc3RyaWN0PWgucmVzdHJpY3R8fFwiRUFcIjt2YXIgaz1oLGw9aCxtPWgubmFtZSxzPXtpc29sYXRlU2NvcGU6bnVsbCxiaW5kVG9Db250cm9sbGVyOm51bGx9O0UobC5zY29wZSkmJighMD09PWwuYmluZFRvQ29udHJvbGxlcj8ocy5iaW5kVG9Db250cm9sbGVyPWQobC5zY29wZSxtLCEwKSxzLmlzb2xhdGVTY29wZT17fSk6cy5pc29sYXRlU2NvcGU9XG5kKGwuc2NvcGUsbSwhMSkpO0UobC5iaW5kVG9Db250cm9sbGVyKSYmKHMuYmluZFRvQ29udHJvbGxlcj1kKGwuYmluZFRvQ29udHJvbGxlcixtLCEwKSk7aWYoRShzLmJpbmRUb0NvbnRyb2xsZXIpKXt2YXIgUD1sLmNvbnRyb2xsZXIsUz1sLmNvbnRyb2xsZXJBcztpZighUCl0aHJvdyBqYShcIm5vY3RybFwiLG0pO2lmKCFXYyhQLFMpKXRocm93IGphKFwibm9pZGVudFwiLG0pO312YXIgbWE9ay4kJGJpbmRpbmdzPXM7RShtYS5pc29sYXRlU2NvcGUpJiYoaC4kJGlzb2xhdGVCaW5kaW5ncz1tYS5pc29sYXRlU2NvcGUpO2guJCRtb2R1bGVOYW1lPWUuJCRtb2R1bGVOYW1lO2YucHVzaChoKX1jYXRjaChLKXtjKEspfX0pO3JldHVybiBmfV0pKSxlW2JdLnB1c2goZikpOm4oYixzYyhzKSk7cmV0dXJuIHRoaXN9O3RoaXMuY29tcG9uZW50PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtmdW5jdGlvbiBlKGIpe3JldHVybiBEKGIpfHxMKGIpP2Z1bmN0aW9uKGMsZCl7cmV0dXJuIGEuaW52b2tlKGIsXG50aGlzLHskZWxlbWVudDpjLCRhdHRyczpkfSl9OmJ9dmFyIGY9Yi50ZW1wbGF0ZXx8Yi50ZW1wbGF0ZVVybD9iLnRlbXBsYXRlOlwiXCI7cmV0dXJue2NvbnRyb2xsZXI6ZCxjb250cm9sbGVyQXM6V2MoYi5jb250cm9sbGVyKXx8Yi5jb250cm9sbGVyQXN8fFwiJGN0cmxcIix0ZW1wbGF0ZTplKGYpLHRlbXBsYXRlVXJsOmUoYi50ZW1wbGF0ZVVybCksdHJhbnNjbHVkZTpiLnRyYW5zY2x1ZGUsc2NvcGU6e30sYmluZFRvQ29udHJvbGxlcjpiLmJpbmRpbmdzfHx7fSxyZXN0cmljdDpcIkVcIixyZXF1aXJlOmIucmVxdWlyZX19dmFyIGQ9Yi5jb250cm9sbGVyfHxmdW5jdGlvbigpe307bihiLGZ1bmN0aW9uKGEsYil7XCIkXCI9PT1iLmNoYXJBdCgwKSYmKGNbYl09YSl9KTtjLiRpbmplY3Q9W1wiJGluamVjdG9yXCJdO3JldHVybiB0aGlzLmRpcmVjdGl2ZShhLGMpfTt0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiB5KGEpPyhiLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KGEpLFxudGhpcyk6Yi5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpfTt0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihhKXtyZXR1cm4geShhKT8oYi5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoYSksdGhpcyk6Yi5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX07dmFyIG09ITA7dGhpcy5kZWJ1Z0luZm9FbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiB5KGEpPyhtPWEsdGhpcyk6bX07dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLFwiJGludGVycG9sYXRlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJHRlbXBsYXRlUmVxdWVzdFwiLFwiJHBhcnNlXCIsXCIkY29udHJvbGxlclwiLFwiJHJvb3RTY29wZVwiLFwiJHNjZVwiLFwiJGFuaW1hdGVcIixcIiQkc2FuaXRpemVVcmlcIixmdW5jdGlvbihhLGIsYyxkLHAsdyx1LGxhLHosQSl7ZnVuY3Rpb24gUShhLGIsYyl7YmEuaW5uZXJIVE1MPVwiPHNwYW4gXCIrYitcIj5cIjtiPWJhLmZpcnN0Q2hpbGQuYXR0cmlidXRlczt2YXIgZD1iWzBdO2IucmVtb3ZlTmFtZWRJdGVtKGQubmFtZSk7XG5kLnZhbHVlPWM7YS5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbShkKX1mdW5jdGlvbiAkKGEsYil7dHJ5e2EuYWRkQ2xhc3MoYil9Y2F0Y2goYyl7fX1mdW5jdGlvbiBNKGEsYixjLGQsZSl7YSBpbnN0YW5jZW9mIEN8fChhPUMoYSkpO2Zvcih2YXIgZj0vXFxTKy8sZz0wLGg9YS5sZW5ndGg7ZzxoO2crKyl7dmFyIGs9YVtnXTtrLm5vZGVUeXBlPT09UGEmJmsubm9kZVZhbHVlLm1hdGNoKGYpJiZPYyhrLGFbZ109Vy5jcmVhdGVFbGVtZW50KFwic3BhblwiKSl9dmFyIGw9UChhLGIsYSxjLGQsZSk7TS4kJGFkZFNjb3BlQ2xhc3MoYSk7dmFyIG09bnVsbDtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe3NiKGIsXCJzY29wZVwiKTtlJiZlLm5lZWRzTmV3U2NvcGUmJihiPWIuJHBhcmVudC4kbmV3KCkpO2Q9ZHx8e307dmFyIGY9ZC5wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixnPWQudHJhbnNjbHVkZUNvbnRyb2xsZXJzO2Q9ZC5mdXR1cmVQYXJlbnRFbGVtZW50O2YmJmYuJCRib3VuZFRyYW5zY2x1ZGUmJlxuKGY9Zi4kJGJvdW5kVHJhbnNjbHVkZSk7bXx8KG09KGQ9ZCYmZFswXSk/XCJmb3JlaWdub2JqZWN0XCIhPT1yYShkKSYmZ2EuY2FsbChkKS5tYXRjaCgvU1ZHLyk/XCJzdmdcIjpcImh0bWxcIjpcImh0bWxcIik7ZD1cImh0bWxcIiE9PW0/QyhVKG0sQyhcIjxkaXY+XCIpLmFwcGVuZChhKS5odG1sKCkpKTpjP1JhLmNsb25lLmNhbGwoYSk6YTtpZihnKWZvcih2YXIgaCBpbiBnKWQuZGF0YShcIiRcIitoK1wiQ29udHJvbGxlclwiLGdbaF0uaW5zdGFuY2UpO00uJCRhZGRTY29wZUluZm8oZCxiKTtjJiZjKGQsYik7bCYmbChiLGQsZCxmKTtyZXR1cm4gZH19ZnVuY3Rpb24gUChhLGIsYyxkLGUsZil7ZnVuY3Rpb24gZyhhLGMsZCxlKXt2YXIgZixrLGwsbSxwLHMsdTtpZihBKWZvcih1PUFycmF5KGMubGVuZ3RoKSxtPTA7bTxoLmxlbmd0aDttKz0zKWY9aFttXSx1W2ZdPWNbZl07ZWxzZSB1PWM7bT0wO2ZvcihwPWgubGVuZ3RoO208cDspaz11W2hbbSsrXV0sYz1oW20rK10sZj1oW20rK10sYz8oYy5zY29wZT8obD1cbmEuJG5ldygpLE0uJCRhZGRTY29wZUluZm8oQyhrKSxsKSk6bD1hLHM9Yy50cmFuc2NsdWRlT25UaGlzRWxlbWVudD9TKGEsYy50cmFuc2NsdWRlLGUpOiFjLnRlbXBsYXRlT25UaGlzRWxlbWVudCYmZT9lOiFlJiZiP1MoYSxiKTpudWxsLGMoZixsLGssZCxzKSk6ZiYmZihhLGsuY2hpbGROb2Rlcyx2LGUpfWZvcih2YXIgaD1bXSxrLGwsbSxwLEEscz0wO3M8YS5sZW5ndGg7cysrKXtrPW5ldyBuYTtsPW1hKGFbc10sW10saywwPT09cz9kOnYsZSk7KGY9bC5sZW5ndGg/eShsLGFbc10sayxiLGMsbnVsbCxbXSxbXSxmKTpudWxsKSYmZi5zY29wZSYmTS4kJGFkZFNjb3BlQ2xhc3Moay4kJGVsZW1lbnQpO2s9ZiYmZi50ZXJtaW5hbHx8IShtPWFbc10uY2hpbGROb2Rlcyl8fCFtLmxlbmd0aD9udWxsOlAobSxmPyhmLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50fHwhZi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpJiZmLnRyYW5zY2x1ZGU6Yik7aWYoZnx8ayloLnB1c2gocyxmLGspLHA9ITAsQT1cbkF8fGY7Zj1udWxsfXJldHVybiBwP2c6bnVsbH1mdW5jdGlvbiBTKGEsYixjKXt2YXIgZD1mdW5jdGlvbihkLGUsZixnLGgpe2R8fChkPWEuJG5ldyghMSxoKSxkLiQkdHJhbnNjbHVkZWQ9ITApO3JldHVybiBiKGQsZSx7cGFyZW50Qm91bmRUcmFuc2NsdWRlRm46Yyx0cmFuc2NsdWRlQ29udHJvbGxlcnM6ZixmdXR1cmVQYXJlbnRFbGVtZW50Omd9KX0sZT1kLiQkc2xvdHM9WigpLGY7Zm9yKGYgaW4gYi4kJHNsb3RzKWVbZl09Yi4kJHNsb3RzW2ZdP1MoYSxiLiQkc2xvdHNbZl0sYyk6bnVsbDtyZXR1cm4gZH1mdW5jdGlvbiBtYShhLGIsYyxkLGUpe3ZhciBoPWMuJGF0dHIsaztzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOkgoYix2YShyYShhKSksXCJFXCIsZCxlKTtmb3IodmFyIGwsbSxwLHM9YS5hdHRyaWJ1dGVzLEE9MCx1PXMmJnMubGVuZ3RoO0E8dTtBKyspe3ZhciB0PSExLHc9ITE7bD1zW0FdO2s9bC5uYW1lO209WChsLnZhbHVlKTtsPXZhKGspO2lmKHA9cGEudGVzdChsKSlrPVxuay5yZXBsYWNlKFhjLFwiXCIpLnN1YnN0cig4KS5yZXBsYWNlKC9fKC4pL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfSk7KGw9bC5tYXRjaCh1YSkpJiZPKGxbMV0pJiYodD1rLHc9ay5zdWJzdHIoMCxrLmxlbmd0aC01KStcImVuZFwiLGs9ay5zdWJzdHIoMCxrLmxlbmd0aC02KSk7bD12YShrLnRvTG93ZXJDYXNlKCkpO2hbbF09aztpZihwfHwhYy5oYXNPd25Qcm9wZXJ0eShsKSljW2xdPW0sVGMoYSxsKSYmKGNbbF09ITApO1koYSxiLG0sbCxwKTtIKGIsbCxcIkFcIixkLGUsdCx3KX1hPWEuY2xhc3NOYW1lO0UoYSkmJihhPWEuYW5pbVZhbCk7aWYoRihhKSYmXCJcIiE9PWEpZm9yKDtrPWcuZXhlYyhhKTspbD12YShrWzJdKSxIKGIsbCxcIkNcIixkLGUpJiYoY1tsXT1YKGtbM10pKSxhPWEuc3Vic3RyKGsuaW5kZXgra1swXS5sZW5ndGgpO2JyZWFrO2Nhc2UgUGE6aWYoMTE9PT14YSlmb3IoO2EucGFyZW50Tm9kZSYmYS5uZXh0U2libGluZyYmYS5uZXh0U2libGluZy5ub2RlVHlwZT09PVxuUGE7KWEubm9kZVZhbHVlKz1hLm5leHRTaWJsaW5nLm5vZGVWYWx1ZSxhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYS5uZXh0U2libGluZyk7TihiLGEubm9kZVZhbHVlKTticmVhaztjYXNlIDg6dHJ5e2lmKGs9Zi5leGVjKGEubm9kZVZhbHVlKSlsPXZhKGtbMV0pLEgoYixsLFwiTVwiLGQsZSkmJihjW2xdPVgoa1syXSkpfWNhdGNoKE0pe319Yi5zb3J0KHlhKTtyZXR1cm4gYn1mdW5jdGlvbiBxKGEsYixjKXt2YXIgZD1bXSxlPTA7aWYoYiYmYS5oYXNBdHRyaWJ1dGUmJmEuaGFzQXR0cmlidXRlKGIpKXtkb3tpZighYSl0aHJvdyBqYShcInV0ZXJkaXJcIixiLGMpOzE9PWEubm9kZVR5cGUmJihhLmhhc0F0dHJpYnV0ZShiKSYmZSsrLGEuaGFzQXR0cmlidXRlKGMpJiZlLS0pO2QucHVzaChhKTthPWEubmV4dFNpYmxpbmd9d2hpbGUoMDxlKX1lbHNlIGQucHVzaChhKTtyZXR1cm4gQyhkKX1mdW5jdGlvbiBZYyhhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQsZSxmLGcsaCl7ZT1xKGVbMF0sYixcbmMpO3JldHVybiBhKGQsZSxmLGcsaCl9fWZ1bmN0aW9uIGFjKGEsYixjLGQsZSxmKXtpZihhKXJldHVybiBNKGIsYyxkLGUsZik7dmFyIGc7cmV0dXJuIGZ1bmN0aW9uKCl7Z3x8KGc9TShiLGMsZCxlLGYpLGI9Yz1mPW51bGwpO3JldHVybiBnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24geShhLGIsZCxlLGYsZyxoLGwsbSl7ZnVuY3Rpb24gcChhLGIsYyxkKXtpZihhKXtjJiYoYT1ZYyhhLGMsZCkpO2EucmVxdWlyZT1KLnJlcXVpcmU7YS5kaXJlY3RpdmVOYW1lPUg7aWYoUD09PUp8fEouJCRpc29sYXRlU2NvcGUpYT1jYShhLHtpc29sYXRlU2NvcGU6ITB9KTtoLnB1c2goYSl9aWYoYil7YyYmKGI9WWMoYixjLGQpKTtiLnJlcXVpcmU9Si5yZXF1aXJlO2IuZGlyZWN0aXZlTmFtZT1IO2lmKFA9PT1KfHxKLiQkaXNvbGF0ZVNjb3BlKWI9Y2EoYix7aXNvbGF0ZVNjb3BlOiEwfSk7bC5wdXNoKGIpfX1mdW5jdGlvbiBzKGEsYixjLGQpe3ZhciBlO2lmKEYoYikpe3ZhciBmPVxuYi5tYXRjaChrKTtiPWIuc3Vic3RyaW5nKGZbMF0ubGVuZ3RoKTt2YXIgZz1mWzFdfHxmWzNdLGY9XCI/XCI9PT1mWzJdO1wiXl5cIj09PWc/Yz1jLnBhcmVudCgpOmU9KGU9ZCYmZFtiXSkmJmUuaW5zdGFuY2U7aWYoIWUpe3ZhciBoPVwiJFwiK2IrXCJDb250cm9sbGVyXCI7ZT1nP2MuaW5oZXJpdGVkRGF0YShoKTpjLmRhdGEoaCl9aWYoIWUmJiFmKXRocm93IGphKFwiY3RyZXFcIixiLGEpO31lbHNlIGlmKEwoYikpZm9yKGU9W10sZz0wLGY9Yi5sZW5ndGg7ZzxmO2crKyllW2ddPXMoYSxiW2ddLGMsZCk7ZWxzZSBFKGIpJiYoZT17fSxuKGIsZnVuY3Rpb24oYixmKXtlW2ZdPXMoYSxiLGMsZCl9KSk7cmV0dXJuIGV8fG51bGx9ZnVuY3Rpb24gQShhLGIsYyxkLGUsZil7dmFyIGc9WigpLGg7Zm9yKGggaW4gZCl7dmFyIGs9ZFtoXSxsPXskc2NvcGU6az09PVB8fGsuJCRpc29sYXRlU2NvcGU/ZTpmLCRlbGVtZW50OmEsJGF0dHJzOmIsJHRyYW5zY2x1ZGU6Y30sbT1rLmNvbnRyb2xsZXI7XCJAXCI9PW0mJlxuKG09YltrLm5hbWVdKTtsPXcobSxsLCEwLGsuY29udHJvbGxlckFzKTtnW2submFtZV09bDtCfHxhLmRhdGEoXCIkXCIray5uYW1lK1wiQ29udHJvbGxlclwiLGwuaW5zdGFuY2UpfXJldHVybiBnfWZ1bmN0aW9uIHUoYSxjLGUsZixnKXtmdW5jdGlvbiBrKGEsYixjLGQpe3ZhciBlO2JiKGEpfHwoZD1jLGM9YixiPWEsYT12KTtCJiYoZT1tYSk7Y3x8KGM9Qj96LnBhcmVudCgpOnopO2lmKGQpe3ZhciBmPWcuJCRzbG90c1tkXTtpZihmKXJldHVybiBmKGEsYixlLGMsRWIpO2lmKHgoZikpdGhyb3cgamEoXCJub3Nsb3RcIixkLHRhKHopKTt9ZWxzZSByZXR1cm4gZyhhLGIsZSxjLEViKX12YXIgbSxwLHQsdyxtYSxTLHosSmE7Yj09PWU/KGY9ZCx6PWQuJCRlbGVtZW50KTooej1DKGUpLGY9bmV3IG5hKHosZCkpO3Q9YztQP3c9Yy4kbmV3KCEwKTpRJiYodD1jLiRwYXJlbnQpO2cmJihTPWssUy4kJGJvdW5kVHJhbnNjbHVkZT1nLFMuaXNTbG90RmlsbGVkPWZ1bmN0aW9uKGEpe3JldHVybiEhZy4kJHNsb3RzW2FdfSk7XG5JJiYobWE9QSh6LGYsUyxJLHcsYykpO1AmJihNLiQkYWRkU2NvcGVJbmZvKHosdywhMCwhKCQmJigkPT09UHx8JD09PVAuJCRvcmlnaW5hbERpcmVjdGl2ZSkpKSxNLiQkYWRkU2NvcGVDbGFzcyh6LCEwKSx3LiQkaXNvbGF0ZUJpbmRpbmdzPVAuJCRpc29sYXRlQmluZGluZ3MsKEphPWlhKGMsZix3LHcuJCRpc29sYXRlQmluZGluZ3MsUCkpJiZ3LiRvbihcIiRkZXN0cm95XCIsSmEpKTtmb3IocCBpbiBtYSl7SmE9SVtwXTt2YXIgSz1tYVtwXSxsYT1KYS4kJGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXI7Sy5pZGVudGlmaWVyJiZsYSYmKG09aWEodCxmLEsuaW5zdGFuY2UsbGEsSmEpKTt2YXIgcT1LKCk7cSE9PUsuaW5zdGFuY2UmJihLLmluc3RhbmNlPXEsei5kYXRhKFwiJFwiK0phLm5hbWUrXCJDb250cm9sbGVyXCIscSksbSYmbSgpLG09aWEodCxmLEsuaW5zdGFuY2UsbGEsSmEpKX1uKEksZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJlcXVpcmU7YS5iaW5kVG9Db250cm9sbGVyJiYhTChjKSYmXG5FKGMpJiZUKG1hW2JdLmluc3RhbmNlLHMoYixjLHosbWEpKX0pO24obWEsZnVuY3Rpb24oYSl7RChhLmluc3RhbmNlLiRvbkluaXQpJiZhLmluc3RhbmNlLiRvbkluaXQoKX0pO209MDtmb3IocD1oLmxlbmd0aDttPHA7bSsrKXQ9aFttXSxrYSh0LHQuaXNvbGF0ZVNjb3BlP3c6Yyx6LGYsdC5yZXF1aXJlJiZzKHQuZGlyZWN0aXZlTmFtZSx0LnJlcXVpcmUseixtYSksUyk7dmFyIEViPWM7UCYmKFAudGVtcGxhdGV8fG51bGw9PT1QLnRlbXBsYXRlVXJsKSYmKEViPXcpO2EmJmEoRWIsZS5jaGlsZE5vZGVzLHYsZyk7Zm9yKG09bC5sZW5ndGgtMTswPD1tO20tLSl0PWxbbV0sa2EodCx0Lmlzb2xhdGVTY29wZT93OmMseixmLHQucmVxdWlyZSYmcyh0LmRpcmVjdGl2ZU5hbWUsdC5yZXF1aXJlLHosbWEpLFMpfW09bXx8e307Zm9yKHZhciB0PS1OdW1iZXIuTUFYX1ZBTFVFLFE9bS5uZXdTY29wZURpcmVjdGl2ZSxJPW0uY29udHJvbGxlckRpcmVjdGl2ZXMsUD1tLm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcbiQ9bS50ZW1wbGF0ZURpcmVjdGl2ZSxTPW0ubm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSx6PSExLGxhPSExLEI9bS5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSxlYT1kLiQkZWxlbWVudD1DKGIpLEosSCxHLHlhPWUsTyxOPSExLEZiPSExLGZhLFI9MCxWYT1hLmxlbmd0aDtSPFZhO1IrKyl7Sj1hW1JdO3ZhciBZPUouJCRzdGFydCxiYT1KLiQkZW5kO1kmJihlYT1xKGIsWSxiYSkpO0c9djtpZih0PkoucHJpb3JpdHkpYnJlYWs7aWYoZmE9Si5zY29wZSlKLnRlbXBsYXRlVXJsfHwoRShmYSk/KFdhKFwibmV3L2lzb2xhdGVkIHNjb3BlXCIsUHx8USxKLGVhKSxQPUopOldhKFwibmV3L2lzb2xhdGVkIHNjb3BlXCIsUCxKLGVhKSksUT1RfHxKO0g9Si5uYW1lO2lmKCFOJiYoSi5yZXBsYWNlJiYoSi50ZW1wbGF0ZVVybHx8Si50ZW1wbGF0ZSl8fEoudHJhbnNjbHVkZSYmIUouJCR0bGIpKXtmb3IoZmE9UisxO049YVtmYSsrXTspaWYoTi50cmFuc2NsdWRlJiYhTi4kJHRsYnx8Ti5yZXBsYWNlJiZcbihOLnRlbXBsYXRlVXJsfHxOLnRlbXBsYXRlKSl7RmI9ITA7YnJlYWt9Tj0hMH0hSi50ZW1wbGF0ZVVybCYmSi5jb250cm9sbGVyJiYoZmE9Si5jb250cm9sbGVyLEk9SXx8WigpLFdhKFwiJ1wiK0grXCInIGNvbnRyb2xsZXJcIixJW0hdLEosZWEpLElbSF09Sik7aWYoZmE9Si50cmFuc2NsdWRlKWlmKHo9ITAsSi4kJHRsYnx8KFdhKFwidHJhbnNjbHVzaW9uXCIsUyxKLGVhKSxTPUopLFwiZWxlbWVudFwiPT1mYSlCPSEwLHQ9Si5wcmlvcml0eSxHPWVhLGVhPWQuJCRlbGVtZW50PUMoVy5jcmVhdGVDb21tZW50KFwiIFwiK0grXCI6IFwiK2RbSF0rXCIgXCIpKSxiPWVhWzBdLGFhKGYsd2EuY2FsbChHLDApLGIpLHlhPWFjKEZiLEcsZSx0LGcmJmcubmFtZSx7bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpTfSk7ZWxzZXt2YXIgVj1aKCk7Rz1DKFliKGIpKS5jb250ZW50cygpO2lmKEUoZmEpKXtHPVtdO3ZhciBoYT1aKCksZGE9WigpO24oZmEsZnVuY3Rpb24oYSxiKXt2YXIgYz1cIj9cIj09PWEuY2hhckF0KDApO1xuYT1jP2Euc3Vic3RyaW5nKDEpOmE7aGFbYV09YjtWW2JdPW51bGw7ZGFbYl09Y30pO24oZWEuY29udGVudHMoKSxmdW5jdGlvbihhKXt2YXIgYj1oYVt2YShyYShhKSldO2I/KGRhW2JdPSEwLFZbYl09VltiXXx8W10sVltiXS5wdXNoKGEpKTpHLnB1c2goYSl9KTtuKGRhLGZ1bmN0aW9uKGEsYil7aWYoIWEpdGhyb3cgamEoXCJyZXFzbG90XCIsYik7fSk7Zm9yKHZhciBnYSBpbiBWKVZbZ2FdJiYoVltnYV09YWMoRmIsVltnYV0sZSkpfWVhLmVtcHR5KCk7eWE9YWMoRmIsRyxlLHYsdix7bmVlZHNOZXdTY29wZTpKLiQkaXNvbGF0ZVNjb3BlfHxKLiQkbmV3U2NvcGV9KTt5YS4kJHNsb3RzPVZ9aWYoSi50ZW1wbGF0ZSlpZihsYT0hMCxXYShcInRlbXBsYXRlXCIsJCxKLGVhKSwkPUosZmE9RChKLnRlbXBsYXRlKT9KLnRlbXBsYXRlKGVhLGQpOkoudGVtcGxhdGUsZmE9cWEoZmEpLEoucmVwbGFjZSl7Zz1KO0c9V2IudGVzdChmYSk/WmMoVShKLnRlbXBsYXRlTmFtZXNwYWNlLFgoZmEpKSk6W107XG5iPUdbMF07aWYoMSE9Ry5sZW5ndGh8fDEhPT1iLm5vZGVUeXBlKXRocm93IGphKFwidHBscnRcIixILFwiXCIpO2FhKGYsZWEsYik7VmE9eyRhdHRyOnt9fTtmYT1tYShiLFtdLFZhKTt2YXIgb2E9YS5zcGxpY2UoUisxLGEubGVuZ3RoLShSKzEpKTsoUHx8USkmJiRjKGZhLFAsUSk7YT1hLmNvbmNhdChmYSkuY29uY2F0KG9hKTthZChkLFZhKTtWYT1hLmxlbmd0aH1lbHNlIGVhLmh0bWwoZmEpO2lmKEoudGVtcGxhdGVVcmwpbGE9ITAsV2EoXCJ0ZW1wbGF0ZVwiLCQsSixlYSksJD1KLEoucmVwbGFjZSYmKGc9SiksdT0kZihhLnNwbGljZShSLGEubGVuZ3RoLVIpLGVhLGQsZix6JiZ5YSxoLGwse2NvbnRyb2xsZXJEaXJlY3RpdmVzOkksbmV3U2NvcGVEaXJlY3RpdmU6USE9PUomJlEsbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlOlAsdGVtcGxhdGVEaXJlY3RpdmU6JCxub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOlN9KSxWYT1hLmxlbmd0aDtlbHNlIGlmKEouY29tcGlsZSl0cnl7Tz1KLmNvbXBpbGUoZWEsXG5kLHlhKSxEKE8pP3AobnVsbCxPLFksYmEpOk8mJnAoTy5wcmUsTy5wb3N0LFksYmEpfWNhdGNoKHBhKXtjKHBhLHRhKGVhKSl9Si50ZXJtaW5hbCYmKHUudGVybWluYWw9ITAsdD1NYXRoLm1heCh0LEoucHJpb3JpdHkpKX11LnNjb3BlPVEmJiEwPT09US5zY29wZTt1LnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50PXo7dS50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQ9bGE7dS50cmFuc2NsdWRlPXlhO20uaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9QjtyZXR1cm4gdX1mdW5jdGlvbiAkYyhhLGIsYyl7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWFbZF09U2IoYVtkXSx7JCRpc29sYXRlU2NvcGU6YiwkJG5ld1Njb3BlOmN9KX1mdW5jdGlvbiBIKGIsZCxmLGcsaCxrLGwpe2lmKGQ9PT1oKXJldHVybiBudWxsO2g9bnVsbDtpZihlLmhhc093blByb3BlcnR5KGQpKXt2YXIgbTtkPWEuZ2V0KGQrXCJEaXJlY3RpdmVcIik7Zm9yKHZhciBwPTAsQT1kLmxlbmd0aDtwPEE7cCsrKXRyeXttPVxuZFtwXSwoeChnKXx8Zz5tLnByaW9yaXR5KSYmLTEhPW0ucmVzdHJpY3QuaW5kZXhPZihmKSYmKGsmJihtPVNiKG0seyQkc3RhcnQ6aywkJGVuZDpsfSkpLGIucHVzaChtKSxoPW0pfWNhdGNoKHQpe2ModCl9fXJldHVybiBofWZ1bmN0aW9uIE8oYil7aWYoZS5oYXNPd25Qcm9wZXJ0eShiKSlmb3IodmFyIGM9YS5nZXQoYitcIkRpcmVjdGl2ZVwiKSxkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWlmKGI9Y1tkXSxiLm11bHRpRWxlbWVudClyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBhZChhLGIpe3ZhciBjPWIuJGF0dHIsZD1hLiRhdHRyLGU9YS4kJGVsZW1lbnQ7bihhLGZ1bmN0aW9uKGQsZSl7XCIkXCIhPWUuY2hhckF0KDApJiYoYltlXSYmYltlXSE9PWQmJihkKz0oXCJzdHlsZVwiPT09ZT9cIjtcIjpcIiBcIikrYltlXSksYS4kc2V0KGUsZCwhMCxjW2VdKSl9KTtuKGIsZnVuY3Rpb24oYixmKXtcImNsYXNzXCI9PWY/KCQoZSxiKSxhW1wiY2xhc3NcIl09KGFbXCJjbGFzc1wiXT9hW1wiY2xhc3NcIl0rXCIgXCI6XCJcIikrXG5iKTpcInN0eWxlXCI9PWY/KGUuYXR0cihcInN0eWxlXCIsZS5hdHRyKFwic3R5bGVcIikrXCI7XCIrYiksYS5zdHlsZT0oYS5zdHlsZT9hLnN0eWxlK1wiO1wiOlwiXCIpK2IpOlwiJFwiPT1mLmNoYXJBdCgwKXx8YS5oYXNPd25Qcm9wZXJ0eShmKXx8KGFbZl09YixkW2ZdPWNbZl0pfSl9ZnVuY3Rpb24gJGYoYSxiLGMsZSxmLGcsaCxrKXt2YXIgbD1bXSxtLHAscz1iWzBdLEE9YS5zaGlmdCgpLHU9U2IoQSx7dGVtcGxhdGVVcmw6bnVsbCx0cmFuc2NsdWRlOm51bGwscmVwbGFjZTpudWxsLCQkb3JpZ2luYWxEaXJlY3RpdmU6QX0pLHc9RChBLnRlbXBsYXRlVXJsKT9BLnRlbXBsYXRlVXJsKGIsYyk6QS50ZW1wbGF0ZVVybCxRPUEudGVtcGxhdGVOYW1lc3BhY2U7Yi5lbXB0eSgpO2QodykudGhlbihmdW5jdGlvbihkKXt2YXIgdCxJO2Q9cWEoZCk7aWYoQS5yZXBsYWNlKXtkPVdiLnRlc3QoZCk/WmMoVShRLFgoZCkpKTpbXTt0PWRbMF07aWYoMSE9ZC5sZW5ndGh8fDEhPT10Lm5vZGVUeXBlKXRocm93IGphKFwidHBscnRcIixcbkEubmFtZSx3KTtkPXskYXR0cjp7fX07YWEoZSxiLHQpO3ZhciBNPW1hKHQsW10sZCk7RShBLnNjb3BlKSYmJGMoTSwhMCk7YT1NLmNvbmNhdChhKTthZChjLGQpfWVsc2UgdD1zLGIuaHRtbChkKTthLnVuc2hpZnQodSk7bT15KGEsdCxjLGYsYixBLGcsaCxrKTtuKGUsZnVuY3Rpb24oYSxjKXthPT10JiYoZVtjXT1iWzBdKX0pO2ZvcihwPVAoYlswXS5jaGlsZE5vZGVzLGYpO2wubGVuZ3RoOyl7ZD1sLnNoaWZ0KCk7ST1sLnNoaWZ0KCk7dmFyIHo9bC5zaGlmdCgpLEs9bC5zaGlmdCgpLE09YlswXTtpZighZC4kJGRlc3Ryb3llZCl7aWYoSSE9PXMpe3ZhciBsYT1JLmNsYXNzTmFtZTtrLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlJiZBLnJlcGxhY2V8fChNPVliKHQpKTthYSh6LEMoSSksTSk7JChDKE0pLGxhKX1JPW0udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ/UyhkLG0udHJhbnNjbHVkZSxLKTpLO20ocCxkLE0sZSxJKX19bD1udWxsfSk7cmV0dXJuIGZ1bmN0aW9uKGEsYixcbmMsZCxlKXthPWU7Yi4kJGRlc3Ryb3llZHx8KGw/bC5wdXNoKGIsYyxkLGEpOihtLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50JiYoYT1TKGIsbS50cmFuc2NsdWRlLGUpKSxtKHAsYixjLGQsYSkpKX19ZnVuY3Rpb24geWEoYSxiKXt2YXIgYz1iLnByaW9yaXR5LWEucHJpb3JpdHk7cmV0dXJuIDAhPT1jP2M6YS5uYW1lIT09Yi5uYW1lP2EubmFtZTxiLm5hbWU/LTE6MTphLmluZGV4LWIuaW5kZXh9ZnVuY3Rpb24gV2EoYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT9cIiAobW9kdWxlOiBcIithK1wiKVwiOlwiXCJ9aWYoYil0aHJvdyBqYShcIm11bHRpZGlyXCIsYi5uYW1lLGUoYi4kJG1vZHVsZU5hbWUpLGMubmFtZSxlKGMuJCRtb2R1bGVOYW1lKSxhLHRhKGQpKTt9ZnVuY3Rpb24gTihhLGMpe3ZhciBkPWIoYywhMCk7ZCYmYS5wdXNoKHtwcmlvcml0eTowLGNvbXBpbGU6ZnVuY3Rpb24oYSl7YT1hLnBhcmVudCgpO3ZhciBiPSEhYS5sZW5ndGg7YiYmTS4kJGFkZEJpbmRpbmdDbGFzcyhhKTtcbnJldHVybiBmdW5jdGlvbihhLGMpe3ZhciBlPWMucGFyZW50KCk7Ynx8TS4kJGFkZEJpbmRpbmdDbGFzcyhlKTtNLiQkYWRkQmluZGluZ0luZm8oZSxkLmV4cHJlc3Npb25zKTthLiR3YXRjaChkLGZ1bmN0aW9uKGEpe2NbMF0ubm9kZVZhbHVlPWF9KX19fSl9ZnVuY3Rpb24gVShhLGIpe2E9RyhhfHxcImh0bWxcIik7c3dpdGNoKGEpe2Nhc2UgXCJzdmdcIjpjYXNlIFwibWF0aFwiOnZhciBjPVcuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLmlubmVySFRNTD1cIjxcIithK1wiPlwiK2IrXCI8L1wiK2ErXCI+XCI7cmV0dXJuIGMuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO2RlZmF1bHQ6cmV0dXJuIGJ9fWZ1bmN0aW9uIFIoYSxiKXtpZihcInNyY2RvY1wiPT1iKXJldHVybiBsYS5IVE1MO3ZhciBjPXJhKGEpO2lmKFwieGxpbmtIcmVmXCI9PWJ8fFwiZm9ybVwiPT1jJiZcImFjdGlvblwiPT1ifHxcImltZ1wiIT1jJiYoXCJzcmNcIj09Ynx8XCJuZ1NyY1wiPT1iKSlyZXR1cm4gbGEuUkVTT1VSQ0VfVVJMfWZ1bmN0aW9uIFkoYSxjLGQsZSxcbmYpe3ZhciBnPVIoYSxlKTtmPWhbZV18fGY7dmFyIGs9YihkLCEwLGcsZik7aWYoayl7aWYoXCJtdWx0aXBsZVwiPT09ZSYmXCJzZWxlY3RcIj09PXJhKGEpKXRocm93IGphKFwic2VsbXVsdGlcIix0YShhKSk7Yy5wdXNoKHtwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oYSxjLGgpe2M9aC4kJG9ic2VydmVyc3x8KGguJCRvYnNlcnZlcnM9WigpKTtpZihsLnRlc3QoZSkpdGhyb3cgamEoXCJub2RvbWV2ZW50c1wiKTt2YXIgbT1oW2VdO20hPT1kJiYoaz1tJiZiKG0sITAsZyxmKSxkPW0pO2smJihoW2VdPWsoYSksKGNbZV18fChjW2VdPVtdKSkuJCRpbnRlcj0hMCwoaC4kJG9ic2VydmVycyYmaC4kJG9ic2VydmVyc1tlXS4kJHNjb3BlfHxhKS4kd2F0Y2goayxmdW5jdGlvbihhLGIpe1wiY2xhc3NcIj09PWUmJmEhPWI/aC4kdXBkYXRlQ2xhc3MoYSxiKTpoLiRzZXQoZSxhKX0pKX19fX0pfX1mdW5jdGlvbiBhYShhLGIsYyl7dmFyIGQ9YlswXSxlPWIubGVuZ3RoLFxuZj1kLnBhcmVudE5vZGUsZyxoO2lmKGEpZm9yKGc9MCxoPWEubGVuZ3RoO2c8aDtnKyspaWYoYVtnXT09ZCl7YVtnKytdPWM7aD1nK2UtMTtmb3IodmFyIGs9YS5sZW5ndGg7ZzxrO2crKyxoKyspaDxrP2FbZ109YVtoXTpkZWxldGUgYVtnXTthLmxlbmd0aC09ZS0xO2EuY29udGV4dD09PWQmJihhLmNvbnRleHQ9Yyk7YnJlYWt9ZiYmZi5yZXBsYWNlQ2hpbGQoYyxkKTthPVcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2ZvcihnPTA7ZzxlO2crKylhLmFwcGVuZENoaWxkKGJbZ10pO0MuaGFzRGF0YShkKSYmKEMuZGF0YShjLEMuZGF0YShkKSksQyhkKS5vZmYoXCIkZGVzdHJveVwiKSk7Qy5jbGVhbkRhdGEoYS5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSk7Zm9yKGc9MTtnPGU7ZysrKWRlbGV0ZSBiW2ddO2JbMF09YztiLmxlbmd0aD0xfWZ1bmN0aW9uIGNhKGEsYil7cmV0dXJuIFQoZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShudWxsLGFyZ3VtZW50cyl9LGEsYil9ZnVuY3Rpb24ga2EoYSxcbmIsZCxlLGYsZyl7dHJ5e2EoYixkLGUsZixnKX1jYXRjaChoKXtjKGgsdGEoZCkpfX1mdW5jdGlvbiBpYShhLGMsZCxlLGYpe3ZhciBnPVtdO24oZSxmdW5jdGlvbihlLGgpe3ZhciBrPWUuYXR0ck5hbWUsbD1lLm9wdGlvbmFsLG0sQSxzLHQ7c3dpdGNoKGUubW9kZSl7Y2FzZSBcIkBcIjpsfHxzYS5jYWxsKGMsayl8fChkW2hdPWNba109dm9pZCAwKTtjLiRvYnNlcnZlKGssZnVuY3Rpb24oYSl7RihhKSYmKGRbaF09YSl9KTtjLiQkb2JzZXJ2ZXJzW2tdLiQkc2NvcGU9YTttPWNba107RihtKT9kW2hdPWIobSkoYSk6TmEobSkmJihkW2hdPW0pO2JyZWFrO2Nhc2UgXCI9XCI6aWYoIXNhLmNhbGwoYyxrKSl7aWYobClicmVhaztjW2tdPXZvaWQgMH1pZihsJiYhY1trXSlicmVhaztBPXAoY1trXSk7dD1BLmxpdGVyYWw/b2E6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ8fGEhPT1hJiZiIT09Yn07cz1BLmFzc2lnbnx8ZnVuY3Rpb24oKXttPWRbaF09QShhKTt0aHJvdyBqYShcIm5vbmFzc2lnblwiLFxuY1trXSxrLGYubmFtZSk7fTttPWRbaF09QShhKTtsPWZ1bmN0aW9uKGIpe3QoYixkW2hdKXx8KHQoYixtKT9zKGEsYj1kW2hdKTpkW2hdPWIpO3JldHVybiBtPWJ9O2wuJHN0YXRlZnVsPSEwO2w9ZS5jb2xsZWN0aW9uP2EuJHdhdGNoQ29sbGVjdGlvbihjW2tdLGwpOmEuJHdhdGNoKHAoY1trXSxsKSxudWxsLEEubGl0ZXJhbCk7Zy5wdXNoKGwpO2JyZWFrO2Nhc2UgXCI8XCI6aWYoIXNhLmNhbGwoYyxrKSl7aWYobClicmVhaztjW2tdPXZvaWQgMH1pZihsJiYhY1trXSlicmVhaztBPXAoY1trXSk7ZFtoXT1BKGEpO2w9YS4kd2F0Y2goQSxmdW5jdGlvbihhKXtkW2hdPWF9LEEubGl0ZXJhbCk7Zy5wdXNoKGwpO2JyZWFrO2Nhc2UgXCImXCI6QT1jLmhhc093blByb3BlcnR5KGspP3AoY1trXSk6QjtpZihBPT09QiYmbClicmVhaztkW2hdPWZ1bmN0aW9uKGIpe3JldHVybiBBKGEsYil9fX0pO3JldHVybiBnLmxlbmd0aCYmZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPWcubGVuZ3RoO2E8YjsrK2EpZ1thXSgpfX1cbnZhciBWPS9eXFx3LyxiYT1XLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbmE9ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1PYmplY3Qua2V5cyhiKSxkLGUsZjtkPTA7Zm9yKGU9Yy5sZW5ndGg7ZDxlO2QrKylmPWNbZF0sdGhpc1tmXT1iW2ZdfWVsc2UgdGhpcy4kYXR0cj17fTt0aGlzLiQkZWxlbWVudD1hfTtuYS5wcm90b3R5cGU9eyRub3JtYWxpemU6dmEsJGFkZENsYXNzOmZ1bmN0aW9uKGEpe2EmJjA8YS5sZW5ndGgmJnouYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsYSl9LCRyZW1vdmVDbGFzczpmdW5jdGlvbihhKXthJiYwPGEubGVuZ3RoJiZ6LnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LGEpfSwkdXBkYXRlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iZChhLGIpO2MmJmMubGVuZ3RoJiZ6LmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LGMpOyhjPWJkKGIsYSkpJiZjLmxlbmd0aCYmei5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxjKX0sJHNldDpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1cblRjKHRoaXMuJCRlbGVtZW50WzBdLGEpLGc9Y2RbYV0saD1hO2Y/KHRoaXMuJCRlbGVtZW50LnByb3AoYSxiKSxlPWYpOmcmJih0aGlzW2ddPWIsaD1nKTt0aGlzW2FdPWI7ZT90aGlzLiRhdHRyW2FdPWU6KGU9dGhpcy4kYXR0clthXSl8fCh0aGlzLiRhdHRyW2FdPWU9QmMoYSxcIi1cIikpO2Y9cmEodGhpcy4kJGVsZW1lbnQpO2lmKFwiYVwiPT09ZiYmKFwiaHJlZlwiPT09YXx8XCJ4bGlua0hyZWZcIj09PWEpfHxcImltZ1wiPT09ZiYmXCJzcmNcIj09PWEpdGhpc1thXT1iPUEoYixcInNyY1wiPT09YSk7ZWxzZSBpZihcImltZ1wiPT09ZiYmXCJzcmNzZXRcIj09PWEpe2Zvcih2YXIgZj1cIlwiLGc9WChiKSxrPS8oXFxzK1xcZCt4XFxzKix8XFxzK1xcZCt3XFxzKix8XFxzKyx8LFxccyspLyxrPS9cXHMvLnRlc3QoZyk/azovKCwpLyxnPWcuc3BsaXQoayksaz1NYXRoLmZsb29yKGcubGVuZ3RoLzIpLGw9MDtsPGs7bCsrKXZhciBtPTIqbCxmPWYrQShYKGdbbV0pLCEwKSxmPWYrKFwiIFwiK1goZ1ttKzFdKSk7Zz1YKGdbMipsXSkuc3BsaXQoL1xccy8pO1xuZis9QShYKGdbMF0pLCEwKTsyPT09Zy5sZW5ndGgmJihmKz1cIiBcIitYKGdbMV0pKTt0aGlzW2FdPWI9Zn0hMSE9PWQmJihudWxsPT09Ynx8eChiKT90aGlzLiQkZWxlbWVudC5yZW1vdmVBdHRyKGUpOlYudGVzdChlKT90aGlzLiQkZWxlbWVudC5hdHRyKGUsYik6USh0aGlzLiQkZWxlbWVudFswXSxlLGIpKTsoYT10aGlzLiQkb2JzZXJ2ZXJzKSYmbihhW2hdLGZ1bmN0aW9uKGEpe3RyeXthKGIpfWNhdGNoKGQpe2MoZCl9fSl9LCRvYnNlcnZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuJCRvYnNlcnZlcnN8fChjLiQkb2JzZXJ2ZXJzPVooKSksZT1kW2FdfHwoZFthXT1bXSk7ZS5wdXNoKGIpO3UuJGV2YWxBc3luYyhmdW5jdGlvbigpe2UuJCRpbnRlcnx8IWMuaGFzT3duUHJvcGVydHkoYSl8fHgoY1thXSl8fGIoY1thXSl9KTtyZXR1cm4gZnVuY3Rpb24oKXtjYihlLGIpfX19O3ZhciBoYT1iLnN0YXJ0U3ltYm9sKCksZGE9Yi5lbmRTeW1ib2woKSxxYT1cInt7XCI9PWhhJiZcIn19XCI9PVxuZGE/YWI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx7XFx7L2csaGEpLnJlcGxhY2UoL319L2csZGEpfSxwYT0vXm5nQXR0cltBLVpdLyx1YT0vXiguKylTdGFydCQvO00uJCRhZGRCaW5kaW5nSW5mbz1tP2Z1bmN0aW9uKGEsYil7dmFyIGM9YS5kYXRhKFwiJGJpbmRpbmdcIil8fFtdO0woYik/Yz1jLmNvbmNhdChiKTpjLnB1c2goYik7YS5kYXRhKFwiJGJpbmRpbmdcIixjKX06QjtNLiQkYWRkQmluZGluZ0NsYXNzPW0/ZnVuY3Rpb24oYSl7JChhLFwibmctYmluZGluZ1wiKX06QjtNLiQkYWRkU2NvcGVJbmZvPW0/ZnVuY3Rpb24oYSxiLGMsZCl7YS5kYXRhKGM/ZD9cIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlXCI6XCIkaXNvbGF0ZVNjb3BlXCI6XCIkc2NvcGVcIixiKX06QjtNLiQkYWRkU2NvcGVDbGFzcz1tP2Z1bmN0aW9uKGEsYil7JChhLGI/XCJuZy1pc29sYXRlLXNjb3BlXCI6XCJuZy1zY29wZVwiKX06QjtyZXR1cm4gTX1dfWZ1bmN0aW9uIHZhKGEpe3JldHVybiBnYihhLnJlcGxhY2UoWGMsXG5cIlwiKSl9ZnVuY3Rpb24gYmQoYSxiKXt2YXIgZD1cIlwiLGM9YS5zcGxpdCgvXFxzKy8pLGU9Yi5zcGxpdCgvXFxzKy8pLGY9MDthOmZvcig7ZjxjLmxlbmd0aDtmKyspe2Zvcih2YXIgZz1jW2ZdLGg9MDtoPGUubGVuZ3RoO2grKylpZihnPT1lW2hdKWNvbnRpbnVlIGE7ZCs9KDA8ZC5sZW5ndGg/XCIgXCI6XCJcIikrZ31yZXR1cm4gZH1mdW5jdGlvbiBaYyhhKXthPUMoYSk7dmFyIGI9YS5sZW5ndGg7aWYoMT49YilyZXR1cm4gYTtmb3IoO2ItLTspOD09PWFbYl0ubm9kZVR5cGUmJmFnLmNhbGwoYSxiLDEpO3JldHVybiBhfWZ1bmN0aW9uIFdjKGEsYil7aWYoYiYmRihiKSlyZXR1cm4gYjtpZihGKGEpKXt2YXIgZD1kZC5leGVjKGEpO2lmKGQpcmV0dXJuIGRbM119fWZ1bmN0aW9uIGZmKCl7dmFyIGE9e30sYj0hMTt0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKGIsYyl7VGEoYixcImNvbnRyb2xsZXJcIik7RShiKT9UKGEsYik6YVtiXT1jfTt0aGlzLmFsbG93R2xvYmFscz1mdW5jdGlvbigpe2I9ITB9O3RoaXMuJGdldD1cbltcIiRpbmplY3RvclwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGQsYyl7ZnVuY3Rpb24gZShhLGIsYyxkKXtpZighYXx8IUUoYS4kc2NvcGUpKXRocm93IEgoXCIkY29udHJvbGxlclwiKShcIm5vc2NwXCIsZCxiKTthLiRzY29wZVtiXT1jfXJldHVybiBmdW5jdGlvbihmLGcsaCxrKXt2YXIgbCxtLHI7aD0hMD09PWg7ayYmRihrKSYmKHI9ayk7aWYoRihmKSl7az1mLm1hdGNoKGRkKTtpZighayl0aHJvdyBiZyhcImN0cmxmbXRcIixmKTttPWtbMV07cj1yfHxrWzNdO2Y9YS5oYXNPd25Qcm9wZXJ0eShtKT9hW21dOkRjKGcuJHNjb3BlLG0sITApfHwoYj9EYyhjLG0sITApOnYpO1NhKGYsbSwhMCl9aWYoaClyZXR1cm4gaD0oTChmKT9mW2YubGVuZ3RoLTFdOmYpLnByb3RvdHlwZSxsPU9iamVjdC5jcmVhdGUoaHx8bnVsbCksciYmZShnLHIsbCxtfHxmLm5hbWUpLFQoZnVuY3Rpb24oKXt2YXIgYT1kLmludm9rZShmLGwsZyxtKTthIT09bCYmKEUoYSl8fEQoYSkpJiYobD1hLHImJmUoZyxyLGwsbXx8Zi5uYW1lKSk7XG5yZXR1cm4gbH0se2luc3RhbmNlOmwsaWRlbnRpZmllcjpyfSk7bD1kLmluc3RhbnRpYXRlKGYsZyxtKTtyJiZlKGcscixsLG18fGYubmFtZSk7cmV0dXJuIGx9fV19ZnVuY3Rpb24gZ2YoKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLGZ1bmN0aW9uKGEpe3JldHVybiBDKGEuZG9jdW1lbnQpfV19ZnVuY3Rpb24gaGYoKXt0aGlzLiRnZXQ9W1wiJGxvZ1wiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2EuZXJyb3IuYXBwbHkoYSxhcmd1bWVudHMpfX1dfWZ1bmN0aW9uIGJjKGEpe3JldHVybiBFKGEpP1YoYSk/YS50b0lTT1N0cmluZygpOmViKGEpOmF9ZnVuY3Rpb24gbmYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuXCJcIjt2YXIgYj1bXTtyYyhhLGZ1bmN0aW9uKGEsYyl7bnVsbD09PWF8fHgoYSl8fChMKGEpP24oYSxmdW5jdGlvbihhLGQpe2IucHVzaChoYShjKStcIj1cIitoYShiYyhhKSkpfSk6Yi5wdXNoKGhhKGMpK1wiPVwiK2hhKGJjKGEpKSkpfSk7XG5yZXR1cm4gYi5qb2luKFwiJlwiKX19fWZ1bmN0aW9uIG9mKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxlLGYpe251bGw9PT1hfHx4KGEpfHwoTChhKT9uKGEsZnVuY3Rpb24oYSxjKXtiKGEsZStcIltcIisoRShhKT9jOlwiXCIpK1wiXVwiKX0pOkUoYSkmJiFWKGEpP3JjKGEsZnVuY3Rpb24oYSxjKXtiKGEsZSsoZj9cIlwiOlwiW1wiKStjKyhmP1wiXCI6XCJdXCIpKX0pOmQucHVzaChoYShlKStcIj1cIitoYShiYyhhKSkpKX1pZighYSlyZXR1cm5cIlwiO3ZhciBkPVtdO2IoYSxcIlwiLCEwKTtyZXR1cm4gZC5qb2luKFwiJlwiKX19fWZ1bmN0aW9uIGNjKGEsYil7aWYoRihhKSl7dmFyIGQ9YS5yZXBsYWNlKGNnLFwiXCIpLnRyaW0oKTtpZihkKXt2YXIgYz1iKFwiQ29udGVudC1UeXBlXCIpOyhjPWMmJjA9PT1jLmluZGV4T2YoZWQpKXx8KGM9KGM9ZC5tYXRjaChkZykpJiZlZ1tjWzBdXS50ZXN0KGQpKTtjJiYoYT13YyhkKSl9fXJldHVybiBhfWZ1bmN0aW9uIGZkKGEpe3ZhciBiPVxuWigpLGQ7RihhKT9uKGEuc3BsaXQoXCJcXG5cIiksZnVuY3Rpb24oYSl7ZD1hLmluZGV4T2YoXCI6XCIpO3ZhciBlPUcoWChhLnN1YnN0cigwLGQpKSk7YT1YKGEuc3Vic3RyKGQrMSkpO2UmJihiW2VdPWJbZV0/YltlXStcIiwgXCIrYTphKX0pOkUoYSkmJm4oYSxmdW5jdGlvbihhLGQpe3ZhciBmPUcoZCksZz1YKGEpO2YmJihiW2ZdPWJbZl0/YltmXStcIiwgXCIrZzpnKX0pO3JldHVybiBifWZ1bmN0aW9uIGdkKGEpe3ZhciBiO3JldHVybiBmdW5jdGlvbihkKXtifHwoYj1mZChhKSk7cmV0dXJuIGQ/KGQ9YltHKGQpXSx2b2lkIDA9PT1kJiYoZD1udWxsKSxkKTpifX1mdW5jdGlvbiBoZChhLGIsZCxjKXtpZihEKGMpKXJldHVybiBjKGEsYixkKTtuKGMsZnVuY3Rpb24oYyl7YT1jKGEsYixkKX0pO3JldHVybiBhfWZ1bmN0aW9uIG1mKCl7dmFyIGE9dGhpcy5kZWZhdWx0cz17dHJhbnNmb3JtUmVzcG9uc2U6W2NjXSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihhKXtyZXR1cm4gRShhKSYmXCJbb2JqZWN0IEZpbGVdXCIhPT1cbmdhLmNhbGwoYSkmJlwiW29iamVjdCBCbG9iXVwiIT09Z2EuY2FsbChhKSYmXCJbb2JqZWN0IEZvcm1EYXRhXVwiIT09Z2EuY2FsbChhKT9lYihhKTphfV0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLypcIn0scG9zdDpuYShkYykscHV0Om5hKGRjKSxwYXRjaDpuYShkYyl9LHhzcmZDb29raWVOYW1lOlwiWFNSRi1UT0tFTlwiLHhzcmZIZWFkZXJOYW1lOlwiWC1YU1JGLVRPS0VOXCIscGFyYW1TZXJpYWxpemVyOlwiJGh0dHBQYXJhbVNlcmlhbGl6ZXJcIn0sYj0hMTt0aGlzLnVzZUFwcGx5QXN5bmM9ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSk/KGI9ISFhLHRoaXMpOmJ9O3ZhciBkPSEwO3RoaXMudXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSk/KGQ9ISFhLHRoaXMpOmR9O3ZhciBjPXRoaXMuaW50ZXJjZXB0b3JzPVtdO3RoaXMuJGdldD1bXCIkaHR0cEJhY2tlbmRcIixcIiQkY29va2llUmVhZGVyXCIsXCIkY2FjaGVGYWN0b3J5XCIsXG5cIiRyb290U2NvcGVcIixcIiRxXCIsXCIkaW5qZWN0b3JcIixmdW5jdGlvbihlLGYsZyxoLGssbCl7ZnVuY3Rpb24gbShiKXtmdW5jdGlvbiBjKGEpe3ZhciBiPVQoe30sYSk7Yi5kYXRhPWhkKGEuZGF0YSxhLmhlYWRlcnMsYS5zdGF0dXMsZi50cmFuc2Zvcm1SZXNwb25zZSk7YT1hLnN0YXR1cztyZXR1cm4gMjAwPD1hJiYzMDA+YT9iOmsucmVqZWN0KGIpfWZ1bmN0aW9uIGUoYSxiKXt2YXIgYyxkPXt9O24oYSxmdW5jdGlvbihhLGUpe0QoYSk/KGM9YShiKSxudWxsIT1jJiYoZFtlXT1jKSk6ZFtlXT1hfSk7cmV0dXJuIGR9aWYoIUUoYikpdGhyb3cgSChcIiRodHRwXCIpKFwiYmFkcmVxXCIsYik7aWYoIUYoYi51cmwpKXRocm93IEgoXCIkaHR0cFwiKShcImJhZHJlcVwiLGIudXJsKTt2YXIgZj1UKHttZXRob2Q6XCJnZXRcIix0cmFuc2Zvcm1SZXF1ZXN0OmEudHJhbnNmb3JtUmVxdWVzdCx0cmFuc2Zvcm1SZXNwb25zZTphLnRyYW5zZm9ybVJlc3BvbnNlLHBhcmFtU2VyaWFsaXplcjphLnBhcmFtU2VyaWFsaXplcn0sXG5iKTtmLmhlYWRlcnM9ZnVuY3Rpb24oYil7dmFyIGM9YS5oZWFkZXJzLGQ9VCh7fSxiLmhlYWRlcnMpLGYsZyxoLGM9VCh7fSxjLmNvbW1vbixjW0coYi5tZXRob2QpXSk7YTpmb3IoZiBpbiBjKXtnPUcoZik7Zm9yKGggaW4gZClpZihHKGgpPT09Zyljb250aW51ZSBhO2RbZl09Y1tmXX1yZXR1cm4gZShkLG5hKGIpKX0oYik7Zi5tZXRob2Q9dWIoZi5tZXRob2QpO2YucGFyYW1TZXJpYWxpemVyPUYoZi5wYXJhbVNlcmlhbGl6ZXIpP2wuZ2V0KGYucGFyYW1TZXJpYWxpemVyKTpmLnBhcmFtU2VyaWFsaXplcjt2YXIgZz1bZnVuY3Rpb24oYil7dmFyIGQ9Yi5oZWFkZXJzLGU9aGQoYi5kYXRhLGdkKGQpLHYsYi50cmFuc2Zvcm1SZXF1ZXN0KTt4KGUpJiZuKGQsZnVuY3Rpb24oYSxiKXtcImNvbnRlbnQtdHlwZVwiPT09RyhiKSYmZGVsZXRlIGRbYl19KTt4KGIud2l0aENyZWRlbnRpYWxzKSYmIXgoYS53aXRoQ3JlZGVudGlhbHMpJiYoYi53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHMpO1xucmV0dXJuIHIoYixlKS50aGVuKGMsYyl9LHZdLGg9ay53aGVuKGYpO2ZvcihuKEssZnVuY3Rpb24oYSl7KGEucmVxdWVzdHx8YS5yZXF1ZXN0RXJyb3IpJiZnLnVuc2hpZnQoYS5yZXF1ZXN0LGEucmVxdWVzdEVycm9yKTsoYS5yZXNwb25zZXx8YS5yZXNwb25zZUVycm9yKSYmZy5wdXNoKGEucmVzcG9uc2UsYS5yZXNwb25zZUVycm9yKX0pO2cubGVuZ3RoOyl7Yj1nLnNoaWZ0KCk7dmFyIG09Zy5zaGlmdCgpLGg9aC50aGVuKGIsbSl9ZD8oaC5zdWNjZXNzPWZ1bmN0aW9uKGEpe1NhKGEsXCJmblwiKTtoLnRoZW4oZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGYpfSk7cmV0dXJuIGh9LGguZXJyb3I9ZnVuY3Rpb24oYSl7U2EoYSxcImZuXCIpO2gudGhlbihudWxsLGZ1bmN0aW9uKGIpe2EoYi5kYXRhLGIuc3RhdHVzLGIuaGVhZGVycyxmKX0pO3JldHVybiBofSk6KGguc3VjY2Vzcz1pZChcInN1Y2Nlc3NcIiksaC5lcnJvcj1pZChcImVycm9yXCIpKTtyZXR1cm4gaH1mdW5jdGlvbiByKGMsXG5kKXtmdW5jdGlvbiBnKGEsYyxkLGUpe2Z1bmN0aW9uIGYoKXtsKGMsYSxkLGUpfUsmJigyMDA8PWEmJjMwMD5hP0sucHV0KFMsW2EsYyxmZChkKSxlXSk6Sy5yZW1vdmUoUykpO2I/aC4kYXBwbHlBc3luYyhmKTooZigpLGguJCRwaGFzZXx8aC4kYXBwbHkoKSl9ZnVuY3Rpb24gbChhLGIsZCxlKXtiPS0xPD1iP2I6MDsoMjAwPD1iJiYzMDA+Yj9BLnJlc29sdmU6QS5yZWplY3QpKHtkYXRhOmEsc3RhdHVzOmIsaGVhZGVyczpnZChkKSxjb25maWc6YyxzdGF0dXNUZXh0OmV9KX1mdW5jdGlvbiByKGEpe2woYS5kYXRhLGEuc3RhdHVzLG5hKGEuaGVhZGVycygpKSxhLnN0YXR1c1RleHQpfWZ1bmN0aW9uIHooKXt2YXIgYT1tLnBlbmRpbmdSZXF1ZXN0cy5pbmRleE9mKGMpOy0xIT09YSYmbS5wZW5kaW5nUmVxdWVzdHMuc3BsaWNlKGEsMSl9dmFyIEE9ay5kZWZlcigpLFE9QS5wcm9taXNlLEssTSxQPWMuaGVhZGVycyxTPXMoYy51cmwsYy5wYXJhbVNlcmlhbGl6ZXIoYy5wYXJhbXMpKTtcbm0ucGVuZGluZ1JlcXVlc3RzLnB1c2goYyk7US50aGVuKHoseik7IWMuY2FjaGUmJiFhLmNhY2hlfHwhMT09PWMuY2FjaGV8fFwiR0VUXCIhPT1jLm1ldGhvZCYmXCJKU09OUFwiIT09Yy5tZXRob2R8fChLPUUoYy5jYWNoZSk/Yy5jYWNoZTpFKGEuY2FjaGUpP2EuY2FjaGU6SSk7SyYmKE09Sy5nZXQoUykseShNKT9NJiZEKE0udGhlbik/TS50aGVuKHIscik6TChNKT9sKE1bMV0sTVswXSxuYShNWzJdKSxNWzNdKTpsKE0sMjAwLHt9LFwiT0tcIik6Sy5wdXQoUyxRKSk7eChNKSYmKChNPWpkKGMudXJsKT9mKClbYy54c3JmQ29va2llTmFtZXx8YS54c3JmQ29va2llTmFtZV06dikmJihQW2MueHNyZkhlYWRlck5hbWV8fGEueHNyZkhlYWRlck5hbWVdPU0pLGUoYy5tZXRob2QsUyxkLGcsUCxjLnRpbWVvdXQsYy53aXRoQ3JlZGVudGlhbHMsYy5yZXNwb25zZVR5cGUpKTtyZXR1cm4gUX1mdW5jdGlvbiBzKGEsYil7MDxiLmxlbmd0aCYmKGErPSgtMT09YS5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIikrYik7XG5yZXR1cm4gYX12YXIgST1nKFwiJGh0dHBcIik7YS5wYXJhbVNlcmlhbGl6ZXI9RihhLnBhcmFtU2VyaWFsaXplcik/bC5nZXQoYS5wYXJhbVNlcmlhbGl6ZXIpOmEucGFyYW1TZXJpYWxpemVyO3ZhciBLPVtdO24oYyxmdW5jdGlvbihhKXtLLnVuc2hpZnQoRihhKT9sLmdldChhKTpsLmludm9rZShhKSl9KTttLnBlbmRpbmdSZXF1ZXN0cz1bXTsoZnVuY3Rpb24oYSl7bihhcmd1bWVudHMsZnVuY3Rpb24oYSl7bVthXT1mdW5jdGlvbihiLGMpe3JldHVybiBtKFQoe30sY3x8e30se21ldGhvZDphLHVybDpifSkpfX0pfSkoXCJnZXRcIixcImRlbGV0ZVwiLFwiaGVhZFwiLFwianNvbnBcIik7KGZ1bmN0aW9uKGEpe24oYXJndW1lbnRzLGZ1bmN0aW9uKGEpe21bYV09ZnVuY3Rpb24oYixjLGQpe3JldHVybiBtKFQoe30sZHx8e30se21ldGhvZDphLHVybDpiLGRhdGE6Y30pKX19KX0pKFwicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiKTttLmRlZmF1bHRzPWE7cmV0dXJuIG19XX1mdW5jdGlvbiBxZigpe3RoaXMuJGdldD1cbmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBPLlhNTEh0dHBSZXF1ZXN0fX19ZnVuY3Rpb24gcGYoKXt0aGlzLiRnZXQ9W1wiJGJyb3dzZXJcIixcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLFwiJHhockZhY3RvcnlcIixmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gZmcoYSxjLGEuZGVmZXIsYi5hbmd1bGFyLmNhbGxiYWNrcyxkWzBdKX1dfWZ1bmN0aW9uIGZnKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihhLGIsZCl7dmFyIGY9ZS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLG09bnVsbDtmLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtmLnNyYz1hO2YuYXN5bmM9ITA7bT1mdW5jdGlvbihhKXtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbSwhMSk7Zi5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixtLCExKTtlLmJvZHkucmVtb3ZlQ2hpbGQoZik7Zj1udWxsO3ZhciBnPS0xLEk9XCJ1bmtub3duXCI7YSYmKFwibG9hZFwiIT09YS50eXBlfHxjW2JdLmNhbGxlZHx8KGE9e3R5cGU6XCJlcnJvclwifSksXG5JPWEudHlwZSxnPVwiZXJyb3JcIj09PWEudHlwZT80MDQ6MjAwKTtkJiZkKGcsSSl9O2YuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixtLCExKTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLG0sITEpO2UuYm9keS5hcHBlbmRDaGlsZChmKTtyZXR1cm4gbX1yZXR1cm4gZnVuY3Rpb24oZSxoLGssbCxtLHIscyxJKXtmdW5jdGlvbiBLKCl7dyYmdygpO3UmJnUuYWJvcnQoKX1mdW5jdGlvbiB0KGIsYyxlLGYsZyl7eSh6KSYmZC5jYW5jZWwoeik7dz11PW51bGw7YihjLGUsZixnKTthLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoQil9YS4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50KCk7aD1ofHxhLnVybCgpO2lmKFwianNvbnBcIj09RyhlKSl7dmFyIHA9XCJfXCIrKGMuY291bnRlcisrKS50b1N0cmluZygzNik7Y1twXT1mdW5jdGlvbihhKXtjW3BdLmRhdGE9YTtjW3BdLmNhbGxlZD0hMH07dmFyIHc9ZihoLnJlcGxhY2UoXCJKU09OX0NBTExCQUNLXCIsXCJhbmd1bGFyLmNhbGxiYWNrcy5cIitcbnApLHAsZnVuY3Rpb24oYSxiKXt0KGwsYSxjW3BdLmRhdGEsXCJcIixiKTtjW3BdPUJ9KX1lbHNle3ZhciB1PWIoZSxoKTt1Lm9wZW4oZSxoLCEwKTtuKG0sZnVuY3Rpb24oYSxiKXt5KGEpJiZ1LnNldFJlcXVlc3RIZWFkZXIoYixhKX0pO3Uub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGE9dS5zdGF0dXNUZXh0fHxcIlwiLGI9XCJyZXNwb25zZVwiaW4gdT91LnJlc3BvbnNlOnUucmVzcG9uc2VUZXh0LGM9MTIyMz09PXUuc3RhdHVzPzIwNDp1LnN0YXR1czswPT09YyYmKGM9Yj8yMDA6XCJmaWxlXCI9PXphKGgpLnByb3RvY29sPzQwNDowKTt0KGwsYyxiLHUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksYSl9O2U9ZnVuY3Rpb24oKXt0KGwsLTEsbnVsbCxudWxsLFwiXCIpfTt1Lm9uZXJyb3I9ZTt1Lm9uYWJvcnQ9ZTtzJiYodS53aXRoQ3JlZGVudGlhbHM9ITApO2lmKEkpdHJ5e3UucmVzcG9uc2VUeXBlPUl9Y2F0Y2gobGEpe2lmKFwianNvblwiIT09SSl0aHJvdyBsYTt9dS5zZW5kKHgoayk/bnVsbDprKX1pZigwPFxucil2YXIgej1kKEsscik7ZWxzZSByJiZEKHIudGhlbikmJnIudGhlbihLKX19ZnVuY3Rpb24ga2YoKXt2YXIgYT1cInt7XCIsYj1cIn19XCI7dGhpcy5zdGFydFN5bWJvbD1mdW5jdGlvbihiKXtyZXR1cm4gYj8oYT1iLHRoaXMpOmF9O3RoaXMuZW5kU3ltYm9sPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PVtcIiRwYXJzZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRzY2VcIixmdW5jdGlvbihkLGMsZSl7ZnVuY3Rpb24gZihhKXtyZXR1cm5cIlxcXFxcXFxcXFxcXFwiK2F9ZnVuY3Rpb24gZyhjKXtyZXR1cm4gYy5yZXBsYWNlKHIsYSkucmVwbGFjZShzLGIpfWZ1bmN0aW9uIGgoYSxiLGMsZCl7dmFyIGU7cmV0dXJuIGU9YS4kd2F0Y2goZnVuY3Rpb24oYSl7ZSgpO3JldHVybiBkKGEpfSxiLGMpfWZ1bmN0aW9uIGsoZixrLHIscCl7ZnVuY3Rpb24gcyhhKXt0cnl7dmFyIGI9YTthPXI/ZS5nZXRUcnVzdGVkKHIsYik6ZS52YWx1ZU9mKGIpO3ZhciBkO2lmKHAmJiF5KGEpKWQ9XG5hO2Vsc2UgaWYobnVsbD09YSlkPVwiXCI7ZWxzZXtzd2l0Y2godHlwZW9mIGEpe2Nhc2UgXCJzdHJpbmdcIjpicmVhaztjYXNlIFwibnVtYmVyXCI6YT1cIlwiK2E7YnJlYWs7ZGVmYXVsdDphPWViKGEpfWQ9YX1yZXR1cm4gZH1jYXRjaChnKXtjKEthLmludGVycihmLGcpKX19aWYoIWYubGVuZ3RofHwtMT09PWYuaW5kZXhPZihhKSl7dmFyIHU7a3x8KGs9ZyhmKSx1PWJhKGspLHUuZXhwPWYsdS5leHByZXNzaW9ucz1bXSx1LiQkd2F0Y2hEZWxlZ2F0ZT1oKTtyZXR1cm4gdX1wPSEhcDt2YXIgbix6LEE9MCxRPVtdLCQ9W107dT1mLmxlbmd0aDtmb3IodmFyIE09W10sUD1bXTtBPHU7KWlmKC0xIT0obj1mLmluZGV4T2YoYSxBKSkmJi0xIT0oej1mLmluZGV4T2YoYixuK2wpKSlBIT09biYmTS5wdXNoKGcoZi5zdWJzdHJpbmcoQSxuKSkpLEE9Zi5zdWJzdHJpbmcobitsLHopLFEucHVzaChBKSwkLnB1c2goZChBLHMpKSxBPXorbSxQLnB1c2goTS5sZW5ndGgpLE0ucHVzaChcIlwiKTtlbHNle0EhPT11JiZcbk0ucHVzaChnKGYuc3Vic3RyaW5nKEEpKSk7YnJlYWt9ciYmMTxNLmxlbmd0aCYmS2EudGhyb3dOb2NvbmNhdChmKTtpZigha3x8US5sZW5ndGgpe3ZhciBTPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9US5sZW5ndGg7YjxjO2IrKyl7aWYocCYmeChhW2JdKSlyZXR1cm47TVtQW2JdXT1hW2JdfXJldHVybiBNLmpvaW4oXCJcIil9O3JldHVybiBUKGZ1bmN0aW9uKGEpe3ZhciBiPTAsZD1RLmxlbmd0aCxlPUFycmF5KGQpO3RyeXtmb3IoO2I8ZDtiKyspZVtiXT0kW2JdKGEpO3JldHVybiBTKGUpfWNhdGNoKGcpe2MoS2EuaW50ZXJyKGYsZykpfX0se2V4cDpmLGV4cHJlc3Npb25zOlEsJCR3YXRjaERlbGVnYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIGEuJHdhdGNoR3JvdXAoJCxmdW5jdGlvbihkLGUpe3ZhciBmPVMoZCk7RChiKSYmYi5jYWxsKHRoaXMsZixkIT09ZT9jOmYsYSk7Yz1mfSl9fSl9fXZhciBsPWEubGVuZ3RoLG09Yi5sZW5ndGgscj1uZXcgUmVnRXhwKGEucmVwbGFjZSgvLi9nLFxuZiksXCJnXCIpLHM9bmV3IFJlZ0V4cChiLnJlcGxhY2UoLy4vZyxmKSxcImdcIik7ay5zdGFydFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBhfTtrLmVuZFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBifTtyZXR1cm4ga31dfWZ1bmN0aW9uIGxmKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiR3aW5kb3dcIixcIiRxXCIsXCIkJHFcIixcIiRicm93c2VyXCIsZnVuY3Rpb24oYSxiLGQsYyxlKXtmdW5jdGlvbiBmKGYsayxsLG0pe2Z1bmN0aW9uIHIoKXtzP2YuYXBwbHkobnVsbCxJKTpmKHApfXZhciBzPTQ8YXJndW1lbnRzLmxlbmd0aCxJPXM/d2EuY2FsbChhcmd1bWVudHMsNCk6W10sSz1iLnNldEludGVydmFsLHQ9Yi5jbGVhckludGVydmFsLHA9MCx3PXkobSkmJiFtLHU9KHc/YzpkKS5kZWZlcigpLG49dS5wcm9taXNlO2w9eShsKT9sOjA7bi4kJGludGVydmFsSWQ9SyhmdW5jdGlvbigpe3c/ZS5kZWZlcihyKTphLiRldmFsQXN5bmMocik7dS5ub3RpZnkocCsrKTswPGwmJnA+PWwmJih1LnJlc29sdmUocCksXG50KG4uJCRpbnRlcnZhbElkKSxkZWxldGUgZ1tuLiQkaW50ZXJ2YWxJZF0pO3d8fGEuJGFwcGx5KCl9LGspO2dbbi4kJGludGVydmFsSWRdPXU7cmV0dXJuIG59dmFyIGc9e307Zi5jYW5jZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuJCRpbnRlcnZhbElkIGluIGc/KGdbYS4kJGludGVydmFsSWRdLnJlamVjdChcImNhbmNlbGVkXCIpLGIuY2xlYXJJbnRlcnZhbChhLiQkaW50ZXJ2YWxJZCksZGVsZXRlIGdbYS4kJGludGVydmFsSWRdLCEwKTohMX07cmV0dXJuIGZ9XX1mdW5jdGlvbiBlYyhhKXthPWEuc3BsaXQoXCIvXCIpO2Zvcih2YXIgYj1hLmxlbmd0aDtiLS07KWFbYl09cWIoYVtiXSk7cmV0dXJuIGEuam9pbihcIi9cIil9ZnVuY3Rpb24ga2QoYSxiKXt2YXIgZD16YShhKTtiLiQkcHJvdG9jb2w9ZC5wcm90b2NvbDtiLiQkaG9zdD1kLmhvc3RuYW1lO2IuJCRwb3J0PWNhKGQucG9ydCl8fGdnW2QucHJvdG9jb2xdfHxudWxsfWZ1bmN0aW9uIGxkKGEsYil7dmFyIGQ9XCIvXCIhPT1hLmNoYXJBdCgwKTtcbmQmJihhPVwiL1wiK2EpO3ZhciBjPXphKGEpO2IuJCRwYXRoPWRlY29kZVVSSUNvbXBvbmVudChkJiZcIi9cIj09PWMucGF0aG5hbWUuY2hhckF0KDApP2MucGF0aG5hbWUuc3Vic3RyaW5nKDEpOmMucGF0aG5hbWUpO2IuJCRzZWFyY2g9emMoYy5zZWFyY2gpO2IuJCRoYXNoPWRlY29kZVVSSUNvbXBvbmVudChjLmhhc2gpO2IuJCRwYXRoJiZcIi9cIiE9Yi4kJHBhdGguY2hhckF0KDApJiYoYi4kJHBhdGg9XCIvXCIrYi4kJHBhdGgpfWZ1bmN0aW9uIHBhKGEsYil7aWYoMD09PWIuaW5kZXhPZihhKSlyZXR1cm4gYi5zdWJzdHIoYS5sZW5ndGgpfWZ1bmN0aW9uIElhKGEpe3ZhciBiPWEuaW5kZXhPZihcIiNcIik7cmV0dXJuLTE9PWI/YTphLnN1YnN0cigwLGIpfWZ1bmN0aW9uIGtiKGEpe3JldHVybiBhLnJlcGxhY2UoLygjLispfCMkLyxcIiQxXCIpfWZ1bmN0aW9uIGZjKGEsYixkKXt0aGlzLiQkaHRtbDU9ITA7ZD1kfHxcIlwiO2tkKGEsdGhpcyk7dGhpcy4kJHBhcnNlPWZ1bmN0aW9uKGEpe3ZhciBkPXBhKGIsXG5hKTtpZighRihkKSl0aHJvdyBHYihcImlwdGhwcmZ4XCIsYSxiKTtsZChkLHRoaXMpO3RoaXMuJCRwYXRofHwodGhpcy4kJHBhdGg9XCIvXCIpO3RoaXMuJCRjb21wb3NlKCl9O3RoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGE9VWIodGhpcy4kJHNlYXJjaCksZD10aGlzLiQkaGFzaD9cIiNcIitxYih0aGlzLiQkaGFzaCk6XCJcIjt0aGlzLiQkdXJsPWVjKHRoaXMuJCRwYXRoKSsoYT9cIj9cIithOlwiXCIpK2Q7dGhpcy4kJGFic1VybD1iK3RoaXMuJCR1cmwuc3Vic3RyKDEpfTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGMsZSl7aWYoZSYmXCIjXCI9PT1lWzBdKXJldHVybiB0aGlzLmhhc2goZS5zbGljZSgxKSksITA7dmFyIGYsZzt5KGY9cGEoYSxjKSk/KGc9ZixnPXkoZj1wYShkLGYpKT9iKyhwYShcIi9cIixmKXx8Zik6YStnKTp5KGY9cGEoYixjKSk/Zz1iK2Y6Yj09YytcIi9cIiYmKGc9Yik7ZyYmdGhpcy4kJHBhcnNlKGcpO3JldHVybiEhZ319ZnVuY3Rpb24gZ2MoYSxiLGQpe2tkKGEsdGhpcyk7XG50aGlzLiQkcGFyc2U9ZnVuY3Rpb24oYyl7dmFyIGU9cGEoYSxjKXx8cGEoYixjKSxmO3goZSl8fFwiI1wiIT09ZS5jaGFyQXQoMCk/dGhpcy4kJGh0bWw1P2Y9ZTooZj1cIlwiLHgoZSkmJihhPWMsdGhpcy5yZXBsYWNlKCkpKTooZj1wYShkLGUpLHgoZikmJihmPWUpKTtsZChmLHRoaXMpO2M9dGhpcy4kJHBhdGg7dmFyIGU9YSxnPS9eXFwvW0EtWl06KFxcLy4qKS87MD09PWYuaW5kZXhPZihlKSYmKGY9Zi5yZXBsYWNlKGUsXCJcIikpO2cuZXhlYyhmKXx8KGM9KGY9Zy5leGVjKGMpKT9mWzFdOmMpO3RoaXMuJCRwYXRoPWM7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYj1VYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoP1wiI1wiK3FiKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9ZWModGhpcy4kJHBhdGgpKyhiP1wiP1wiK2I6XCJcIikrZTt0aGlzLiQkYWJzVXJsPWErKHRoaXMuJCR1cmw/ZCt0aGlzLiQkdXJsOlwiXCIpfTt0aGlzLiQkcGFyc2VMaW5rVXJsPVxuZnVuY3Rpb24oYixkKXtyZXR1cm4gSWEoYSk9PUlhKGIpPyh0aGlzLiQkcGFyc2UoYiksITApOiExfX1mdW5jdGlvbiBtZChhLGIsZCl7dGhpcy4kJGh0bWw1PSEwO2djLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGMsZSl7aWYoZSYmXCIjXCI9PT1lWzBdKXJldHVybiB0aGlzLmhhc2goZS5zbGljZSgxKSksITA7dmFyIGYsZzthPT1JYShjKT9mPWM6KGc9cGEoYixjKSk/Zj1hK2QrZzpiPT09YytcIi9cIiYmKGY9Yik7ZiYmdGhpcy4kJHBhcnNlKGYpO3JldHVybiEhZn07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYj1VYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoP1wiI1wiK3FiKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9ZWModGhpcy4kJHBhdGgpKyhiP1wiP1wiK2I6XCJcIikrZTt0aGlzLiQkYWJzVXJsPWErZCt0aGlzLiQkdXJsfX1mdW5jdGlvbiBIYihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1thXX19ZnVuY3Rpb24gbmQoYSxcbmIpe3JldHVybiBmdW5jdGlvbihkKXtpZih4KGQpKXJldHVybiB0aGlzW2FdO3RoaXNbYV09YihkKTt0aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfX1mdW5jdGlvbiByZigpe3ZhciBhPVwiXCIsYj17ZW5hYmxlZDohMSxyZXF1aXJlQmFzZTohMCxyZXdyaXRlTGlua3M6ITB9O3RoaXMuaGFzaFByZWZpeD1mdW5jdGlvbihiKXtyZXR1cm4geShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuaHRtbDVNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBOYShhKT8oYi5lbmFibGVkPWEsdGhpcyk6RShhKT8oTmEoYS5lbmFibGVkKSYmKGIuZW5hYmxlZD1hLmVuYWJsZWQpLE5hKGEucmVxdWlyZUJhc2UpJiYoYi5yZXF1aXJlQmFzZT1hLnJlcXVpcmVCYXNlKSxOYShhLnJld3JpdGVMaW5rcykmJihiLnJld3JpdGVMaW5rcz1hLnJld3JpdGVMaW5rcyksdGhpcyk6Yn07dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiRicm93c2VyXCIsXCIkc25pZmZlclwiLFwiJHJvb3RFbGVtZW50XCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZCxcbmMsZSxmLGcpe2Z1bmN0aW9uIGgoYSxiLGQpe3ZhciBlPWwudXJsKCksZj1sLiQkc3RhdGU7dHJ5e2MudXJsKGEsYixkKSxsLiQkc3RhdGU9Yy5zdGF0ZSgpfWNhdGNoKGcpe3Rocm93IGwudXJsKGUpLGwuJCRzdGF0ZT1mLGc7fX1mdW5jdGlvbiBrKGEsYil7ZC4kYnJvYWRjYXN0KFwiJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1wiLGwuYWJzVXJsKCksYSxsLiQkc3RhdGUsYil9dmFyIGwsbTttPWMuYmFzZUhyZWYoKTt2YXIgcj1jLnVybCgpLHM7aWYoYi5lbmFibGVkKXtpZighbSYmYi5yZXF1aXJlQmFzZSl0aHJvdyBHYihcIm5vYmFzZVwiKTtzPXIuc3Vic3RyaW5nKDAsci5pbmRleE9mKFwiL1wiLHIuaW5kZXhPZihcIi8vXCIpKzIpKSsobXx8XCIvXCIpO209ZS5oaXN0b3J5P2ZjOm1kfWVsc2Ugcz1JYShyKSxtPWdjO3ZhciBJPXMuc3Vic3RyKDAsSWEocykubGFzdEluZGV4T2YoXCIvXCIpKzEpO2w9bmV3IG0ocyxJLFwiI1wiK2EpO2wuJCRwYXJzZUxpbmtVcmwocixyKTtsLiQkc3RhdGU9Yy5zdGF0ZSgpO1xudmFyIG49L15cXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTtmLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtpZihiLnJld3JpdGVMaW5rcyYmIWEuY3RybEtleSYmIWEubWV0YUtleSYmIWEuc2hpZnRLZXkmJjIhPWEud2hpY2gmJjIhPWEuYnV0dG9uKXtmb3IodmFyIGU9QyhhLnRhcmdldCk7XCJhXCIhPT1yYShlWzBdKTspaWYoZVswXT09PWZbMF18fCEoZT1lLnBhcmVudCgpKVswXSlyZXR1cm47dmFyIGg9ZS5wcm9wKFwiaHJlZlwiKSxrPWUuYXR0cihcImhyZWZcIil8fGUuYXR0cihcInhsaW5rOmhyZWZcIik7RShoKSYmXCJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXVwiPT09aC50b1N0cmluZygpJiYoaD16YShoLmFuaW1WYWwpLmhyZWYpO24udGVzdChoKXx8IWh8fGUuYXR0cihcInRhcmdldFwiKXx8YS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8IWwuJCRwYXJzZUxpbmtVcmwoaCxrKXx8KGEucHJldmVudERlZmF1bHQoKSxsLmFic1VybCgpIT1jLnVybCgpJiYoZC4kYXBwbHkoKSxnLmFuZ3VsYXJbXCJmZi02ODQyMDgtcHJldmVudERlZmF1bHRcIl09XG4hMCkpfX0pO2tiKGwuYWJzVXJsKCkpIT1rYihyKSYmYy51cmwobC5hYnNVcmwoKSwhMCk7dmFyIHQ9ITA7Yy5vblVybENoYW5nZShmdW5jdGlvbihhLGIpe3gocGEoSSxhKSk/Zy5sb2NhdGlvbi5ocmVmPWE6KGQuJGV2YWxBc3luYyhmdW5jdGlvbigpe3ZhciBjPWwuYWJzVXJsKCksZT1sLiQkc3RhdGUsZjthPWtiKGEpO2wuJCRwYXJzZShhKTtsLiQkc3RhdGU9YjtmPWQuJGJyb2FkY2FzdChcIiRsb2NhdGlvbkNoYW5nZVN0YXJ0XCIsYSxjLGIsZSkuZGVmYXVsdFByZXZlbnRlZDtsLmFic1VybCgpPT09YSYmKGY/KGwuJCRwYXJzZShjKSxsLiQkc3RhdGU9ZSxoKGMsITEsZSkpOih0PSExLGsoYyxlKSkpfSksZC4kJHBoYXNlfHxkLiRkaWdlc3QoKSl9KTtkLiR3YXRjaChmdW5jdGlvbigpe3ZhciBhPWtiKGMudXJsKCkpLGI9a2IobC5hYnNVcmwoKSksZj1jLnN0YXRlKCksZz1sLiQkcmVwbGFjZSxtPWEhPT1ifHxsLiQkaHRtbDUmJmUuaGlzdG9yeSYmZiE9PWwuJCRzdGF0ZTtpZih0fHxcbm0pdD0hMSxkLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgYj1sLmFic1VybCgpLGM9ZC4kYnJvYWRjYXN0KFwiJGxvY2F0aW9uQ2hhbmdlU3RhcnRcIixiLGEsbC4kJHN0YXRlLGYpLmRlZmF1bHRQcmV2ZW50ZWQ7bC5hYnNVcmwoKT09PWImJihjPyhsLiQkcGFyc2UoYSksbC4kJHN0YXRlPWYpOihtJiZoKGIsZyxmPT09bC4kJHN0YXRlP251bGw6bC4kJHN0YXRlKSxrKGEsZikpKX0pO2wuJCRyZXBsYWNlPSExfSk7cmV0dXJuIGx9XX1mdW5jdGlvbiBzZigpe3ZhciBhPSEwLGI9dGhpczt0aGlzLmRlYnVnRW5hYmxlZD1mdW5jdGlvbihiKXtyZXR1cm4geShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuJGdldD1bXCIkd2luZG93XCIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYyhhKXthIGluc3RhbmNlb2YgRXJyb3ImJihhLnN0YWNrP2E9YS5tZXNzYWdlJiYtMT09PWEuc3RhY2suaW5kZXhPZihhLm1lc3NhZ2UpP1wiRXJyb3I6IFwiK2EubWVzc2FnZStcIlxcblwiK2Euc3RhY2s6YS5zdGFjazphLnNvdXJjZVVSTCYmXG4oYT1hLm1lc3NhZ2UrXCJcXG5cIithLnNvdXJjZVVSTCtcIjpcIithLmxpbmUpKTtyZXR1cm4gYX1mdW5jdGlvbiBlKGEpe3ZhciBiPWQuY29uc29sZXx8e30sZT1iW2FdfHxiLmxvZ3x8QjthPSExO3RyeXthPSEhZS5hcHBseX1jYXRjaChrKXt9cmV0dXJuIGE/ZnVuY3Rpb24oKXt2YXIgYT1bXTtuKGFyZ3VtZW50cyxmdW5jdGlvbihiKXthLnB1c2goYyhiKSl9KTtyZXR1cm4gZS5hcHBseShiLGEpfTpmdW5jdGlvbihhLGIpe2UoYSxudWxsPT1iP1wiXCI6Yil9fXJldHVybntsb2c6ZShcImxvZ1wiKSxpbmZvOmUoXCJpbmZvXCIpLHdhcm46ZShcIndhcm5cIiksZXJyb3I6ZShcImVycm9yXCIpLGRlYnVnOmZ1bmN0aW9uKCl7dmFyIGM9ZShcImRlYnVnXCIpO3JldHVybiBmdW5jdGlvbigpe2EmJmMuYXBwbHkoYixhcmd1bWVudHMpfX0oKX19XX1mdW5jdGlvbiBYYShhLGIpe2lmKFwiX19kZWZpbmVHZXR0ZXJfX1wiPT09YXx8XCJfX2RlZmluZVNldHRlcl9fXCI9PT1hfHxcIl9fbG9va3VwR2V0dGVyX19cIj09PWF8fFwiX19sb29rdXBTZXR0ZXJfX1wiPT09XG5hfHxcIl9fcHJvdG9fX1wiPT09YSl0aHJvdyBrYShcImlzZWNmbGRcIixiKTtyZXR1cm4gYX1mdW5jdGlvbiBoZyhhKXtyZXR1cm4gYStcIlwifWZ1bmN0aW9uIEFhKGEsYil7aWYoYSl7aWYoYS5jb25zdHJ1Y3Rvcj09PWEpdGhyb3cga2EoXCJpc2VjZm5cIixiKTtpZihhLndpbmRvdz09PWEpdGhyb3cga2EoXCJpc2Vjd2luZG93XCIsYik7aWYoYS5jaGlsZHJlbiYmKGEubm9kZU5hbWV8fGEucHJvcCYmYS5hdHRyJiZhLmZpbmQpKXRocm93IGthKFwiaXNlY2RvbVwiLGIpO2lmKGE9PT1PYmplY3QpdGhyb3cga2EoXCJpc2Vjb2JqXCIsYik7fXJldHVybiBhfWZ1bmN0aW9uIG9kKGEsYil7aWYoYSl7aWYoYS5jb25zdHJ1Y3Rvcj09PWEpdGhyb3cga2EoXCJpc2VjZm5cIixiKTtpZihhPT09aWd8fGE9PT1qZ3x8YT09PWtnKXRocm93IGthKFwiaXNlY2ZmXCIsYik7fX1mdW5jdGlvbiBJYihhLGIpe2lmKGEmJihhPT09KDApLmNvbnN0cnVjdG9yfHxhPT09KCExKS5jb25zdHJ1Y3Rvcnx8YT09PVwiXCIuY29uc3RydWN0b3J8fFxuYT09PXt9LmNvbnN0cnVjdG9yfHxhPT09W10uY29uc3RydWN0b3J8fGE9PT1GdW5jdGlvbi5jb25zdHJ1Y3RvcikpdGhyb3cga2EoXCJpc2VjYWZcIixiKTt9ZnVuY3Rpb24gbGcoYSxiKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGE/YTpifWZ1bmN0aW9uIHBkKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhP2I6XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBiP2E6YStifWZ1bmN0aW9uIFIoYSxiKXt2YXIgZCxjO3N3aXRjaChhLnR5cGUpe2Nhc2UgcS5Qcm9ncmFtOmQ9ITA7bihhLmJvZHksZnVuY3Rpb24oYSl7UihhLmV4cHJlc3Npb24sYik7ZD1kJiZhLmV4cHJlc3Npb24uY29uc3RhbnR9KTthLmNvbnN0YW50PWQ7YnJlYWs7Y2FzZSBxLkxpdGVyYWw6YS5jb25zdGFudD0hMDthLnRvV2F0Y2g9W107YnJlYWs7Y2FzZSBxLlVuYXJ5RXhwcmVzc2lvbjpSKGEuYXJndW1lbnQsYik7YS5jb25zdGFudD1hLmFyZ3VtZW50LmNvbnN0YW50O2EudG9XYXRjaD1hLmFyZ3VtZW50LnRvV2F0Y2g7XG5icmVhaztjYXNlIHEuQmluYXJ5RXhwcmVzc2lvbjpSKGEubGVmdCxiKTtSKGEucmlnaHQsYik7YS5jb25zdGFudD1hLmxlZnQuY29uc3RhbnQmJmEucmlnaHQuY29uc3RhbnQ7YS50b1dhdGNoPWEubGVmdC50b1dhdGNoLmNvbmNhdChhLnJpZ2h0LnRvV2F0Y2gpO2JyZWFrO2Nhc2UgcS5Mb2dpY2FsRXhwcmVzc2lvbjpSKGEubGVmdCxiKTtSKGEucmlnaHQsYik7YS5jb25zdGFudD1hLmxlZnQuY29uc3RhbnQmJmEucmlnaHQuY29uc3RhbnQ7YS50b1dhdGNoPWEuY29uc3RhbnQ/W106W2FdO2JyZWFrO2Nhc2UgcS5Db25kaXRpb25hbEV4cHJlc3Npb246UihhLnRlc3QsYik7UihhLmFsdGVybmF0ZSxiKTtSKGEuY29uc2VxdWVudCxiKTthLmNvbnN0YW50PWEudGVzdC5jb25zdGFudCYmYS5hbHRlcm5hdGUuY29uc3RhbnQmJmEuY29uc2VxdWVudC5jb25zdGFudDthLnRvV2F0Y2g9YS5jb25zdGFudD9bXTpbYV07YnJlYWs7Y2FzZSBxLklkZW50aWZpZXI6YS5jb25zdGFudD0hMTthLnRvV2F0Y2g9XG5bYV07YnJlYWs7Y2FzZSBxLk1lbWJlckV4cHJlc3Npb246UihhLm9iamVjdCxiKTthLmNvbXB1dGVkJiZSKGEucHJvcGVydHksYik7YS5jb25zdGFudD1hLm9iamVjdC5jb25zdGFudCYmKCFhLmNvbXB1dGVkfHxhLnByb3BlcnR5LmNvbnN0YW50KTthLnRvV2F0Y2g9W2FdO2JyZWFrO2Nhc2UgcS5DYWxsRXhwcmVzc2lvbjpkPWEuZmlsdGVyPyFiKGEuY2FsbGVlLm5hbWUpLiRzdGF0ZWZ1bDohMTtjPVtdO24oYS5hcmd1bWVudHMsZnVuY3Rpb24oYSl7UihhLGIpO2Q9ZCYmYS5jb25zdGFudDthLmNvbnN0YW50fHxjLnB1c2guYXBwbHkoYyxhLnRvV2F0Y2gpfSk7YS5jb25zdGFudD1kO2EudG9XYXRjaD1hLmZpbHRlciYmIWIoYS5jYWxsZWUubmFtZSkuJHN0YXRlZnVsP2M6W2FdO2JyZWFrO2Nhc2UgcS5Bc3NpZ25tZW50RXhwcmVzc2lvbjpSKGEubGVmdCxiKTtSKGEucmlnaHQsYik7YS5jb25zdGFudD1hLmxlZnQuY29uc3RhbnQmJmEucmlnaHQuY29uc3RhbnQ7YS50b1dhdGNoPVthXTtcbmJyZWFrO2Nhc2UgcS5BcnJheUV4cHJlc3Npb246ZD0hMDtjPVtdO24oYS5lbGVtZW50cyxmdW5jdGlvbihhKXtSKGEsYik7ZD1kJiZhLmNvbnN0YW50O2EuY29uc3RhbnR8fGMucHVzaC5hcHBseShjLGEudG9XYXRjaCl9KTthLmNvbnN0YW50PWQ7YS50b1dhdGNoPWM7YnJlYWs7Y2FzZSBxLk9iamVjdEV4cHJlc3Npb246ZD0hMDtjPVtdO24oYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe1IoYS52YWx1ZSxiKTtkPWQmJmEudmFsdWUuY29uc3RhbnQ7YS52YWx1ZS5jb25zdGFudHx8Yy5wdXNoLmFwcGx5KGMsYS52YWx1ZS50b1dhdGNoKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YzticmVhaztjYXNlIHEuVGhpc0V4cHJlc3Npb246YS5jb25zdGFudD0hMTthLnRvV2F0Y2g9W107YnJlYWs7Y2FzZSBxLkxvY2Fsc0V4cHJlc3Npb246YS5jb25zdGFudD0hMSxhLnRvV2F0Y2g9W119fWZ1bmN0aW9uIHFkKGEpe2lmKDE9PWEubGVuZ3RoKXthPWFbMF0uZXhwcmVzc2lvbjt2YXIgYj1hLnRvV2F0Y2g7XG5yZXR1cm4gMSE9PWIubGVuZ3RoP2I6YlswXSE9PWE/Yjp2fX1mdW5jdGlvbiByZChhKXtyZXR1cm4gYS50eXBlPT09cS5JZGVudGlmaWVyfHxhLnR5cGU9PT1xLk1lbWJlckV4cHJlc3Npb259ZnVuY3Rpb24gc2QoYSl7aWYoMT09PWEuYm9keS5sZW5ndGgmJnJkKGEuYm9keVswXS5leHByZXNzaW9uKSlyZXR1cm57dHlwZTpxLkFzc2lnbm1lbnRFeHByZXNzaW9uLGxlZnQ6YS5ib2R5WzBdLmV4cHJlc3Npb24scmlnaHQ6e3R5cGU6cS5OR1ZhbHVlUGFyYW1ldGVyfSxvcGVyYXRvcjpcIj1cIn19ZnVuY3Rpb24gdGQoYSl7cmV0dXJuIDA9PT1hLmJvZHkubGVuZ3RofHwxPT09YS5ib2R5Lmxlbmd0aCYmKGEuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT1xLkxpdGVyYWx8fGEuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT1xLkFycmF5RXhwcmVzc2lvbnx8YS5ib2R5WzBdLmV4cHJlc3Npb24udHlwZT09PXEuT2JqZWN0RXhwcmVzc2lvbil9ZnVuY3Rpb24gdWQoYSxiKXt0aGlzLmFzdEJ1aWxkZXI9XG5hO3RoaXMuJGZpbHRlcj1ifWZ1bmN0aW9uIHZkKGEsYil7dGhpcy5hc3RCdWlsZGVyPWE7dGhpcy4kZmlsdGVyPWJ9ZnVuY3Rpb24gSmIoYSl7cmV0dXJuXCJjb25zdHJ1Y3RvclwiPT1hfWZ1bmN0aW9uIGhjKGEpe3JldHVybiBEKGEudmFsdWVPZik/YS52YWx1ZU9mKCk6bWcuY2FsbChhKX1mdW5jdGlvbiB0Zigpe3ZhciBhPVooKSxiPVooKTt0aGlzLiRnZXQ9W1wiJGZpbHRlclwiLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoYyxmLHIpe3ZhciB1LG4sejtyPXJ8fEs7c3dpdGNoKHR5cGVvZiBjKXtjYXNlIFwic3RyaW5nXCI6ej1jPWMudHJpbSgpO3ZhciBBPXI/YjphO3U9QVt6XTtpZighdSl7XCI6XCI9PT1jLmNoYXJBdCgwKSYmXCI6XCI9PT1jLmNoYXJBdCgxKSYmKG49ITAsYz1jLnN1YnN0cmluZygyKSk7dT1yP0k6czt2YXIgUT1uZXcgaWModSk7dT0obmV3IGpjKFEsZCx1KSkucGFyc2UoYyk7dS5jb25zdGFudD91LiQkd2F0Y2hEZWxlZ2F0ZT1sOm4/dS4kJHdhdGNoRGVsZWdhdGU9dS5saXRlcmFsP1xuazpoOnUuaW5wdXRzJiYodS4kJHdhdGNoRGVsZWdhdGU9Zyk7ciYmKHU9ZSh1KSk7QVt6XT11fXJldHVybiBtKHUsZik7Y2FzZSBcImZ1bmN0aW9uXCI6cmV0dXJuIG0oYyxmKTtkZWZhdWx0OnJldHVybiBtKEIsZil9fWZ1bmN0aW9uIGUoYSl7ZnVuY3Rpb24gYihjLGQsZSxmKXt2YXIgZz1LO0s9ITA7dHJ5e3JldHVybiBhKGMsZCxlLGYpfWZpbmFsbHl7Sz1nfX1pZighYSlyZXR1cm4gYTtiLiQkd2F0Y2hEZWxlZ2F0ZT1hLiQkd2F0Y2hEZWxlZ2F0ZTtiLmFzc2lnbj1lKGEuYXNzaWduKTtiLmNvbnN0YW50PWEuY29uc3RhbnQ7Yi5saXRlcmFsPWEubGl0ZXJhbDtmb3IodmFyIGM9MDthLmlucHV0cyYmYzxhLmlucHV0cy5sZW5ndGg7KytjKWEuaW5wdXRzW2NdPWUoYS5pbnB1dHNbY10pO2IuaW5wdXRzPWEuaW5wdXRzO3JldHVybiBifWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gbnVsbD09YXx8bnVsbD09Yj9hPT09YjpcIm9iamVjdFwiPT09dHlwZW9mIGEmJihhPWhjKGEpLFwib2JqZWN0XCI9PT1cbnR5cGVvZiBhKT8hMTphPT09Ynx8YSE9PWEmJmIhPT1ifWZ1bmN0aW9uIGcoYSxiLGMsZCxlKXt2YXIgZz1kLmlucHV0cyxoO2lmKDE9PT1nLmxlbmd0aCl7dmFyIGs9ZixnPWdbMF07cmV0dXJuIGEuJHdhdGNoKGZ1bmN0aW9uKGEpe3ZhciBiPWcoYSk7ZihiLGspfHwoaD1kKGEsdix2LFtiXSksaz1iJiZoYyhiKSk7cmV0dXJuIGh9LGIsYyxlKX1mb3IodmFyIGw9W10sbT1bXSxyPTAscz1nLmxlbmd0aDtyPHM7cisrKWxbcl09ZixtW3JdPW51bGw7cmV0dXJuIGEuJHdhdGNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0hMSxjPTAsZT1nLmxlbmd0aDtjPGU7YysrKXt2YXIgaz1nW2NdKGEpO2lmKGJ8fChiPSFmKGssbFtjXSkpKW1bY109ayxsW2NdPWsmJmhjKGspfWImJihoPWQoYSx2LHYsbSkpO3JldHVybiBofSxiLGMsZSl9ZnVuY3Rpb24gaChhLGIsYyxkKXt2YXIgZSxmO3JldHVybiBlPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpfSxmdW5jdGlvbihhLGMsZCl7Zj1hO1xuRChiKSYmYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7eShhKSYmZC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXt5KGYpJiZlKCl9KX0sYyl9ZnVuY3Rpb24gayhhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPSEwO24oYSxmdW5jdGlvbihhKXt5KGEpfHwoYj0hMSl9KTtyZXR1cm4gYn12YXIgZixnO3JldHVybiBmPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpfSxmdW5jdGlvbihhLGMsZCl7Zz1hO0QoYikmJmIuY2FsbCh0aGlzLGEsYyxkKTtlKGEpJiZkLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2UoZykmJmYoKX0pfSxjKX1mdW5jdGlvbiBsKGEsYixjLGQpe3ZhciBlO3JldHVybiBlPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe2UoKTtyZXR1cm4gZChhKX0sYixjKX1mdW5jdGlvbiBtKGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9YS4kJHdhdGNoRGVsZWdhdGUsZD0hMSxjPWMhPT1rJiZjIT09aD9mdW5jdGlvbihjLGUsZixnKXtmPWQmJmc/Z1swXTphKGMsZSxmLGcpO3JldHVybiBiKGYsXG5jLGUpfTpmdW5jdGlvbihjLGQsZSxmKXtlPWEoYyxkLGUsZik7Yz1iKGUsYyxkKTtyZXR1cm4geShlKT9jOmV9O2EuJCR3YXRjaERlbGVnYXRlJiZhLiQkd2F0Y2hEZWxlZ2F0ZSE9PWc/Yy4kJHdhdGNoRGVsZWdhdGU9YS4kJHdhdGNoRGVsZWdhdGU6Yi4kc3RhdGVmdWx8fChjLiQkd2F0Y2hEZWxlZ2F0ZT1nLGQ9IWEuaW5wdXRzLGMuaW5wdXRzPWEuaW5wdXRzP2EuaW5wdXRzOlthXSk7cmV0dXJuIGN9dmFyIHI9RWEoKS5ub1Vuc2FmZUV2YWwscz17Y3NwOnIsZXhwZW5zaXZlQ2hlY2tzOiExfSxJPXtjc3A6cixleHBlbnNpdmVDaGVja3M6ITB9LEs9ITE7Yy4kJHJ1bm5pbmdFeHBlbnNpdmVDaGVja3M9ZnVuY3Rpb24oKXtyZXR1cm4gS307cmV0dXJuIGN9XX1mdW5jdGlvbiB2Zigpe3RoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHdkKGZ1bmN0aW9uKGIpe2EuJGV2YWxBc3luYyhiKX0sYil9XX1mdW5jdGlvbiB3Zigpe3RoaXMuJGdldD1cbltcIiRicm93c2VyXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHdkKGZ1bmN0aW9uKGIpe2EuZGVmZXIoYil9LGIpfV19ZnVuY3Rpb24gd2QoYSxiKXtmdW5jdGlvbiBkKCl7dGhpcy4kJHN0YXRlPXtzdGF0dXM6MH19ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiLmNhbGwoYSxjKX19ZnVuY3Rpb24gZShjKXshYy5wcm9jZXNzU2NoZWR1bGVkJiZjLnBlbmRpbmcmJihjLnByb2Nlc3NTY2hlZHVsZWQ9ITAsYShmdW5jdGlvbigpe3ZhciBhLGQsZTtlPWMucGVuZGluZztjLnByb2Nlc3NTY2hlZHVsZWQ9ITE7Yy5wZW5kaW5nPXY7Zm9yKHZhciBmPTAsZz1lLmxlbmd0aDtmPGc7KytmKXtkPWVbZl1bMF07YT1lW2ZdW2Muc3RhdHVzXTt0cnl7RChhKT9kLnJlc29sdmUoYShjLnZhbHVlKSk6MT09PWMuc3RhdHVzP2QucmVzb2x2ZShjLnZhbHVlKTpkLnJlamVjdChjLnZhbHVlKX1jYXRjaChoKXtkLnJlamVjdChoKSxiKGgpfX19KSl9ZnVuY3Rpb24gZigpe3RoaXMucHJvbWlzZT1cbm5ldyBkfXZhciBnPUgoXCIkcVwiLFR5cGVFcnJvcik7VChkLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihhLGIsYyl7aWYoeChhKSYmeChiKSYmeChjKSlyZXR1cm4gdGhpczt2YXIgZD1uZXcgZjt0aGlzLiQkc3RhdGUucGVuZGluZz10aGlzLiQkc3RhdGUucGVuZGluZ3x8W107dGhpcy4kJHN0YXRlLnBlbmRpbmcucHVzaChbZCxhLGIsY10pOzA8dGhpcy4kJHN0YXRlLnN0YXR1cyYmZSh0aGlzLiQkc3RhdGUpO3JldHVybiBkLnByb21pc2V9LFwiY2F0Y2hcIjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsYSl9LFwiZmluYWxseVwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gayhiLCEwLGEpfSxmdW5jdGlvbihiKXtyZXR1cm4gayhiLCExLGEpfSxiKX19KTtUKGYucHJvdG90eXBlLHtyZXNvbHZlOmZ1bmN0aW9uKGEpe3RoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1c3x8KGE9PT10aGlzLnByb21pc2U/dGhpcy4kJHJlamVjdChnKFwicWN5Y2xlXCIsXG5hKSk6dGhpcy4kJHJlc29sdmUoYSkpfSwkJHJlc29sdmU6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChhKXtrfHwoaz0hMCxoLiQkcmVzb2x2ZShhKSl9ZnVuY3Rpb24gZihhKXtrfHwoaz0hMCxoLiQkcmVqZWN0KGEpKX12YXIgZyxoPXRoaXMsaz0hMTt0cnl7aWYoRShhKXx8RChhKSlnPWEmJmEudGhlbjtEKGcpPyh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9LTEsZy5jYWxsKGEsZCxmLGModGhpcyx0aGlzLm5vdGlmeSkpKToodGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWU9YSx0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9MSxlKHRoaXMucHJvbWlzZS4kJHN0YXRlKSl9Y2F0Y2gobCl7ZihsKSxiKGwpfX0scmVqZWN0OmZ1bmN0aW9uKGEpe3RoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1c3x8dGhpcy4kJHJlamVjdChhKX0sJCRyZWplY3Q6ZnVuY3Rpb24oYSl7dGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWU9YTt0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9MjtlKHRoaXMucHJvbWlzZS4kJHN0YXRlKX0sXG5ub3RpZnk6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5wcm9taXNlLiQkc3RhdGUucGVuZGluZzswPj10aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMmJmQmJmQubGVuZ3RoJiZhKGZ1bmN0aW9uKCl7Zm9yKHZhciBhLGUsZj0wLGc9ZC5sZW5ndGg7ZjxnO2YrKyl7ZT1kW2ZdWzBdO2E9ZFtmXVszXTt0cnl7ZS5ub3RpZnkoRChhKT9hKGMpOmMpfWNhdGNoKGgpe2IoaCl9fX0pfX0pO3ZhciBoPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IGY7Yj9jLnJlc29sdmUoYSk6Yy5yZWplY3QoYSk7cmV0dXJuIGMucHJvbWlzZX0saz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bnVsbDt0cnl7RChjKSYmKGQ9YygpKX1jYXRjaChlKXtyZXR1cm4gaChlLCExKX1yZXR1cm4gZCYmRChkLnRoZW4pP2QudGhlbihmdW5jdGlvbigpe3JldHVybiBoKGEsYil9LGZ1bmN0aW9uKGEpe3JldHVybiBoKGEsITEpfSk6aChhLGIpfSxsPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBmO2UucmVzb2x2ZShhKTtyZXR1cm4gZS5wcm9taXNlLnRoZW4oYixcbmMsZCl9LG09ZnVuY3Rpb24oYSl7aWYoIUQoYSkpdGhyb3cgZyhcIm5vcnNsdnJcIixhKTt2YXIgYj1uZXcgZjthKGZ1bmN0aW9uKGEpe2IucmVzb2x2ZShhKX0sZnVuY3Rpb24oYSl7Yi5yZWplY3QoYSl9KTtyZXR1cm4gYi5wcm9taXNlfTttLnByb3RvdHlwZT1kLnByb3RvdHlwZTttLmRlZmVyPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGY7YS5yZXNvbHZlPWMoYSxhLnJlc29sdmUpO2EucmVqZWN0PWMoYSxhLnJlamVjdCk7YS5ub3RpZnk9YyhhLGEubm90aWZ5KTtyZXR1cm4gYX07bS5yZWplY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGY7Yi5yZWplY3QoYSk7cmV0dXJuIGIucHJvbWlzZX07bS53aGVuPWw7bS5yZXNvbHZlPWw7bS5hbGw9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGYsYz0wLGQ9TChhKT9bXTp7fTtuKGEsZnVuY3Rpb24oYSxlKXtjKys7bChhKS50aGVuKGZ1bmN0aW9uKGEpe2QuaGFzT3duUHJvcGVydHkoZSl8fChkW2VdPWEsLS1jfHxiLnJlc29sdmUoZCkpfSxmdW5jdGlvbihhKXtkLmhhc093blByb3BlcnR5KGUpfHxcbmIucmVqZWN0KGEpfSl9KTswPT09YyYmYi5yZXNvbHZlKGQpO3JldHVybiBiLnByb21pc2V9O3JldHVybiBtfWZ1bmN0aW9uIEZmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYSxiKXt2YXIgZD1hLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8YS53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsYz1hLmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxhLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHxhLndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSxlPSEhZCxmPWU/ZnVuY3Rpb24oYSl7dmFyIGI9ZChhKTtyZXR1cm4gZnVuY3Rpb24oKXtjKGIpfX06ZnVuY3Rpb24oYSl7dmFyIGM9YihhLDE2LjY2LCExKTtyZXR1cm4gZnVuY3Rpb24oKXtiLmNhbmNlbChjKX19O2Yuc3VwcG9ydGVkPWU7cmV0dXJuIGZ9XX1mdW5jdGlvbiB1Zigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYigpe3RoaXMuJCR3YXRjaGVycz10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD1cbnRoaXMuJCRjaGlsZFRhaWw9bnVsbDt0aGlzLiQkbGlzdGVuZXJzPXt9O3RoaXMuJCRsaXN0ZW5lckNvdW50PXt9O3RoaXMuJCR3YXRjaGVyc0NvdW50PTA7dGhpcy4kaWQ9KytwYjt0aGlzLiQkQ2hpbGRTY29wZT1udWxsfWIucHJvdG90eXBlPWE7cmV0dXJuIGJ9dmFyIGI9MTAsZD1IKFwiJHJvb3RTY29wZVwiKSxjPW51bGwsZT1udWxsO3RoaXMuZGlnZXN0VHRsPWZ1bmN0aW9uKGEpe2FyZ3VtZW50cy5sZW5ndGgmJihiPWEpO3JldHVybiBifTt0aGlzLiRnZXQ9W1wiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRwYXJzZVwiLFwiJGJyb3dzZXJcIixmdW5jdGlvbihmLGcsaCl7ZnVuY3Rpb24gayhhKXthLmN1cnJlbnRTY29wZS4kJGRlc3Ryb3llZD0hMH1mdW5jdGlvbiBsKGEpezk9PT14YSYmKGEuJCRjaGlsZEhlYWQmJmwoYS4kJGNoaWxkSGVhZCksYS4kJG5leHRTaWJsaW5nJiZsKGEuJCRuZXh0U2libGluZykpO2EuJHBhcmVudD1hLiQkbmV4dFNpYmxpbmc9YS4kJHByZXZTaWJsaW5nPWEuJCRjaGlsZEhlYWQ9XG5hLiQkY2hpbGRUYWlsPWEuJHJvb3Q9YS4kJHdhdGNoZXJzPW51bGx9ZnVuY3Rpb24gbSgpe3RoaXMuJGlkPSsrcGI7dGhpcy4kJHBoYXNlPXRoaXMuJHBhcmVudD10aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZz10aGlzLiQkY2hpbGRIZWFkPXRoaXMuJCRjaGlsZFRhaWw9bnVsbDt0aGlzLiRyb290PXRoaXM7dGhpcy4kJGRlc3Ryb3llZD0hMTt0aGlzLiQkbGlzdGVuZXJzPXt9O3RoaXMuJCRsaXN0ZW5lckNvdW50PXt9O3RoaXMuJCR3YXRjaGVyc0NvdW50PTA7dGhpcy4kJGlzb2xhdGVCaW5kaW5ncz1udWxsfWZ1bmN0aW9uIHIoYSl7aWYody4kJHBoYXNlKXRocm93IGQoXCJpbnByb2dcIix3LiQkcGhhc2UpO3cuJCRwaGFzZT1hfWZ1bmN0aW9uIHMoYSxiKXtkbyBhLiQkd2F0Y2hlcnNDb3VudCs9Yjt3aGlsZShhPWEuJHBhcmVudCl9ZnVuY3Rpb24gSShhLGIsYyl7ZG8gYS4kJGxpc3RlbmVyQ291bnRbY10tPWIsMD09PWEuJCRsaXN0ZW5lckNvdW50W2NdJiZcbmRlbGV0ZSBhLiQkbGlzdGVuZXJDb3VudFtjXTt3aGlsZShhPWEuJHBhcmVudCl9ZnVuY3Rpb24gcSgpe31mdW5jdGlvbiB0KCl7Zm9yKDt6Lmxlbmd0aDspdHJ5e3ouc2hpZnQoKSgpfWNhdGNoKGEpe2YoYSl9ZT1udWxsfWZ1bmN0aW9uIHAoKXtudWxsPT09ZSYmKGU9aC5kZWZlcihmdW5jdGlvbigpe3cuJGFwcGx5KHQpfSkpfW0ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjptLCRuZXc6ZnVuY3Rpb24oYixjKXt2YXIgZDtjPWN8fHRoaXM7Yj8oZD1uZXcgbSxkLiRyb290PXRoaXMuJHJvb3QpOih0aGlzLiQkQ2hpbGRTY29wZXx8KHRoaXMuJCRDaGlsZFNjb3BlPWEodGhpcykpLGQ9bmV3IHRoaXMuJCRDaGlsZFNjb3BlKTtkLiRwYXJlbnQ9YztkLiQkcHJldlNpYmxpbmc9Yy4kJGNoaWxkVGFpbDtjLiQkY2hpbGRIZWFkPyhjLiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmc9ZCxjLiQkY2hpbGRUYWlsPWQpOmMuJCRjaGlsZEhlYWQ9Yy4kJGNoaWxkVGFpbD1kOyhifHxjIT10aGlzKSYmZC4kb24oXCIkZGVzdHJveVwiLFxuayk7cmV0dXJuIGR9LCR3YXRjaDpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1nKGEpO2lmKGYuJCR3YXRjaERlbGVnYXRlKXJldHVybiBmLiQkd2F0Y2hEZWxlZ2F0ZSh0aGlzLGIsZCxmLGEpO3ZhciBoPXRoaXMsaz1oLiQkd2F0Y2hlcnMsbD17Zm46YixsYXN0OnEsZ2V0OmYsZXhwOmV8fGEsZXE6ISFkfTtjPW51bGw7RChiKXx8KGwuZm49Qik7a3x8KGs9aC4kJHdhdGNoZXJzPVtdKTtrLnVuc2hpZnQobCk7cyh0aGlzLDEpO3JldHVybiBmdW5jdGlvbigpezA8PWNiKGssbCkmJnMoaCwtMSk7Yz1udWxsfX0sJHdhdGNoR3JvdXA6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7aD0hMTtrPyhrPSExLGIoZSxlLGcpKTpiKGUsZCxnKX12YXIgZD1BcnJheShhLmxlbmd0aCksZT1BcnJheShhLmxlbmd0aCksZj1bXSxnPXRoaXMsaD0hMSxrPSEwO2lmKCFhLmxlbmd0aCl7dmFyIGw9ITA7Zy4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7bCYmYihlLGUsZyl9KTtyZXR1cm4gZnVuY3Rpb24oKXtsPVxuITF9fWlmKDE9PT1hLmxlbmd0aClyZXR1cm4gdGhpcy4kd2F0Y2goYVswXSxmdW5jdGlvbihhLGMsZil7ZVswXT1hO2RbMF09YztiKGUsYT09PWM/ZTpkLGYpfSk7bihhLGZ1bmN0aW9uKGEsYil7dmFyIGs9Zy4kd2F0Y2goYSxmdW5jdGlvbihhLGYpe2VbYl09YTtkW2JdPWY7aHx8KGg9ITAsZy4kZXZhbEFzeW5jKGMpKX0pO2YucHVzaChrKX0pO3JldHVybiBmdW5jdGlvbigpe2Zvcig7Zi5sZW5ndGg7KWYuc2hpZnQoKSgpfX0sJHdhdGNoQ29sbGVjdGlvbjpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZT1hO3ZhciBiLGQsZyxoO2lmKCF4KGUpKXtpZihFKGUpKWlmKENhKGUpKWZvcihmIT09ciYmKGY9cix1PWYubGVuZ3RoPTAsbCsrKSxhPWUubGVuZ3RoLHUhPT1hJiYobCsrLGYubGVuZ3RoPXU9YSksYj0wO2I8YTtiKyspaD1mW2JdLGc9ZVtiXSxkPWghPT1oJiZnIT09ZyxkfHxoPT09Z3x8KGwrKyxmW2JdPWcpO2Vsc2V7ZiE9PXMmJihmPXM9e30sdT0wLGwrKyk7YT0wO2ZvcihiIGluIGUpc2EuY2FsbChlLFxuYikmJihhKyssZz1lW2JdLGg9ZltiXSxiIGluIGY/KGQ9aCE9PWgmJmchPT1nLGR8fGg9PT1nfHwobCsrLGZbYl09ZykpOih1KyssZltiXT1nLGwrKykpO2lmKHU+YSlmb3IoYiBpbiBsKyssZilzYS5jYWxsKGUsYil8fCh1LS0sZGVsZXRlIGZbYl0pfWVsc2UgZiE9PWUmJihmPWUsbCsrKTtyZXR1cm4gbH19Yy4kc3RhdGVmdWw9ITA7dmFyIGQ9dGhpcyxlLGYsaCxrPTE8Yi5sZW5ndGgsbD0wLG09ZyhhLGMpLHI9W10scz17fSxwPSEwLHU9MDtyZXR1cm4gdGhpcy4kd2F0Y2gobSxmdW5jdGlvbigpe3A/KHA9ITEsYihlLGUsZCkpOmIoZSxoLGQpO2lmKGspaWYoRShlKSlpZihDYShlKSl7aD1BcnJheShlLmxlbmd0aCk7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspaFthXT1lW2FdfWVsc2UgZm9yKGEgaW4gaD17fSxlKXNhLmNhbGwoZSxhKSYmKGhbYV09ZVthXSk7ZWxzZSBoPWV9KX0sJGRpZ2VzdDpmdW5jdGlvbigpe3ZhciBhLGcsayxsLG0scyxwLG4sST1iLHoseT1bXSx4LEM7XG5yKFwiJGRpZ2VzdFwiKTtoLiQkY2hlY2tVcmxDaGFuZ2UoKTt0aGlzPT09dyYmbnVsbCE9PWUmJihoLmRlZmVyLmNhbmNlbChlKSx0KCkpO2M9bnVsbDtkb3tuPSExO2Zvcih6PXRoaXM7dS5sZW5ndGg7KXt0cnl7Qz11LnNoaWZ0KCksQy5zY29wZS4kZXZhbChDLmV4cHJlc3Npb24sQy5sb2NhbHMpfWNhdGNoKEIpe2YoQil9Yz1udWxsfWE6ZG97aWYocz16LiQkd2F0Y2hlcnMpZm9yKHA9cy5sZW5ndGg7cC0tOyl0cnl7aWYoYT1zW3BdKWlmKG09YS5nZXQsKGc9bSh6KSkhPT0oaz1hLmxhc3QpJiYhKGEuZXE/b2EoZyxrKTpcIm51bWJlclwiPT09dHlwZW9mIGcmJlwibnVtYmVyXCI9PT10eXBlb2YgayYmaXNOYU4oZykmJmlzTmFOKGspKSluPSEwLGM9YSxhLmxhc3Q9YS5lcT9PYShnLG51bGwpOmcsbD1hLmZuLGwoZyxrPT09cT9nOmsseiksNT5JJiYoeD00LUkseVt4XXx8KHlbeF09W10pLHlbeF0ucHVzaCh7bXNnOkQoYS5leHApP1wiZm46IFwiKyhhLmV4cC5uYW1lfHxhLmV4cC50b1N0cmluZygpKTpcbmEuZXhwLG5ld1ZhbDpnLG9sZFZhbDprfSkpO2Vsc2UgaWYoYT09PWMpe249ITE7YnJlYWsgYX19Y2F0Y2goRSl7ZihFKX1pZighKHM9ei4kJHdhdGNoZXJzQ291bnQmJnouJCRjaGlsZEhlYWR8fHohPT10aGlzJiZ6LiQkbmV4dFNpYmxpbmcpKWZvcig7eiE9PXRoaXMmJiEocz16LiQkbmV4dFNpYmxpbmcpOyl6PXouJHBhcmVudH13aGlsZSh6PXMpO2lmKChufHx1Lmxlbmd0aCkmJiFJLS0pdGhyb3cgdy4kJHBoYXNlPW51bGwsZChcImluZmRpZ1wiLGIseSk7fXdoaWxlKG58fHUubGVuZ3RoKTtmb3Iody4kJHBoYXNlPW51bGw7di5sZW5ndGg7KXRyeXt2LnNoaWZ0KCkoKX1jYXRjaChIKXtmKEgpfX0sJGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZighdGhpcy4kJGRlc3Ryb3llZCl7dmFyIGE9dGhpcy4kcGFyZW50O3RoaXMuJGJyb2FkY2FzdChcIiRkZXN0cm95XCIpO3RoaXMuJCRkZXN0cm95ZWQ9ITA7dGhpcz09PXcmJmguJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCgpO3ModGhpcywtdGhpcy4kJHdhdGNoZXJzQ291bnQpO1xuZm9yKHZhciBiIGluIHRoaXMuJCRsaXN0ZW5lckNvdW50KUkodGhpcyx0aGlzLiQkbGlzdGVuZXJDb3VudFtiXSxiKTthJiZhLiQkY2hpbGRIZWFkPT10aGlzJiYoYS4kJGNoaWxkSGVhZD10aGlzLiQkbmV4dFNpYmxpbmcpO2EmJmEuJCRjaGlsZFRhaWw9PXRoaXMmJihhLiQkY2hpbGRUYWlsPXRoaXMuJCRwcmV2U2libGluZyk7dGhpcy4kJHByZXZTaWJsaW5nJiYodGhpcy4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmc9dGhpcy4kJG5leHRTaWJsaW5nKTt0aGlzLiQkbmV4dFNpYmxpbmcmJih0aGlzLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZz10aGlzLiQkcHJldlNpYmxpbmcpO3RoaXMuJGRlc3Ryb3k9dGhpcy4kZGlnZXN0PXRoaXMuJGFwcGx5PXRoaXMuJGV2YWxBc3luYz10aGlzLiRhcHBseUFzeW5jPUI7dGhpcy4kb249dGhpcy4kd2F0Y2g9dGhpcy4kd2F0Y2hHcm91cD1mdW5jdGlvbigpe3JldHVybiBCfTt0aGlzLiQkbGlzdGVuZXJzPXt9O3RoaXMuJCRuZXh0U2libGluZz1cbm51bGw7bCh0aGlzKX19LCRldmFsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoYSkodGhpcyxiKX0sJGV2YWxBc3luYzpmdW5jdGlvbihhLGIpe3cuJCRwaGFzZXx8dS5sZW5ndGh8fGguZGVmZXIoZnVuY3Rpb24oKXt1Lmxlbmd0aCYmdy4kZGlnZXN0KCl9KTt1LnB1c2goe3Njb3BlOnRoaXMsZXhwcmVzc2lvbjpnKGEpLGxvY2FsczpifSl9LCQkcG9zdERpZ2VzdDpmdW5jdGlvbihhKXt2LnB1c2goYSl9LCRhcHBseTpmdW5jdGlvbihhKXt0cnl7cihcIiRhcHBseVwiKTt0cnl7cmV0dXJuIHRoaXMuJGV2YWwoYSl9ZmluYWxseXt3LiQkcGhhc2U9bnVsbH19Y2F0Y2goYil7ZihiKX1maW5hbGx5e3RyeXt3LiRkaWdlc3QoKX1jYXRjaChjKXt0aHJvdyBmKGMpLGM7fX19LCRhcHBseUFzeW5jOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtjLiRldmFsKGEpfXZhciBjPXRoaXM7YSYmei5wdXNoKGIpO2E9ZyhhKTtwKCl9LCRvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJCRsaXN0ZW5lcnNbYV07XG5jfHwodGhpcy4kJGxpc3RlbmVyc1thXT1jPVtdKTtjLnB1c2goYik7dmFyIGQ9dGhpcztkbyBkLiQkbGlzdGVuZXJDb3VudFthXXx8KGQuJCRsaXN0ZW5lckNvdW50W2FdPTApLGQuJCRsaXN0ZW5lckNvdW50W2FdKys7d2hpbGUoZD1kLiRwYXJlbnQpO3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5pbmRleE9mKGIpOy0xIT09ZCYmKGNbZF09bnVsbCxJKGUsMSxhKSl9fSwkZW1pdDpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQsZT10aGlzLGc9ITEsaD17bmFtZTphLHRhcmdldFNjb3BlOmUsc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Zz0hMH0scHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXtoLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9LGs9ZGIoW2hdLGFyZ3VtZW50cywxKSxsLG07ZG97ZD1lLiQkbGlzdGVuZXJzW2FdfHxjO2guY3VycmVudFNjb3BlPWU7bD0wO2ZvcihtPWQubGVuZ3RoO2w8bTtsKyspaWYoZFtsXSl0cnl7ZFtsXS5hcHBseShudWxsLFxuayl9Y2F0Y2gocil7ZihyKX1lbHNlIGQuc3BsaWNlKGwsMSksbC0tLG0tLTtpZihnKXJldHVybiBoLmN1cnJlbnRTY29wZT1udWxsLGg7ZT1lLiRwYXJlbnR9d2hpbGUoZSk7aC5jdXJyZW50U2NvcGU9bnVsbDtyZXR1cm4gaH0sJGJyb2FkY2FzdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLGU9e25hbWU6YSx0YXJnZXRTY29wZTp0aGlzLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ZS5kZWZhdWx0UHJldmVudGVkPSEwfSxkZWZhdWx0UHJldmVudGVkOiExfTtpZighdGhpcy4kJGxpc3RlbmVyQ291bnRbYV0pcmV0dXJuIGU7Zm9yKHZhciBnPWRiKFtlXSxhcmd1bWVudHMsMSksaCxrO2M9ZDspe2UuY3VycmVudFNjb3BlPWM7ZD1jLiQkbGlzdGVuZXJzW2FdfHxbXTtoPTA7Zm9yKGs9ZC5sZW5ndGg7aDxrO2grKylpZihkW2hdKXRyeXtkW2hdLmFwcGx5KG51bGwsZyl9Y2F0Y2gobCl7ZihsKX1lbHNlIGQuc3BsaWNlKGgsMSksaC0tLGstLTtpZighKGQ9Yy4kJGxpc3RlbmVyQ291bnRbYV0mJlxuYy4kJGNoaWxkSGVhZHx8YyE9PXRoaXMmJmMuJCRuZXh0U2libGluZykpZm9yKDtjIT09dGhpcyYmIShkPWMuJCRuZXh0U2libGluZyk7KWM9Yy4kcGFyZW50fWUuY3VycmVudFNjb3BlPW51bGw7cmV0dXJuIGV9fTt2YXIgdz1uZXcgbSx1PXcuJCRhc3luY1F1ZXVlPVtdLHY9dy4kJHBvc3REaWdlc3RRdWV1ZT1bXSx6PXcuJCRhcHBseUFzeW5jUXVldWU9W107cmV0dXJuIHd9XX1mdW5jdGlvbiBuZSgpe3ZhciBhPS9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxiPS9eXFxzKigoaHR0cHM/fGZ0cHxmaWxlfGJsb2IpOnxkYXRhOmltYWdlXFwvKS87dGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4geShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiB5KGEpPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGQsYyl7dmFyIGU9XG5jP2I6YSxmO2Y9emEoZCkuaHJlZjtyZXR1cm5cIlwiPT09Znx8Zi5tYXRjaChlKT9kOlwidW5zYWZlOlwiK2Z9fX1mdW5jdGlvbiBuZyhhKXtpZihcInNlbGZcIj09PWEpcmV0dXJuIGE7aWYoRihhKSl7aWYoLTE8YS5pbmRleE9mKFwiKioqXCIpKXRocm93IEJhKFwiaXdjYXJkXCIsYSk7YT14ZChhKS5yZXBsYWNlKFwiXFxcXCpcXFxcKlwiLFwiLipcIikucmVwbGFjZShcIlxcXFwqXCIsXCJbXjovLj8mO10qXCIpO3JldHVybiBuZXcgUmVnRXhwKFwiXlwiK2ErXCIkXCIpfWlmKCRhKGEpKXJldHVybiBuZXcgUmVnRXhwKFwiXlwiK2Euc291cmNlK1wiJFwiKTt0aHJvdyBCYShcImltYXRjaGVyXCIpO31mdW5jdGlvbiB5ZChhKXt2YXIgYj1bXTt5KGEpJiZuKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKG5nKGEpKX0pO3JldHVybiBifWZ1bmN0aW9uIHlmKCl7dGhpcy5TQ0VfQ09OVEVYVFM9cWE7dmFyIGE9W1wic2VsZlwiXSxiPVtdO3RoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3Q9ZnVuY3Rpb24oYil7YXJndW1lbnRzLmxlbmd0aCYmKGE9eWQoYikpO3JldHVybiBhfTtcbnRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3Q9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9eWQoYSkpO3JldHVybiBifTt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYyhhLGIpe3JldHVyblwic2VsZlwiPT09YT9qZChiKTohIWEuZXhlYyhiLmhyZWYpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiBhfX07YSYmKGIucHJvdG90eXBlPW5ldyBhKTtiLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKX07Yi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpLnRvU3RyaW5nKCl9O3JldHVybiBifXZhciBmPWZ1bmN0aW9uKGEpe3Rocm93IEJhKFwidW5zYWZlXCIpO307ZC5oYXMoXCIkc2FuaXRpemVcIikmJihmPWQuZ2V0KFwiJHNhbml0aXplXCIpKTtcbnZhciBnPWUoKSxoPXt9O2hbcWEuSFRNTF09ZShnKTtoW3FhLkNTU109ZShnKTtoW3FhLlVSTF09ZShnKTtoW3FhLkpTXT1lKGcpO2hbcWEuUkVTT1VSQ0VfVVJMXT1lKGhbcWEuVVJMXSk7cmV0dXJue3RydXN0QXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1oLmhhc093blByb3BlcnR5KGEpP2hbYV06bnVsbDtpZighYyl0aHJvdyBCYShcImljb250ZXh0XCIsYSxiKTtpZihudWxsPT09Ynx8eChiKXx8XCJcIj09PWIpcmV0dXJuIGI7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBiKXRocm93IEJhKFwiaXR5cGVcIixhKTtyZXR1cm4gbmV3IGMoYil9LGdldFRydXN0ZWQ6ZnVuY3Rpb24oZCxlKXtpZihudWxsPT09ZXx8eChlKXx8XCJcIj09PWUpcmV0dXJuIGU7dmFyIGc9aC5oYXNPd25Qcm9wZXJ0eShkKT9oW2RdOm51bGw7aWYoZyYmZSBpbnN0YW5jZW9mIGcpcmV0dXJuIGUuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtpZihkPT09cWEuUkVTT1VSQ0VfVVJMKXt2YXIgZz16YShlLnRvU3RyaW5nKCkpLHIscyxuPSExO1xucj0wO2ZvcihzPWEubGVuZ3RoO3I8cztyKyspaWYoYyhhW3JdLGcpKXtuPSEwO2JyZWFrfWlmKG4pZm9yKHI9MCxzPWIubGVuZ3RoO3I8cztyKyspaWYoYyhiW3JdLGcpKXtuPSExO2JyZWFrfWlmKG4pcmV0dXJuIGU7dGhyb3cgQmEoXCJpbnNlY3VybFwiLGUudG9TdHJpbmcoKSk7fWlmKGQ9PT1xYS5IVE1MKXJldHVybiBmKGUpO3Rocm93IEJhKFwidW5zYWZlXCIpO30sdmFsdWVPZjpmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIGc/YS4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpOmF9fX1dfWZ1bmN0aW9uIHhmKCl7dmFyIGE9ITA7dGhpcy5lbmFibGVkPWZ1bmN0aW9uKGIpe2FyZ3VtZW50cy5sZW5ndGgmJihhPSEhYik7cmV0dXJuIGF9O3RoaXMuJGdldD1bXCIkcGFyc2VcIixcIiRzY2VEZWxlZ2F0ZVwiLGZ1bmN0aW9uKGIsZCl7aWYoYSYmOD54YSl0aHJvdyBCYShcImllcXVpcmtzXCIpO3ZhciBjPW5hKHFhKTtjLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBhfTtjLnRydXN0QXM9ZC50cnVzdEFzO1xuYy5nZXRUcnVzdGVkPWQuZ2V0VHJ1c3RlZDtjLnZhbHVlT2Y9ZC52YWx1ZU9mO2F8fChjLnRydXN0QXM9Yy5nZXRUcnVzdGVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9LGMudmFsdWVPZj1hYik7Yy5wYXJzZUFzPWZ1bmN0aW9uKGEsZCl7dmFyIGU9YihkKTtyZXR1cm4gZS5saXRlcmFsJiZlLmNvbnN0YW50P2U6YihkLGZ1bmN0aW9uKGIpe3JldHVybiBjLmdldFRydXN0ZWQoYSxiKX0pfTt2YXIgZT1jLnBhcnNlQXMsZj1jLmdldFRydXN0ZWQsZz1jLnRydXN0QXM7bihxYSxmdW5jdGlvbihhLGIpe3ZhciBkPUcoYik7Y1tnYihcInBhcnNlX2FzX1wiK2QpXT1mdW5jdGlvbihiKXtyZXR1cm4gZShhLGIpfTtjW2diKFwiZ2V0X3RydXN0ZWRfXCIrZCldPWZ1bmN0aW9uKGIpe3JldHVybiBmKGEsYil9O2NbZ2IoXCJ0cnVzdF9hc19cIitkKV09ZnVuY3Rpb24oYil7cmV0dXJuIGcoYSxiKX19KTtyZXR1cm4gY31dfWZ1bmN0aW9uIHpmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLFxuZnVuY3Rpb24oYSxiKXt2YXIgZD17fSxjPWNhKCgvYW5kcm9pZCAoXFxkKykvLmV4ZWMoRygoYS5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpKXx8W10pWzFdKSxlPS9Cb3hlZS9pLnRlc3QoKGEubmF2aWdhdG9yfHx7fSkudXNlckFnZW50KSxmPWJbMF18fHt9LGcsaD0vXihNb3p8d2Via2l0fG1zKSg/PVtBLVpdKS8saz1mLmJvZHkmJmYuYm9keS5zdHlsZSxsPSExLG09ITE7aWYoayl7Zm9yKHZhciByIGluIGspaWYobD1oLmV4ZWMocikpe2c9bFswXTtnPWcuc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKStnLnN1YnN0cigxKTticmVha31nfHwoZz1cIldlYmtpdE9wYWNpdHlcImluIGsmJlwid2Via2l0XCIpO2w9ISEoXCJ0cmFuc2l0aW9uXCJpbiBrfHxnK1wiVHJhbnNpdGlvblwiaW4gayk7bT0hIShcImFuaW1hdGlvblwiaW4ga3x8ZytcIkFuaW1hdGlvblwiaW4gayk7IWN8fGwmJm18fChsPUYoay53ZWJraXRUcmFuc2l0aW9uKSxtPUYoay53ZWJraXRBbmltYXRpb24pKX1yZXR1cm57aGlzdG9yeTohKCFhLmhpc3Rvcnl8fFxuIWEuaGlzdG9yeS5wdXNoU3RhdGV8fDQ+Y3x8ZSksaGFzRXZlbnQ6ZnVuY3Rpb24oYSl7aWYoXCJpbnB1dFwiPT09YSYmMTE+PXhhKXJldHVybiExO2lmKHgoZFthXSkpe3ZhciBiPWYuY3JlYXRlRWxlbWVudChcImRpdlwiKTtkW2FdPVwib25cIithIGluIGJ9cmV0dXJuIGRbYV19LGNzcDpFYSgpLHZlbmRvclByZWZpeDpnLHRyYW5zaXRpb25zOmwsYW5pbWF0aW9uczptLGFuZHJvaWQ6Y319XX1mdW5jdGlvbiBCZigpe3ZhciBhO3RoaXMuaHR0cE9wdGlvbnM9ZnVuY3Rpb24oYil7cmV0dXJuIGI/KGE9Yix0aGlzKTphfTt0aGlzLiRnZXQ9W1wiJHRlbXBsYXRlQ2FjaGVcIixcIiRodHRwXCIsXCIkcVwiLFwiJHNjZVwiLGZ1bmN0aW9uKGIsZCxjLGUpe2Z1bmN0aW9uIGYoZyxoKXtmLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7RihnKSYmYi5nZXQoZyl8fChnPWUuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKGcpKTt2YXIgaz1kLmRlZmF1bHRzJiZkLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlO0woayk/az1rLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYSE9PVxuY2N9KTprPT09Y2MmJihrPW51bGwpO3JldHVybiBkLmdldChnLFQoe2NhY2hlOmIsdHJhbnNmb3JtUmVzcG9uc2U6a30sYSkpW1wiZmluYWxseVwiXShmdW5jdGlvbigpe2YudG90YWxQZW5kaW5nUmVxdWVzdHMtLX0pLnRoZW4oZnVuY3Rpb24oYSl7Yi5wdXQoZyxhLmRhdGEpO3JldHVybiBhLmRhdGF9LGZ1bmN0aW9uKGEpe2lmKCFoKXRocm93IGphKFwidHBsb2FkXCIsZyxhLnN0YXR1cyxhLnN0YXR1c1RleHQpO3JldHVybiBjLnJlamVjdChhKX0pfWYudG90YWxQZW5kaW5nUmVxdWVzdHM9MDtyZXR1cm4gZn1dfWZ1bmN0aW9uIENmKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiRicm93c2VyXCIsXCIkbG9jYXRpb25cIixmdW5jdGlvbihhLGIsZCl7cmV0dXJue2ZpbmRCaW5kaW5nczpmdW5jdGlvbihhLGIsZCl7YT1hLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJuZy1iaW5kaW5nXCIpO3ZhciBnPVtdO24oYSxmdW5jdGlvbihhKXt2YXIgYz1pYS5lbGVtZW50KGEpLmRhdGEoXCIkYmluZGluZ1wiKTtcbmMmJm4oYyxmdW5jdGlvbihjKXtkPyhuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIreGQoYikrXCIoXFxcXHN8XFxcXHx8JClcIikpLnRlc3QoYykmJmcucHVzaChhKTotMSE9Yy5pbmRleE9mKGIpJiZnLnB1c2goYSl9KX0pO3JldHVybiBnfSxmaW5kTW9kZWxzOmZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGc9W1wibmctXCIsXCJkYXRhLW5nLVwiLFwibmdcXFxcOlwiXSxoPTA7aDxnLmxlbmd0aDsrK2gpe3ZhciBrPWEucXVlcnlTZWxlY3RvckFsbChcIltcIitnW2hdK1wibW9kZWxcIisoZD9cIj1cIjpcIio9XCIpKydcIicrYisnXCJdJyk7aWYoay5sZW5ndGgpcmV0dXJuIGt9fSxnZXRMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiBkLnVybCgpfSxzZXRMb2NhdGlvbjpmdW5jdGlvbihiKXtiIT09ZC51cmwoKSYmKGQudXJsKGIpLGEuJGRpZ2VzdCgpKX0sd2hlblN0YWJsZTpmdW5jdGlvbihhKXtiLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoYSl9fX1dfWZ1bmN0aW9uIERmKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcblwiJGJyb3dzZXJcIixcIiRxXCIsXCIkJHFcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYSxiLGQsYyxlKXtmdW5jdGlvbiBmKGYsayxsKXtEKGYpfHwobD1rLGs9ZixmPUIpO3ZhciBtPXdhLmNhbGwoYXJndW1lbnRzLDMpLHI9eShsKSYmIWwscz0ocj9jOmQpLmRlZmVyKCksbj1zLnByb21pc2UscTtxPWIuZGVmZXIoZnVuY3Rpb24oKXt0cnl7cy5yZXNvbHZlKGYuYXBwbHkobnVsbCxtKSl9Y2F0Y2goYil7cy5yZWplY3QoYiksZShiKX1maW5hbGx5e2RlbGV0ZSBnW24uJCR0aW1lb3V0SWRdfXJ8fGEuJGFwcGx5KCl9LGspO24uJCR0aW1lb3V0SWQ9cTtnW3FdPXM7cmV0dXJuIG59dmFyIGc9e307Zi5jYW5jZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuJCR0aW1lb3V0SWQgaW4gZz8oZ1thLiQkdGltZW91dElkXS5yZWplY3QoXCJjYW5jZWxlZFwiKSxkZWxldGUgZ1thLiQkdGltZW91dElkXSxiLmRlZmVyLmNhbmNlbChhLiQkdGltZW91dElkKSk6ITF9O3JldHVybiBmfV19ZnVuY3Rpb24gemEoYSl7eGEmJlxuKFkuc2V0QXR0cmlidXRlKFwiaHJlZlwiLGEpLGE9WS5ocmVmKTtZLnNldEF0dHJpYnV0ZShcImhyZWZcIixhKTtyZXR1cm57aHJlZjpZLmhyZWYscHJvdG9jb2w6WS5wcm90b2NvbD9ZLnByb3RvY29sLnJlcGxhY2UoLzokLyxcIlwiKTpcIlwiLGhvc3Q6WS5ob3N0LHNlYXJjaDpZLnNlYXJjaD9ZLnNlYXJjaC5yZXBsYWNlKC9eXFw/LyxcIlwiKTpcIlwiLGhhc2g6WS5oYXNoP1kuaGFzaC5yZXBsYWNlKC9eIy8sXCJcIik6XCJcIixob3N0bmFtZTpZLmhvc3RuYW1lLHBvcnQ6WS5wb3J0LHBhdGhuYW1lOlwiL1wiPT09WS5wYXRobmFtZS5jaGFyQXQoMCk/WS5wYXRobmFtZTpcIi9cIitZLnBhdGhuYW1lfX1mdW5jdGlvbiBqZChhKXthPUYoYSk/emEoYSk6YTtyZXR1cm4gYS5wcm90b2NvbD09PXpkLnByb3RvY29sJiZhLmhvc3Q9PT16ZC5ob3N0fWZ1bmN0aW9uIEVmKCl7dGhpcy4kZ2V0PWJhKE8pfWZ1bmN0aW9uIEFkKGEpe2Z1bmN0aW9uIGIoYSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYSl9Y2F0Y2goYil7cmV0dXJuIGF9fVxudmFyIGQ9YVswXXx8e30sYz17fSxlPVwiXCI7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGEsZyxoLGssbDthPWQuY29va2llfHxcIlwiO2lmKGEhPT1lKWZvcihlPWEsYT1lLnNwbGl0KFwiOyBcIiksYz17fSxoPTA7aDxhLmxlbmd0aDtoKyspZz1hW2hdLGs9Zy5pbmRleE9mKFwiPVwiKSwwPGsmJihsPWIoZy5zdWJzdHJpbmcoMCxrKSkseChjW2xdKSYmKGNbbF09YihnLnN1YnN0cmluZyhrKzEpKSkpO3JldHVybiBjfX1mdW5jdGlvbiBJZigpe3RoaXMuJGdldD1BZH1mdW5jdGlvbiBMYyhhKXtmdW5jdGlvbiBiKGQsYyl7aWYoRShkKSl7dmFyIGU9e307bihkLGZ1bmN0aW9uKGEsYyl7ZVtjXT1iKGMsYSl9KTtyZXR1cm4gZX1yZXR1cm4gYS5mYWN0b3J5KGQrXCJGaWx0ZXJcIixjKX10aGlzLnJlZ2lzdGVyPWI7dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5nZXQoYitcIkZpbHRlclwiKX19XTtiKFwiY3VycmVuY3lcIixCZCk7YihcImRhdGVcIixDZCk7XG5iKFwiZmlsdGVyXCIsb2cpO2IoXCJqc29uXCIscGcpO2IoXCJsaW1pdFRvXCIscWcpO2IoXCJsb3dlcmNhc2VcIixyZyk7YihcIm51bWJlclwiLERkKTtiKFwib3JkZXJCeVwiLEVkKTtiKFwidXBwZXJjYXNlXCIsc2cpfWZ1bmN0aW9uIG9nKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixkKXtpZighQ2EoYSkpe2lmKG51bGw9PWEpcmV0dXJuIGE7dGhyb3cgSChcImZpbHRlclwiKShcIm5vdGFycmF5XCIsYSk7fXZhciBjO3N3aXRjaChrYyhiKSl7Y2FzZSBcImZ1bmN0aW9uXCI6YnJlYWs7Y2FzZSBcImJvb2xlYW5cIjpjYXNlIFwibnVsbFwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwic3RyaW5nXCI6Yz0hMDtjYXNlIFwib2JqZWN0XCI6Yj10ZyhiLGQsYyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gYX1yZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGEsYil9fWZ1bmN0aW9uIHRnKGEsYixkKXt2YXIgYz1FKGEpJiZcIiRcImluIGE7ITA9PT1iP2I9b2E6RChiKXx8KGI9ZnVuY3Rpb24oYSxiKXtpZih4KGEpKXJldHVybiExO2lmKG51bGw9PT1cbmF8fG51bGw9PT1iKXJldHVybiBhPT09YjtpZihFKGIpfHxFKGEpJiYhdGMoYSkpcmV0dXJuITE7YT1HKFwiXCIrYSk7Yj1HKFwiXCIrYik7cmV0dXJuLTEhPT1hLmluZGV4T2YoYil9KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGMmJiFFKGUpP0xhKGUsYS4kLGIsITEpOkxhKGUsYSxiLGQpfX1mdW5jdGlvbiBMYShhLGIsZCxjLGUpe3ZhciBmPWtjKGEpLGc9a2MoYik7aWYoXCJzdHJpbmdcIj09PWcmJlwiIVwiPT09Yi5jaGFyQXQoMCkpcmV0dXJuIUxhKGEsYi5zdWJzdHJpbmcoMSksZCxjKTtpZihMKGEpKXJldHVybiBhLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIExhKGEsYixkLGMpfSk7c3dpdGNoKGYpe2Nhc2UgXCJvYmplY3RcIjp2YXIgaDtpZihjKXtmb3IoaCBpbiBhKWlmKFwiJFwiIT09aC5jaGFyQXQoMCkmJkxhKGFbaF0sYixkLCEwKSlyZXR1cm4hMDtyZXR1cm4gZT8hMTpMYShhLGIsZCwhMSl9aWYoXCJvYmplY3RcIj09PWcpe2ZvcihoIGluIGIpaWYoZT1iW2hdLCFEKGUpJiYheChlKSYmXG4oZj1cIiRcIj09PWgsIUxhKGY/YTphW2hdLGUsZCxmLGYpKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gZChhLGIpO2Nhc2UgXCJmdW5jdGlvblwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuIGQoYSxiKX19ZnVuY3Rpb24ga2MoYSl7cmV0dXJuIG51bGw9PT1hP1wibnVsbFwiOnR5cGVvZiBhfWZ1bmN0aW9uIEJkKGEpe3ZhciBiPWEuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGEsYyxlKXt4KGMpJiYoYz1iLkNVUlJFTkNZX1NZTSk7eChlKSYmKGU9Yi5QQVRURVJOU1sxXS5tYXhGcmFjKTtyZXR1cm4gbnVsbD09YT9hOkZkKGEsYi5QQVRURVJOU1sxXSxiLkdST1VQX1NFUCxiLkRFQ0lNQUxfU0VQLGUpLnJlcGxhY2UoL1xcdTAwQTQvZyxjKX19ZnVuY3Rpb24gRGQoYSl7dmFyIGI9YS5OVU1CRVJfRk9STUFUUztyZXR1cm4gZnVuY3Rpb24oYSxjKXtyZXR1cm4gbnVsbD09YT9hOkZkKGEsYi5QQVRURVJOU1swXSxiLkdST1VQX1NFUCxiLkRFQ0lNQUxfU0VQLGMpfX1mdW5jdGlvbiB1ZyhhKXt2YXIgYj1cbjAsZCxjLGUsZixnOy0xPChjPWEuaW5kZXhPZihHZCkpJiYoYT1hLnJlcGxhY2UoR2QsXCJcIikpOzA8KGU9YS5zZWFyY2goL2UvaSkpPygwPmMmJihjPWUpLGMrPSthLnNsaWNlKGUrMSksYT1hLnN1YnN0cmluZygwLGUpKTowPmMmJihjPWEubGVuZ3RoKTtmb3IoZT0wO2EuY2hhckF0KGUpPT1sYztlKyspO2lmKGU9PShnPWEubGVuZ3RoKSlkPVswXSxjPTE7ZWxzZXtmb3IoZy0tO2EuY2hhckF0KGcpPT1sYzspZy0tO2MtPWU7ZD1bXTtmb3IoZj0wO2U8PWc7ZSsrLGYrKylkW2ZdPSthLmNoYXJBdChlKX1jPkhkJiYoZD1kLnNwbGljZSgwLEhkLTEpLGI9Yy0xLGM9MSk7cmV0dXJue2Q6ZCxlOmIsaTpjfX1mdW5jdGlvbiB2ZyhhLGIsZCxjKXt2YXIgZT1hLmQsZj1lLmxlbmd0aC1hLmk7Yj14KGIpP01hdGgubWluKE1hdGgubWF4KGQsZiksYyk6K2I7ZD1iK2EuaTtjPWVbZF07aWYoMDxkKWUuc3BsaWNlKGQpO2Vsc2V7YS5pPTE7ZS5sZW5ndGg9ZD1iKzE7Zm9yKHZhciBnPTA7ZzxkO2crKyllW2ddPVxuMH1mb3IoNTw9YyYmZVtkLTFdKys7ZjxiO2YrKyllLnB1c2goMCk7aWYoYj1lLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKGEsYixjLGQpe2IrPWE7ZFtjXT1iJTEwO3JldHVybiBNYXRoLmZsb29yKGIvMTApfSwwKSllLnVuc2hpZnQoYiksYS5pKyt9ZnVuY3Rpb24gRmQoYSxiLGQsYyxlKXtpZighRihhKSYmIU4oYSl8fGlzTmFOKGEpKXJldHVyblwiXCI7dmFyIGY9IWlzRmluaXRlKGEpLGc9ITEsaD1NYXRoLmFicyhhKStcIlwiLGs9XCJcIjtpZihmKWs9XCJcXHUyMjFlXCI7ZWxzZXtnPXVnKGgpO3ZnKGcsZSxiLm1pbkZyYWMsYi5tYXhGcmFjKTtrPWcuZDtoPWcuaTtlPWcuZTtmPVtdO2ZvcihnPWsucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEmJiFifSwhMCk7MD5oOylrLnVuc2hpZnQoMCksaCsrOzA8aD9mPWsuc3BsaWNlKGgpOihmPWssaz1bMF0pO2g9W107Zm9yKGsubGVuZ3RoPmIubGdTaXplJiZoLnVuc2hpZnQoay5zcGxpY2UoLWIubGdTaXplKS5qb2luKFwiXCIpKTtrLmxlbmd0aD5iLmdTaXplOyloLnVuc2hpZnQoay5zcGxpY2UoLWIuZ1NpemUpLmpvaW4oXCJcIikpO1xuay5sZW5ndGgmJmgudW5zaGlmdChrLmpvaW4oXCJcIikpO2s9aC5qb2luKGQpO2YubGVuZ3RoJiYoays9YytmLmpvaW4oXCJcIikpO2UmJihrKz1cImUrXCIrZSl9cmV0dXJuIDA+YSYmIWc/Yi5uZWdQcmUraytiLm5lZ1N1ZjpiLnBvc1ByZStrK2IucG9zU3VmfWZ1bmN0aW9uIEtiKGEsYixkKXt2YXIgYz1cIlwiOzA+YSYmKGM9XCItXCIsYT0tYSk7Zm9yKGE9XCJcIithO2EubGVuZ3RoPGI7KWE9bGMrYTtkJiYoYT1hLnN1YnN0cihhLmxlbmd0aC1iKSk7cmV0dXJuIGMrYX1mdW5jdGlvbiBhYShhLGIsZCxjKXtkPWR8fDA7cmV0dXJuIGZ1bmN0aW9uKGUpe2U9ZVtcImdldFwiK2FdKCk7aWYoMDxkfHxlPi1kKWUrPWQ7MD09PWUmJi0xMj09ZCYmKGU9MTIpO3JldHVybiBLYihlLGIsYyl9fWZ1bmN0aW9uIExiKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyl7dmFyIGU9ZFtcImdldFwiK2FdKCksZj11YihiP1wiU0hPUlRcIithOmEpO3JldHVybiBjW2ZdW2VdfX1mdW5jdGlvbiBJZChhKXt2YXIgYj0obmV3IERhdGUoYSxcbjAsMSkpLmdldERheSgpO3JldHVybiBuZXcgRGF0ZShhLDAsKDQ+PWI/NToxMiktYil9ZnVuY3Rpb24gSmQoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBkPUlkKGIuZ2V0RnVsbFllYXIoKSk7Yj0rbmV3IERhdGUoYi5nZXRGdWxsWWVhcigpLGIuZ2V0TW9udGgoKSxiLmdldERhdGUoKSsoNC1iLmdldERheSgpKSktK2Q7Yj0xK01hdGgucm91bmQoYi82MDQ4RTUpO3JldHVybiBLYihiLGEpfX1mdW5jdGlvbiBtYyhhLGIpe3JldHVybiAwPj1hLmdldEZ1bGxZZWFyKCk/Yi5FUkFTWzBdOmIuRVJBU1sxXX1mdW5jdGlvbiBDZChhKXtmdW5jdGlvbiBiKGEpe3ZhciBiO2lmKGI9YS5tYXRjaChkKSl7YT1uZXcgRGF0ZSgwKTt2YXIgZj0wLGc9MCxoPWJbOF0/YS5zZXRVVENGdWxsWWVhcjphLnNldEZ1bGxZZWFyLGs9Yls4XT9hLnNldFVUQ0hvdXJzOmEuc2V0SG91cnM7Yls5XSYmKGY9Y2EoYls5XStiWzEwXSksZz1jYShiWzldK2JbMTFdKSk7aC5jYWxsKGEsY2EoYlsxXSksY2EoYlsyXSktXG4xLGNhKGJbM10pKTtmPWNhKGJbNF18fDApLWY7Zz1jYShiWzVdfHwwKS1nO2g9Y2EoYls2XXx8MCk7Yj1NYXRoLnJvdW5kKDFFMypwYXJzZUZsb2F0KFwiMC5cIisoYls3XXx8MCkpKTtrLmNhbGwoYSxmLGcsaCxiKX1yZXR1cm4gYX12YXIgZD0vXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztyZXR1cm4gZnVuY3Rpb24oYyxkLGYpe3ZhciBnPVwiXCIsaD1bXSxrLGw7ZD1kfHxcIm1lZGl1bURhdGVcIjtkPWEuREFURVRJTUVfRk9STUFUU1tkXXx8ZDtGKGMpJiYoYz13Zy50ZXN0KGMpP2NhKGMpOmIoYykpO04oYykmJihjPW5ldyBEYXRlKGMpKTtpZighVihjKXx8IWlzRmluaXRlKGMuZ2V0VGltZSgpKSlyZXR1cm4gYztmb3IoO2Q7KShsPXhnLmV4ZWMoZCkpPyhoPWRiKGgsbCwxKSxkPWgucG9wKCkpOihoLnB1c2goZCksZD1udWxsKTt2YXIgbT1jLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5mJiYobT14YyhmLG0pLGM9VGIoYyxmLCEwKSk7bihoLGZ1bmN0aW9uKGIpe2s9eWdbYl07Zys9az9rKGMsYS5EQVRFVElNRV9GT1JNQVRTLG0pOlwiJydcIj09PWI/XCInXCI6Yi5yZXBsYWNlKC8oXid8JyQpL2csXCJcIikucmVwbGFjZSgvJycvZyxcIidcIil9KTtyZXR1cm4gZ319ZnVuY3Rpb24gcGcoKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt4KGIpJiYoYj0yKTtyZXR1cm4gZWIoYSxiKX19ZnVuY3Rpb24gcWcoKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGQpe2I9SW5maW5pdHk9PT1NYXRoLmFicyhOdW1iZXIoYikpP051bWJlcihiKTpjYShiKTtpZihpc05hTihiKSlyZXR1cm4gYTtOKGEpJiYoYT1hLnRvU3RyaW5nKCkpO2lmKCFMKGEpJiYhRihhKSlyZXR1cm4gYTtkPSFkfHxpc05hTihkKT8wOmNhKGQpO2Q9MD5kP01hdGgubWF4KDAsYS5sZW5ndGgrZCk6ZDtyZXR1cm4gMDw9Yj9hLnNsaWNlKGQsZCtiKTowPT09ZD9hLnNsaWNlKGIsYS5sZW5ndGgpOmEuc2xpY2UoTWF0aC5tYXgoMCxkK2IpLFxuZCl9fWZ1bmN0aW9uIEVkKGEpe2Z1bmN0aW9uIGIoYixkKXtkPWQ/LTE6MTtyZXR1cm4gYi5tYXAoZnVuY3Rpb24oYil7dmFyIGM9MSxoPWFiO2lmKEQoYikpaD1iO2Vsc2UgaWYoRihiKSl7aWYoXCIrXCI9PWIuY2hhckF0KDApfHxcIi1cIj09Yi5jaGFyQXQoMCkpYz1cIi1cIj09Yi5jaGFyQXQoMCk/LTE6MSxiPWIuc3Vic3RyaW5nKDEpO2lmKFwiXCIhPT1iJiYoaD1hKGIpLGguY29uc3RhbnQpKXZhciBrPWgoKSxoPWZ1bmN0aW9uKGEpe3JldHVybiBhW2tdfX1yZXR1cm57Z2V0OmgsZGVzY2VuZGluZzpjKmR9fSl9ZnVuY3Rpb24gZChhKXtzd2l0Y2godHlwZW9mIGEpe2Nhc2UgXCJudW1iZXJcIjpjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJzdHJpbmdcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1yZXR1cm4gZnVuY3Rpb24oYSxlLGYpe2lmKG51bGw9PWEpcmV0dXJuIGE7aWYoIUNhKGEpKXRocm93IEgoXCJvcmRlckJ5XCIpKFwibm90YXJyYXlcIixhKTtMKGUpfHwoZT1bZV0pOzA9PT1lLmxlbmd0aCYmXG4oZT1bXCIrXCJdKTt2YXIgZz1iKGUsZik7Zy5wdXNoKHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57fX0sZGVzY2VuZGluZzpmPy0xOjF9KTthPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhLGZ1bmN0aW9uKGEsYil7cmV0dXJue3ZhbHVlOmEscHJlZGljYXRlVmFsdWVzOmcubWFwKGZ1bmN0aW9uKGMpe3ZhciBlPWMuZ2V0KGEpO2M9dHlwZW9mIGU7aWYobnVsbD09PWUpYz1cInN0cmluZ1wiLGU9XCJudWxsXCI7ZWxzZSBpZihcInN0cmluZ1wiPT09YyllPWUudG9Mb3dlckNhc2UoKTtlbHNlIGlmKFwib2JqZWN0XCI9PT1jKWE6e2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBlLnZhbHVlT2YmJihlPWUudmFsdWVPZigpLGQoZSkpKWJyZWFrIGE7aWYodGMoZSkmJihlPWUudG9TdHJpbmcoKSxkKGUpKSlicmVhayBhO2U9Yn1yZXR1cm57dmFsdWU6ZSx0eXBlOmN9fSl9fSk7YS5zb3J0KGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD0wLGU9Zy5sZW5ndGg7ZDxlOysrZCl7dmFyIGM9YS5wcmVkaWNhdGVWYWx1ZXNbZF0sXG5mPWIucHJlZGljYXRlVmFsdWVzW2RdLG49MDtjLnR5cGU9PT1mLnR5cGU/Yy52YWx1ZSE9PWYudmFsdWUmJihuPWMudmFsdWU8Zi52YWx1ZT8tMToxKTpuPWMudHlwZTxmLnR5cGU/LTE6MTtpZihjPW4qZ1tkXS5kZXNjZW5kaW5nKWJyZWFrfXJldHVybiBjfSk7cmV0dXJuIGE9YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWV9KX19ZnVuY3Rpb24gTWEoYSl7RChhKSYmKGE9e2xpbms6YX0pO2EucmVzdHJpY3Q9YS5yZXN0cmljdHx8XCJBQ1wiO3JldHVybiBiYShhKX1mdW5jdGlvbiBLZChhLGIsZCxjLGUpe3ZhciBmPXRoaXMsZz1bXTtmLiRlcnJvcj17fTtmLiQkc3VjY2Vzcz17fTtmLiRwZW5kaW5nPXY7Zi4kbmFtZT1lKGIubmFtZXx8Yi5uZ0Zvcm18fFwiXCIpKGQpO2YuJGRpcnR5PSExO2YuJHByaXN0aW5lPSEwO2YuJHZhbGlkPSEwO2YuJGludmFsaWQ9ITE7Zi4kc3VibWl0dGVkPSExO2YuJCRwYXJlbnRGb3JtPU1iO2YuJHJvbGxiYWNrVmlld1ZhbHVlPWZ1bmN0aW9uKCl7bihnLFxuZnVuY3Rpb24oYSl7YS4kcm9sbGJhY2tWaWV3VmFsdWUoKX0pfTtmLiRjb21taXRWaWV3VmFsdWU9ZnVuY3Rpb24oKXtuKGcsZnVuY3Rpb24oYSl7YS4kY29tbWl0Vmlld1ZhbHVlKCl9KX07Zi4kYWRkQ29udHJvbD1mdW5jdGlvbihhKXtUYShhLiRuYW1lLFwiaW5wdXRcIik7Zy5wdXNoKGEpO2EuJG5hbWUmJihmW2EuJG5hbWVdPWEpO2EuJCRwYXJlbnRGb3JtPWZ9O2YuJCRyZW5hbWVDb250cm9sPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS4kbmFtZTtmW2NdPT09YSYmZGVsZXRlIGZbY107ZltiXT1hO2EuJG5hbWU9Yn07Zi4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbihhKXthLiRuYW1lJiZmW2EuJG5hbWVdPT09YSYmZGVsZXRlIGZbYS4kbmFtZV07bihmLiRwZW5kaW5nLGZ1bmN0aW9uKGIsYyl7Zi4kc2V0VmFsaWRpdHkoYyxudWxsLGEpfSk7bihmLiRlcnJvcixmdW5jdGlvbihiLGMpe2YuJHNldFZhbGlkaXR5KGMsbnVsbCxhKX0pO24oZi4kJHN1Y2Nlc3MsZnVuY3Rpb24oYixjKXtmLiRzZXRWYWxpZGl0eShjLFxubnVsbCxhKX0pO2NiKGcsYSk7YS4kJHBhcmVudEZvcm09TWJ9O0xkKHtjdHJsOnRoaXMsJGVsZW1lbnQ6YSxzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWFbYl07ZD8tMT09PWQuaW5kZXhPZihjKSYmZC5wdXNoKGMpOmFbYl09W2NdfSx1bnNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YVtiXTtkJiYoY2IoZCxjKSwwPT09ZC5sZW5ndGgmJmRlbGV0ZSBhW2JdKX0sJGFuaW1hdGU6Y30pO2YuJHNldERpcnR5PWZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcyhhLFlhKTtjLmFkZENsYXNzKGEsTmIpO2YuJGRpcnR5PSEwO2YuJHByaXN0aW5lPSExO2YuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpfTtmLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpe2Muc2V0Q2xhc3MoYSxZYSxOYitcIiBuZy1zdWJtaXR0ZWRcIik7Zi4kZGlydHk9ITE7Zi4kcHJpc3RpbmU9ITA7Zi4kc3VibWl0dGVkPSExO24oZyxmdW5jdGlvbihhKXthLiRzZXRQcmlzdGluZSgpfSl9O2YuJHNldFVudG91Y2hlZD1mdW5jdGlvbigpe24oZyxcbmZ1bmN0aW9uKGEpe2EuJHNldFVudG91Y2hlZCgpfSl9O2YuJHNldFN1Ym1pdHRlZD1mdW5jdGlvbigpe2MuYWRkQ2xhc3MoYSxcIm5nLXN1Ym1pdHRlZFwiKTtmLiRzdWJtaXR0ZWQ9ITA7Zi4kJHBhcmVudEZvcm0uJHNldFN1Ym1pdHRlZCgpfX1mdW5jdGlvbiBuYyhhKXthLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYil7cmV0dXJuIGEuJGlzRW1wdHkoYik/YjpiLnRvU3RyaW5nKCl9KX1mdW5jdGlvbiBsYihhLGIsZCxjLGUsZil7dmFyIGc9RyhiWzBdLnR5cGUpO2lmKCFlLmFuZHJvaWQpe3ZhciBoPSExO2Iub24oXCJjb21wb3NpdGlvbnN0YXJ0XCIsZnVuY3Rpb24oYSl7aD0hMH0pO2Iub24oXCJjb21wb3NpdGlvbmVuZFwiLGZ1bmN0aW9uKCl7aD0hMTtrKCl9KX12YXIgaz1mdW5jdGlvbihhKXtsJiYoZi5kZWZlci5jYW5jZWwobCksbD1udWxsKTtpZighaCl7dmFyIGU9Yi52YWwoKTthPWEmJmEudHlwZTtcInBhc3N3b3JkXCI9PT1nfHxkLm5nVHJpbSYmXCJmYWxzZVwiPT09ZC5uZ1RyaW18fFxuKGU9WChlKSk7KGMuJHZpZXdWYWx1ZSE9PWV8fFwiXCI9PT1lJiZjLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykmJmMuJHNldFZpZXdWYWx1ZShlLGEpfX07aWYoZS5oYXNFdmVudChcImlucHV0XCIpKWIub24oXCJpbnB1dFwiLGspO2Vsc2V7dmFyIGwsbT1mdW5jdGlvbihhLGIsYyl7bHx8KGw9Zi5kZWZlcihmdW5jdGlvbigpe2w9bnVsbDtiJiZiLnZhbHVlPT09Y3x8ayhhKX0pKX07Yi5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmtleUNvZGU7OTE9PT1ifHwxNTxiJiYxOT5ifHwzNzw9YiYmNDA+PWJ8fG0oYSx0aGlzLHRoaXMudmFsdWUpfSk7aWYoZS5oYXNFdmVudChcInBhc3RlXCIpKWIub24oXCJwYXN0ZSBjdXRcIixtKX1iLm9uKFwiY2hhbmdlXCIsayk7Yy4kcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGE9Yy4kaXNFbXB0eShjLiR2aWV3VmFsdWUpP1wiXCI6Yy4kdmlld1ZhbHVlO2IudmFsKCkhPT1hJiZiLnZhbChhKX19ZnVuY3Rpb24gT2IoYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjKXt2YXIgZSxcbmY7aWYoVihkKSlyZXR1cm4gZDtpZihGKGQpKXsnXCInPT1kLmNoYXJBdCgwKSYmJ1wiJz09ZC5jaGFyQXQoZC5sZW5ndGgtMSkmJihkPWQuc3Vic3RyaW5nKDEsZC5sZW5ndGgtMSkpO2lmKHpnLnRlc3QoZCkpcmV0dXJuIG5ldyBEYXRlKGQpO2EubGFzdEluZGV4PTA7aWYoZT1hLmV4ZWMoZCkpcmV0dXJuIGUuc2hpZnQoKSxmPWM/e3l5eXk6Yy5nZXRGdWxsWWVhcigpLE1NOmMuZ2V0TW9udGgoKSsxLGRkOmMuZ2V0RGF0ZSgpLEhIOmMuZ2V0SG91cnMoKSxtbTpjLmdldE1pbnV0ZXMoKSxzczpjLmdldFNlY29uZHMoKSxzc3M6Yy5nZXRNaWxsaXNlY29uZHMoKS8xRTN9Ont5eXl5OjE5NzAsTU06MSxkZDoxLEhIOjAsbW06MCxzczowLHNzczowfSxuKGUsZnVuY3Rpb24oYSxjKXtjPGIubGVuZ3RoJiYoZltiW2NdXT0rYSl9KSxuZXcgRGF0ZShmLnl5eXksZi5NTS0xLGYuZGQsZi5ISCxmLm1tLGYuc3N8fDAsMUUzKmYuc3NzfHwwKX1yZXR1cm4gTmFOfX1mdW5jdGlvbiBtYihhLGIsZCxjKXtyZXR1cm4gZnVuY3Rpb24oZSxcbmYsZyxoLGssbCxtKXtmdW5jdGlvbiByKGEpe3JldHVybiBhJiYhKGEuZ2V0VGltZSYmYS5nZXRUaW1lKCkhPT1hLmdldFRpbWUoKSl9ZnVuY3Rpb24gcyhhKXtyZXR1cm4geShhKSYmIVYoYSk/ZChhKXx8djphfU1kKGUsZixnLGgpO2xiKGUsZixnLGgsayxsKTt2YXIgbj1oJiZoLiRvcHRpb25zJiZoLiRvcHRpb25zLnRpbWV6b25lLHE7aC4kJHBhcnNlck5hbWU9YTtoLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGguJGlzRW1wdHkoYSk/bnVsbDpiLnRlc3QoYSk/KGE9ZChhLHEpLG4mJihhPVRiKGEsbikpLGEpOnZ9KTtoLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoYSYmIVYoYSkpdGhyb3cgbmIoXCJkYXRlZm10XCIsYSk7aWYocihhKSlyZXR1cm4ocT1hKSYmbiYmKHE9VGIocSxuLCEwKSksbShcImRhdGVcIikoYSxjLG4pO3E9bnVsbDtyZXR1cm5cIlwifSk7aWYoeShnLm1pbil8fGcubmdNaW4pe3ZhciB0O2guJHZhbGlkYXRvcnMubWluPWZ1bmN0aW9uKGEpe3JldHVybiFyKGEpfHxcbngodCl8fGQoYSk+PXR9O2cuJG9ic2VydmUoXCJtaW5cIixmdW5jdGlvbihhKXt0PXMoYSk7aC4kdmFsaWRhdGUoKX0pfWlmKHkoZy5tYXgpfHxnLm5nTWF4KXt2YXIgcDtoLiR2YWxpZGF0b3JzLm1heD1mdW5jdGlvbihhKXtyZXR1cm4hcihhKXx8eChwKXx8ZChhKTw9cH07Zy4kb2JzZXJ2ZShcIm1heFwiLGZ1bmN0aW9uKGEpe3A9cyhhKTtoLiR2YWxpZGF0ZSgpfSl9fX1mdW5jdGlvbiBNZChhLGIsZCxjKXsoYy4kJGhhc05hdGl2ZVZhbGlkYXRvcnM9RShiWzBdLnZhbGlkaXR5KSkmJmMuJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXt2YXIgYz1iLnByb3AoXCJ2YWxpZGl0eVwiKXx8e307cmV0dXJuIGMuYmFkSW5wdXR8fGMudHlwZU1pc21hdGNoP3Y6YX0pfWZ1bmN0aW9uIE5kKGEsYixkLGMsZSl7aWYoeShjKSl7YT1hKGMpO2lmKCFhLmNvbnN0YW50KXRocm93IG5iKFwiY29uc3RleHByXCIsZCxjKTtyZXR1cm4gYShiKX1yZXR1cm4gZX1mdW5jdGlvbiBvYyhhLGIpe2E9XCJuZ0NsYXNzXCIrYTtcbnJldHVybltcIiRhbmltYXRlXCIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPVtdLGQ9MDthOmZvcig7ZDxhLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1hW2RdLG09MDttPGIubGVuZ3RoO20rKylpZihlPT1iW21dKWNvbnRpbnVlIGE7Yy5wdXNoKGUpfXJldHVybiBjfWZ1bmN0aW9uIGUoYSl7dmFyIGI9W107cmV0dXJuIEwoYSk/KG4oYSxmdW5jdGlvbihhKXtiPWIuY29uY2F0KGUoYSkpfSksYik6RihhKT9hLnNwbGl0KFwiIFwiKTpFKGEpPyhuKGEsZnVuY3Rpb24oYSxjKXthJiYoYj1iLmNvbmNhdChjLnNwbGl0KFwiIFwiKSkpfSksYik6YX1yZXR1cm57cmVzdHJpY3Q6XCJBQ1wiLGxpbms6ZnVuY3Rpb24oZixnLGgpe2Z1bmN0aW9uIGsoYSxiKXt2YXIgYz1nLmRhdGEoXCIkY2xhc3NDb3VudHNcIil8fFooKSxkPVtdO24oYSxmdW5jdGlvbihhKXtpZigwPGJ8fGNbYV0pY1thXT0oY1thXXx8MCkrYixjW2FdPT09KygwPGIpJiZkLnB1c2goYSl9KTtnLmRhdGEoXCIkY2xhc3NDb3VudHNcIixcbmMpO3JldHVybiBkLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIGwoYSl7aWYoITA9PT1ifHxmLiRpbmRleCUyPT09Yil7dmFyIGw9ZShhfHxbXSk7aWYoIW0pe3ZhciBuPWsobCwxKTtoLiRhZGRDbGFzcyhuKX1lbHNlIGlmKCFvYShhLG0pKXt2YXIgcT1lKG0pLG49YyhsLHEpLGw9YyhxLGwpLG49ayhuLDEpLGw9ayhsLC0xKTtuJiZuLmxlbmd0aCYmZC5hZGRDbGFzcyhnLG4pO2wmJmwubGVuZ3RoJiZkLnJlbW92ZUNsYXNzKGcsbCl9fW09bmEoYSl9dmFyIG07Zi4kd2F0Y2goaFthXSxsLCEwKTtoLiRvYnNlcnZlKFwiY2xhc3NcIixmdW5jdGlvbihiKXtsKGYuJGV2YWwoaFthXSkpfSk7XCJuZ0NsYXNzXCIhPT1hJiZmLiR3YXRjaChcIiRpbmRleFwiLGZ1bmN0aW9uKGMsZCl7dmFyIGc9YyYxO2lmKGchPT0oZCYxKSl7dmFyIGw9ZShmLiRldmFsKGhbYV0pKTtnPT09Yj8oZz1rKGwsMSksaC4kYWRkQ2xhc3MoZykpOihnPWsobCwtMSksaC4kcmVtb3ZlQ2xhc3MoZykpfX0pfX19XX1mdW5jdGlvbiBMZChhKXtmdW5jdGlvbiBiKGEsXG5iKXtiJiYhZlthXT8oay5hZGRDbGFzcyhlLGEpLGZbYV09ITApOiFiJiZmW2FdJiYoay5yZW1vdmVDbGFzcyhlLGEpLGZbYV09ITEpfWZ1bmN0aW9uIGQoYSxjKXthPWE/XCItXCIrQmMoYSxcIi1cIik6XCJcIjtiKG9iK2EsITA9PT1jKTtiKE9kK2EsITE9PT1jKX12YXIgYz1hLmN0cmwsZT1hLiRlbGVtZW50LGY9e30sZz1hLnNldCxoPWEudW5zZXQsaz1hLiRhbmltYXRlO2ZbT2RdPSEoZltvYl09ZS5oYXNDbGFzcyhvYikpO2MuJHNldFZhbGlkaXR5PWZ1bmN0aW9uKGEsZSxmKXt4KGUpPyhjLiRwZW5kaW5nfHwoYy4kcGVuZGluZz17fSksZyhjLiRwZW5kaW5nLGEsZikpOihjLiRwZW5kaW5nJiZoKGMuJHBlbmRpbmcsYSxmKSxQZChjLiRwZW5kaW5nKSYmKGMuJHBlbmRpbmc9dikpO05hKGUpP2U/KGgoYy4kZXJyb3IsYSxmKSxnKGMuJCRzdWNjZXNzLGEsZikpOihnKGMuJGVycm9yLGEsZiksaChjLiQkc3VjY2VzcyxhLGYpKTooaChjLiRlcnJvcixhLGYpLGgoYy4kJHN1Y2Nlc3MsYSxmKSk7XG5jLiRwZW5kaW5nPyhiKFFkLCEwKSxjLiR2YWxpZD1jLiRpbnZhbGlkPXYsZChcIlwiLG51bGwpKTooYihRZCwhMSksYy4kdmFsaWQ9UGQoYy4kZXJyb3IpLGMuJGludmFsaWQ9IWMuJHZhbGlkLGQoXCJcIixjLiR2YWxpZCkpO2U9Yy4kcGVuZGluZyYmYy4kcGVuZGluZ1thXT92OmMuJGVycm9yW2FdPyExOmMuJCRzdWNjZXNzW2FdPyEwOm51bGw7ZChhLGUpO2MuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eShhLGUsYyl9fWZ1bmN0aW9uIFBkKGEpe2lmKGEpZm9yKHZhciBiIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShiKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgQWc9L15cXC8oLispXFwvKFthLXpdKikkLyxzYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEc9ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSk/YS50b0xvd2VyQ2FzZSgpOmF9LHViPWZ1bmN0aW9uKGEpe3JldHVybiBGKGEpP2EudG9VcHBlckNhc2UoKTphfSx4YSxDLHVhLHdhPVtdLnNsaWNlLGFnPVtdLnNwbGljZSxCZz1cbltdLnB1c2gsZ2E9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx1Yz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsRGE9SChcIm5nXCIpLGlhPU8uYW5ndWxhcnx8KE8uYW5ndWxhcj17fSksVmIscGI9MDt4YT1XLmRvY3VtZW50TW9kZTtCLiRpbmplY3Q9W107YWIuJGluamVjdD1bXTt2YXIgTD1BcnJheS5pc0FycmF5LGFlPS9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XFxdJC8sWD1mdW5jdGlvbihhKXtyZXR1cm4gRihhKT9hLnRyaW0oKTphfSx4ZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZyxcIlxcXFwkMVwiKS5yZXBsYWNlKC9cXHgwOC9nLFwiXFxcXHgwOFwiKX0sRWE9ZnVuY3Rpb24oKXtpZigheShFYS5ydWxlcykpe3ZhciBhPVcucXVlcnlTZWxlY3RvcihcIltuZy1jc3BdXCIpfHxXLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1uZy1jc3BdXCIpO1xuaWYoYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoXCJuZy1jc3BcIil8fGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1uZy1jc3BcIik7RWEucnVsZXM9e25vVW5zYWZlRXZhbDohYnx8LTEhPT1iLmluZGV4T2YoXCJuby11bnNhZmUtZXZhbFwiKSxub0lubGluZVN0eWxlOiFifHwtMSE9PWIuaW5kZXhPZihcIm5vLWlubGluZS1zdHlsZVwiKX19ZWxzZXthPUVhO3RyeXtuZXcgRnVuY3Rpb24oXCJcIiksYj0hMX1jYXRjaChkKXtiPSEwfWEucnVsZXM9e25vVW5zYWZlRXZhbDpiLG5vSW5saW5lU3R5bGU6ITF9fX1yZXR1cm4gRWEucnVsZXN9LHJiPWZ1bmN0aW9uKCl7aWYoeShyYi5uYW1lXykpcmV0dXJuIHJiLm5hbWVfO3ZhciBhLGIsZD1RYS5sZW5ndGgsYyxlO2ZvcihiPTA7YjxkOysrYilpZihjPVFhW2JdLGE9Vy5xdWVyeVNlbGVjdG9yKFwiW1wiK2MucmVwbGFjZShcIjpcIixcIlxcXFw6XCIpK1wianFdXCIpKXtlPWEuZ2V0QXR0cmlidXRlKGMrXCJqcVwiKTticmVha31yZXR1cm4gcmIubmFtZV89ZX0sZGU9LzovZyxRYT1bXCJuZy1cIixcblwiZGF0YS1uZy1cIixcIm5nOlwiLFwieC1uZy1cIl0saWU9L1tBLVpdL2csQ2M9ITEsUGE9MyxtZT17ZnVsbDpcIjEuNS4wXCIsbWFqb3I6MSxtaW5vcjo1LGRvdDowLGNvZGVOYW1lOlwiZW5ub2JsZW1lbnQtZmFjaWxpdGF0aW9uXCJ9O1UuZXhwYW5kbz1cIm5nMzM5XCI7dmFyIGliPVUuY2FjaGU9e30sT2Y9MTtVLl9kYXRhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhY2hlW2FbdGhpcy5leHBhbmRvXV18fHt9fTt2YXIgSmY9LyhbXFw6XFwtXFxfXSsoLikpL2csS2Y9L15tb3ooW0EtWl0pLyx5Yj17bW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIsbW91c2VlbnRlcjpcIm1vdXNlb3ZlclwifSxYYj1IKFwianFMaXRlXCIpLE5mPS9ePChbXFx3LV0rKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyxXYj0vPHwmIz9cXHcrOy8sTGY9LzwoW1xcdzotXSspLyxNZj0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLGRhPXtvcHRpb246WzEsJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsXG5cIjwvc2VsZWN0PlwiXSx0aGVhZDpbMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGNvbDpbMixcIjx0YWJsZT48Y29sZ3JvdXA+XCIsXCI8L2NvbGdyb3VwPjwvdGFibGU+XCJdLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxfZGVmYXVsdDpbMCxcIlwiLFwiXCJdfTtkYS5vcHRncm91cD1kYS5vcHRpb247ZGEudGJvZHk9ZGEudGZvb3Q9ZGEuY29sZ3JvdXA9ZGEuY2FwdGlvbj1kYS50aGVhZDtkYS50aD1kYS50ZDt2YXIgVGY9Tm9kZS5wcm90b3R5cGUuY29udGFpbnN8fGZ1bmN0aW9uKGEpe3JldHVybiEhKHRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkmMTYpfSxSYT1VLnByb3RvdHlwZT17cmVhZHk6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2R8fChkPSEwLGEoKSl9dmFyIGQ9ITE7XCJjb21wbGV0ZVwiPT09Vy5yZWFkeVN0YXRlP3NldFRpbWVvdXQoYik6KHRoaXMub24oXCJET01Db250ZW50TG9hZGVkXCIsXG5iKSxVKE8pLm9uKFwibG9hZFwiLGIpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYT1bXTtuKHRoaXMsZnVuY3Rpb24oYil7YS5wdXNoKFwiXCIrYil9KTtyZXR1cm5cIltcIithLmpvaW4oXCIsIFwiKStcIl1cIn0sZXE6ZnVuY3Rpb24oYSl7cmV0dXJuIDA8PWE/Qyh0aGlzW2FdKTpDKHRoaXNbdGhpcy5sZW5ndGgrYV0pfSxsZW5ndGg6MCxwdXNoOkJnLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSxEYj17fTtuKFwibXVsdGlwbGUgc2VsZWN0ZWQgY2hlY2tlZCBkaXNhYmxlZCByZWFkT25seSByZXF1aXJlZCBvcGVuXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe0RiW0coYSldPWF9KTt2YXIgVWM9e307bihcImlucHV0IHNlbGVjdCBvcHRpb24gdGV4dGFyZWEgYnV0dG9uIGZvcm0gZGV0YWlsc1wiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtVY1thXT0hMH0pO3ZhciBjZD17bmdNaW5sZW5ndGg6XCJtaW5sZW5ndGhcIixuZ01heGxlbmd0aDpcIm1heGxlbmd0aFwiLG5nTWluOlwibWluXCIsbmdNYXg6XCJtYXhcIixcbm5nUGF0dGVybjpcInBhdHRlcm5cIn07bih7ZGF0YTpaYixyZW1vdmVEYXRhOmhiLGhhc0RhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGliW2EubmczMzldKXJldHVybiEwO3JldHVybiExfSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsZD1hLmxlbmd0aDtiPGQ7YisrKWhiKGFbYl0pfX0sZnVuY3Rpb24oYSxiKXtVW2JdPWF9KTtuKHtkYXRhOlpiLGluaGVyaXRlZERhdGE6Q2Isc2NvcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIEMuZGF0YShhLFwiJHNjb3BlXCIpfHxDYihhLnBhcmVudE5vZGV8fGEsW1wiJGlzb2xhdGVTY29wZVwiLFwiJHNjb3BlXCJdKX0saXNvbGF0ZVNjb3BlOmZ1bmN0aW9uKGEpe3JldHVybiBDLmRhdGEoYSxcIiRpc29sYXRlU2NvcGVcIil8fEMuZGF0YShhLFwiJGlzb2xhdGVTY29wZU5vVGVtcGxhdGVcIil9LGNvbnRyb2xsZXI6UmMsaW5qZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIENiKGEsXCIkaW5qZWN0b3JcIil9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUF0dHJpYnV0ZShiKX0sXG5oYXNDbGFzczp6Yixjc3M6ZnVuY3Rpb24oYSxiLGQpe2I9Z2IoYik7aWYoeShkKSlhLnN0eWxlW2JdPWQ7ZWxzZSByZXR1cm4gYS5zdHlsZVtiXX0sYXR0cjpmdW5jdGlvbihhLGIsZCl7dmFyIGM9YS5ub2RlVHlwZTtpZihjIT09UGEmJjIhPT1jJiY4IT09YylpZihjPUcoYiksRGJbY10paWYoeShkKSlkPyhhW2JdPSEwLGEuc2V0QXR0cmlidXRlKGIsYykpOihhW2JdPSExLGEucmVtb3ZlQXR0cmlidXRlKGMpKTtlbHNlIHJldHVybiBhW2JdfHwoYS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShiKXx8Qikuc3BlY2lmaWVkP2M6djtlbHNlIGlmKHkoZCkpYS5zZXRBdHRyaWJ1dGUoYixkKTtlbHNlIGlmKGEuZ2V0QXR0cmlidXRlKXJldHVybiBhPWEuZ2V0QXR0cmlidXRlKGIsMiksbnVsbD09PWE/djphfSxwcm9wOmZ1bmN0aW9uKGEsYixkKXtpZih5KGQpKWFbYl09ZDtlbHNlIHJldHVybiBhW2JdfSx0ZXh0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGQpe2lmKHgoZCkpe3ZhciBjPWEubm9kZVR5cGU7XG5yZXR1cm4gMT09PWN8fGM9PT1QYT9hLnRleHRDb250ZW50OlwiXCJ9YS50ZXh0Q29udGVudD1kfWEuJGR2PVwiXCI7cmV0dXJuIGF9KCksdmFsOmZ1bmN0aW9uKGEsYil7aWYoeChiKSl7aWYoYS5tdWx0aXBsZSYmXCJzZWxlY3RcIj09PXJhKGEpKXt2YXIgZD1bXTtuKGEub3B0aW9ucyxmdW5jdGlvbihhKXthLnNlbGVjdGVkJiZkLnB1c2goYS52YWx1ZXx8YS50ZXh0KX0pO3JldHVybiAwPT09ZC5sZW5ndGg/bnVsbDpkfXJldHVybiBhLnZhbHVlfWEudmFsdWU9Yn0saHRtbDpmdW5jdGlvbihhLGIpe2lmKHgoYikpcmV0dXJuIGEuaW5uZXJIVE1MO3diKGEsITApO2EuaW5uZXJIVE1MPWJ9LGVtcHR5OlNjfSxmdW5jdGlvbihhLGIpe1UucHJvdG90eXBlW2JdPWZ1bmN0aW9uKGIsYyl7dmFyIGUsZixnPXRoaXMubGVuZ3RoO2lmKGEhPT1TYyYmeCgyPT1hLmxlbmd0aCYmYSE9PXpiJiZhIT09UmM/YjpjKSl7aWYoRShiKSl7Zm9yKGU9MDtlPGc7ZSsrKWlmKGE9PT1aYilhKHRoaXNbZV0sYik7ZWxzZSBmb3IoZiBpbiBiKWEodGhpc1tlXSxcbmYsYltmXSk7cmV0dXJuIHRoaXN9ZT1hLiRkdjtnPXgoZSk/TWF0aC5taW4oZywxKTpnO2ZvcihmPTA7ZjxnO2YrKyl7dmFyIGg9YSh0aGlzW2ZdLGIsYyk7ZT1lP2UraDpofXJldHVybiBlfWZvcihlPTA7ZTxnO2UrKylhKHRoaXNbZV0sYixjKTtyZXR1cm4gdGhpc319KTtuKHtyZW1vdmVEYXRhOmhiLG9uOmZ1bmN0aW9uKGEsYixkLGMpe2lmKHkoYykpdGhyb3cgWGIoXCJvbmFyZ3NcIik7aWYoTWMoYSkpe2M9eGIoYSwhMCk7dmFyIGU9Yy5ldmVudHMsZj1jLmhhbmRsZTtmfHwoZj1jLmhhbmRsZT1RZihhLGUpKTtjPTA8PWIuaW5kZXhPZihcIiBcIik/Yi5zcGxpdChcIiBcIik6W2JdO2Zvcih2YXIgZz1jLmxlbmd0aCxoPWZ1bmN0aW9uKGIsYyxnKXt2YXIgaD1lW2JdO2h8fChoPWVbYl09W10saC5zcGVjaWFsSGFuZGxlcldyYXBwZXI9YyxcIiRkZXN0cm95XCI9PT1ifHxnfHxhLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSk7aC5wdXNoKGQpfTtnLS07KWI9Y1tnXSx5YltiXT8oaCh5YltiXSxTZiksXG5oKGIsdiwhMCkpOmgoYil9fSxvZmY6UWMsb25lOmZ1bmN0aW9uKGEsYixkKXthPUMoYSk7YS5vbihiLGZ1bmN0aW9uIGUoKXthLm9mZihiLGQpO2Eub2ZmKGIsZSl9KTthLm9uKGIsZCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGEsYil7dmFyIGQsYz1hLnBhcmVudE5vZGU7d2IoYSk7bihuZXcgVShiKSxmdW5jdGlvbihiKXtkP2MuaW5zZXJ0QmVmb3JlKGIsZC5uZXh0U2libGluZyk6Yy5yZXBsYWNlQ2hpbGQoYixhKTtkPWJ9KX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7dmFyIGI9W107bihhLmNoaWxkTm9kZXMsZnVuY3Rpb24oYSl7MT09PWEubm9kZVR5cGUmJmIucHVzaChhKX0pO3JldHVybiBifSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fGEuY2hpbGROb2Rlc3x8W119LGFwcGVuZDpmdW5jdGlvbihhLGIpe3ZhciBkPWEubm9kZVR5cGU7aWYoMT09PWR8fDExPT09ZCl7Yj1uZXcgVShiKTtmb3IodmFyIGQ9MCxjPWIubGVuZ3RoO2Q8YztkKyspYS5hcHBlbmRDaGlsZChiW2RdKX19LFxucHJlcGVuZDpmdW5jdGlvbihhLGIpe2lmKDE9PT1hLm5vZGVUeXBlKXt2YXIgZD1hLmZpcnN0Q2hpbGQ7bihuZXcgVShiKSxmdW5jdGlvbihiKXthLmluc2VydEJlZm9yZShiLGQpfSl9fSx3cmFwOmZ1bmN0aW9uKGEsYil7T2MoYSxDKGIpLmVxKDApLmNsb25lKClbMF0pfSxyZW1vdmU6JGIsZGV0YWNoOmZ1bmN0aW9uKGEpeyRiKGEsITApfSxhZnRlcjpmdW5jdGlvbihhLGIpe3ZhciBkPWEsYz1hLnBhcmVudE5vZGU7Yj1uZXcgVShiKTtmb3IodmFyIGU9MCxmPWIubGVuZ3RoO2U8ZjtlKyspe3ZhciBnPWJbZV07Yy5pbnNlcnRCZWZvcmUoZyxkLm5leHRTaWJsaW5nKTtkPWd9fSxhZGRDbGFzczpCYixyZW1vdmVDbGFzczpBYix0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIsZCl7YiYmbihiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihiKXt2YXIgZT1kO3goZSkmJihlPSF6YihhLGIpKTsoZT9CYjpBYikoYSxiKX0pfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5wYXJlbnROb2RlKSYmXG4xMSE9PWEubm9kZVR5cGU/YTpudWxsfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5leHRFbGVtZW50U2libGluZ30sZmluZDpmdW5jdGlvbihhLGIpe3JldHVybiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYik6W119LGNsb25lOlliLHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYixkKXt2YXIgYyxlLGY9Yi50eXBlfHxiLGc9eGIoYSk7aWYoZz0oZz1nJiZnLmV2ZW50cykmJmdbZl0pYz17cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGlzRGVmYXVsdFByZXZlbnRlZDpmdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5kZWZhdWx0UHJldmVudGVkfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMH0saXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkfSxcbnN0b3BQcm9wYWdhdGlvbjpCLHR5cGU6Zix0YXJnZXQ6YX0sYi50eXBlJiYoYz1UKGMsYikpLGI9bmEoZyksZT1kP1tjXS5jb25jYXQoZCk6W2NdLG4oYixmdW5jdGlvbihiKXtjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCl8fGIuYXBwbHkoYSxlKX0pfX0sZnVuY3Rpb24oYSxiKXtVLnByb3RvdHlwZVtiXT1mdW5jdGlvbihiLGMsZSl7Zm9yKHZhciBmLGc9MCxoPXRoaXMubGVuZ3RoO2c8aDtnKyspeChmKT8oZj1hKHRoaXNbZ10sYixjLGUpLHkoZikmJihmPUMoZikpKTpQYyhmLGEodGhpc1tnXSxiLGMsZSkpO3JldHVybiB5KGYpP2Y6dGhpc307VS5wcm90b3R5cGUuYmluZD1VLnByb3RvdHlwZS5vbjtVLnByb3RvdHlwZS51bmJpbmQ9VS5wcm90b3R5cGUub2ZmfSk7VWEucHJvdG90eXBlPXtwdXQ6ZnVuY3Rpb24oYSxiKXt0aGlzW0ZhKGEsdGhpcy5uZXh0VWlkKV09Yn0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW0ZhKGEsdGhpcy5uZXh0VWlkKV19LHJlbW92ZTpmdW5jdGlvbihhKXt2YXIgYj1cbnRoaXNbYT1GYShhLHRoaXMubmV4dFVpZCldO2RlbGV0ZSB0aGlzW2FdO3JldHVybiBifX07dmFyIEhmPVtmdW5jdGlvbigpe3RoaXMuJGdldD1bZnVuY3Rpb24oKXtyZXR1cm4gVWF9XX1dLFZmPS9eKFteXFwoXSs/KT0+LyxXZj0vXlteXFwoXSpcXChcXHMqKFteXFwpXSopXFwpL20sQ2c9LywvLERnPS9eXFxzKihfPykoXFxTKz8pXFwxXFxzKiQvLFVmPS8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9tZyxHYT1IKFwiJGluamVjdG9yXCIpO2ZiLiQkYW5ub3RhdGU9ZnVuY3Rpb24oYSxiLGQpe3ZhciBjO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXtpZighKGM9YS4kaW5qZWN0KSl7Yz1bXTtpZihhLmxlbmd0aCl7aWYoYil0aHJvdyBGKGQpJiZkfHwoZD1hLm5hbWV8fFhmKGEpKSxHYShcInN0cmljdGRpXCIsZCk7Yj1WYyhhKTtuKGJbMV0uc3BsaXQoQ2cpLGZ1bmN0aW9uKGEpe2EucmVwbGFjZShEZyxmdW5jdGlvbihhLGIsZCl7Yy5wdXNoKGQpfSl9KX1hLiRpbmplY3Q9Y319ZWxzZSBMKGEpP1xuKGI9YS5sZW5ndGgtMSxTYShhW2JdLFwiZm5cIiksYz1hLnNsaWNlKDAsYikpOlNhKGEsXCJmblwiLCEwKTtyZXR1cm4gY307dmFyIFJkPUgoXCIkYW5pbWF0ZVwiKSwkZT1mdW5jdGlvbigpe3RoaXMuJGdldD1mdW5jdGlvbigpe319LGFmPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFVhLGI9W107dGhpcy4kZ2V0PVtcIiQkQW5pbWF0ZVJ1bm5lclwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGQsYyl7ZnVuY3Rpb24gZShhLGIsYyl7dmFyIGQ9ITE7YiYmKGI9RihiKT9iLnNwbGl0KFwiIFwiKTpMKGIpP2I6W10sbihiLGZ1bmN0aW9uKGIpe2ImJihkPSEwLGFbYl09Yyl9KSk7cmV0dXJuIGR9ZnVuY3Rpb24gZigpe24oYixmdW5jdGlvbihiKXt2YXIgYz1hLmdldChiKTtpZihjKXt2YXIgZD1ZZihiLmF0dHIoXCJjbGFzc1wiKSksZT1cIlwiLGY9XCJcIjtuKGMsZnVuY3Rpb24oYSxiKXthIT09ISFkW2JdJiYoYT9lKz0oZS5sZW5ndGg/XCIgXCI6XCJcIikrYjpmKz0oZi5sZW5ndGg/XCIgXCI6XCJcIikrYil9KTtuKGIsZnVuY3Rpb24oYSl7ZSYmXG5CYihhLGUpO2YmJkFiKGEsZil9KTthLnJlbW92ZShiKX19KTtiLmxlbmd0aD0wfXJldHVybntlbmFibGVkOkIsb246QixvZmY6QixwaW46QixwdXNoOmZ1bmN0aW9uKGcsaCxrLGwpe2wmJmwoKTtrPWt8fHt9O2suZnJvbSYmZy5jc3Moay5mcm9tKTtrLnRvJiZnLmNzcyhrLnRvKTtpZihrLmFkZENsYXNzfHxrLnJlbW92ZUNsYXNzKWlmKGg9ay5hZGRDbGFzcyxsPWsucmVtb3ZlQ2xhc3Msaz1hLmdldChnKXx8e30saD1lKGssaCwhMCksbD1lKGssbCwhMSksaHx8bClhLnB1dChnLGspLGIucHVzaChnKSwxPT09Yi5sZW5ndGgmJmMuJCRwb3N0RGlnZXN0KGYpO2c9bmV3IGQ7Zy5jb21wbGV0ZSgpO3JldHVybiBnfX19XX0sWWU9W1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuJCRyZWdpc3RlcmVkQW5pbWF0aW9ucz1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oZCxjKXtpZihkJiZcIi5cIiE9PWQuY2hhckF0KDApKXRocm93IFJkKFwibm90Y3NlbFwiLFxuZCk7dmFyIGU9ZCtcIi1hbmltYXRpb25cIjtiLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbZC5zdWJzdHIoMSldPWU7YS5mYWN0b3J5KGUsYyl9O3RoaXMuY2xhc3NOYW1lRmlsdGVyPWZ1bmN0aW9uKGEpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYodGhpcy4kJGNsYXNzTmFtZUZpbHRlcj1hIGluc3RhbmNlb2YgUmVnRXhwP2E6bnVsbCkmJi8oXFxzK3xcXC8pbmctYW5pbWF0ZShcXHMrfFxcLykvLnRlc3QodGhpcy4kJGNsYXNzTmFtZUZpbHRlci50b1N0cmluZygpKSl0aHJvdyBSZChcIm5vbmdjbHNcIixcIm5nLWFuaW1hdGVcIik7cmV0dXJuIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXJ9O3RoaXMuJGdldD1bXCIkJGFuaW1hdGVRdWV1ZVwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxjLGQpe2lmKGQpe3ZhciBoO2E6e2ZvcihoPTA7aDxkLmxlbmd0aDtoKyspe3ZhciBrPWRbaF07aWYoMT09PWsubm9kZVR5cGUpe2g9azticmVhayBhfX1oPXZvaWQgMH0haHx8aC5wYXJlbnROb2RlfHxoLnByZXZpb3VzRWxlbWVudFNpYmxpbmd8fFxuKGQ9bnVsbCl9ZD9kLmFmdGVyKGEpOmMucHJlcGVuZChhKX1yZXR1cm57b246YS5vbixvZmY6YS5vZmYscGluOmEucGluLGVuYWJsZWQ6YS5lbmFibGVkLGNhbmNlbDpmdW5jdGlvbihhKXthLmVuZCYmYS5lbmQoKX0sZW50ZXI6ZnVuY3Rpb24oZSxmLGcsaCl7Zj1mJiZDKGYpO2c9ZyYmQyhnKTtmPWZ8fGcucGFyZW50KCk7YihlLGYsZyk7cmV0dXJuIGEucHVzaChlLFwiZW50ZXJcIixIYShoKSl9LG1vdmU6ZnVuY3Rpb24oZSxmLGcsaCl7Zj1mJiZDKGYpO2c9ZyYmQyhnKTtmPWZ8fGcucGFyZW50KCk7YihlLGYsZyk7cmV0dXJuIGEucHVzaChlLFwibW92ZVwiLEhhKGgpKX0sbGVhdmU6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5wdXNoKGIsXCJsZWF2ZVwiLEhhKGMpLGZ1bmN0aW9uKCl7Yi5yZW1vdmUoKX0pfSxhZGRDbGFzczpmdW5jdGlvbihiLGMsZyl7Zz1IYShnKTtnLmFkZENsYXNzPWpiKGcuYWRkY2xhc3MsYyk7cmV0dXJuIGEucHVzaChiLFwiYWRkQ2xhc3NcIixnKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYixcbmMsZyl7Zz1IYShnKTtnLnJlbW92ZUNsYXNzPWpiKGcucmVtb3ZlQ2xhc3MsYyk7cmV0dXJuIGEucHVzaChiLFwicmVtb3ZlQ2xhc3NcIixnKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oYixjLGcsaCl7aD1IYShoKTtoLmFkZENsYXNzPWpiKGguYWRkQ2xhc3MsYyk7aC5yZW1vdmVDbGFzcz1qYihoLnJlbW92ZUNsYXNzLGcpO3JldHVybiBhLnB1c2goYixcInNldENsYXNzXCIsaCl9LGFuaW1hdGU6ZnVuY3Rpb24oYixjLGcsaCxrKXtrPUhhKGspO2suZnJvbT1rLmZyb20/VChrLmZyb20sYyk6YztrLnRvPWsudG8/VChrLnRvLGcpOmc7ay50ZW1wQ2xhc3Nlcz1qYihrLnRlbXBDbGFzc2VzLGh8fFwibmctaW5saW5lLWFuaW1hdGVcIik7cmV0dXJuIGEucHVzaChiLFwiYW5pbWF0ZVwiLGspfX19XX1dLGNmPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiQkckFGXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXtkLnB1c2goYik7MTxkLmxlbmd0aHx8YShmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8ZC5sZW5ndGg7YSsrKWRbYV0oKTtcbmQ9W119KX12YXIgZD1bXTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT0hMTtiKGZ1bmN0aW9uKCl7YT0hMH0pO3JldHVybiBmdW5jdGlvbihkKXthP2QoKTpiKGQpfX19XX0sYmY9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9W1wiJHFcIixcIiRzbmlmZmVyXCIsXCIkJGFuaW1hdGVBc3luY1J1blwiLFwiJGRvY3VtZW50XCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihhKXt0aGlzLnNldEhvc3QoYSk7dmFyIGI9ZCgpO3RoaXMuX2RvbmVDYWxsYmFja3M9W107dGhpcy5fdGljaz1mdW5jdGlvbihhKXt2YXIgZD1jWzBdO2QmJmQuaGlkZGVuP2UoYSwwLCExKTpiKGEpfTt0aGlzLl9zdGF0ZT0wfWYuY2hhaW49ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7aWYoZD09PWEubGVuZ3RoKWIoITApO2Vsc2UgYVtkXShmdW5jdGlvbihhKXshMT09PWE/YighMSk6KGQrKyxjKCkpfSl9dmFyIGQ9MDtjKCl9O2YuYWxsPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhmKXtlPWUmJmY7KytkPT09XG5hLmxlbmd0aCYmYihlKX12YXIgZD0wLGU9ITA7bihhLGZ1bmN0aW9uKGEpe2EuZG9uZShjKX0pfTtmLnByb3RvdHlwZT17c2V0SG9zdDpmdW5jdGlvbihhKXt0aGlzLmhvc3Q9YXx8e319LGRvbmU6ZnVuY3Rpb24oYSl7Mj09PXRoaXMuX3N0YXRlP2EoKTp0aGlzLl9kb25lQ2FsbGJhY2tzLnB1c2goYSl9LHByb2dyZXNzOkIsZ2V0UHJvbWlzZTpmdW5jdGlvbigpe2lmKCF0aGlzLnByb21pc2Upe3ZhciBiPXRoaXM7dGhpcy5wcm9taXNlPWEoZnVuY3Rpb24oYSxjKXtiLmRvbmUoZnVuY3Rpb24oYil7ITE9PT1iP2MoKTphKCl9KX0pfXJldHVybiB0aGlzLnByb21pc2V9LHRoZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRQcm9taXNlKCkudGhlbihhLGIpfSxcImNhdGNoXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpW1wiY2F0Y2hcIl0oYSl9LFwiZmluYWxseVwiOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFByb21pc2UoKVtcImZpbmFsbHlcIl0oYSl9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnBhdXNlJiZcbnRoaXMuaG9zdC5wYXVzZSgpfSxyZXN1bWU6ZnVuY3Rpb24oKXt0aGlzLmhvc3QucmVzdW1lJiZ0aGlzLmhvc3QucmVzdW1lKCl9LGVuZDpmdW5jdGlvbigpe3RoaXMuaG9zdC5lbmQmJnRoaXMuaG9zdC5lbmQoKTt0aGlzLl9yZXNvbHZlKCEwKX0sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LmNhbmNlbCYmdGhpcy5ob3N0LmNhbmNlbCgpO3RoaXMuX3Jlc29sdmUoITEpfSxjb21wbGV0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzOzA9PT1iLl9zdGF0ZSYmKGIuX3N0YXRlPTEsYi5fdGljayhmdW5jdGlvbigpe2IuX3Jlc29sdmUoYSl9KSl9LF9yZXNvbHZlOmZ1bmN0aW9uKGEpezIhPT10aGlzLl9zdGF0ZSYmKG4odGhpcy5fZG9uZUNhbGxiYWNrcyxmdW5jdGlvbihiKXtiKGEpfSksdGhpcy5fZG9uZUNhbGxiYWNrcy5sZW5ndGg9MCx0aGlzLl9zdGF0ZT0yKX19O3JldHVybiBmfV19LFplPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiQkckFGXCIsXCIkcVwiLFwiJCRBbmltYXRlUnVubmVyXCIsXG5mdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7ZnVuY3Rpb24gZigpe2EoZnVuY3Rpb24oKXtnLmFkZENsYXNzJiYoYi5hZGRDbGFzcyhnLmFkZENsYXNzKSxnLmFkZENsYXNzPW51bGwpO2cucmVtb3ZlQ2xhc3MmJihiLnJlbW92ZUNsYXNzKGcucmVtb3ZlQ2xhc3MpLGcucmVtb3ZlQ2xhc3M9bnVsbCk7Zy50byYmKGIuY3NzKGcudG8pLGcudG89bnVsbCk7aHx8ay5jb21wbGV0ZSgpO2g9ITB9KTtyZXR1cm4ga312YXIgZz1lfHx7fTtnLiQkcHJlcGFyZWR8fChnPU9hKGcpKTtnLmNsZWFudXBTdHlsZXMmJihnLmZyb209Zy50bz1udWxsKTtnLmZyb20mJihiLmNzcyhnLmZyb20pLGcuZnJvbT1udWxsKTt2YXIgaCxrPW5ldyBkO3JldHVybntzdGFydDpmLGVuZDpmfX19XX0samE9SChcIiRjb21waWxlXCIpO0VjLiRpbmplY3Q9W1wiJHByb3ZpZGVcIixcIiQkc2FuaXRpemVVcmlQcm92aWRlclwiXTt2YXIgWGM9L14oKD86eHxkYXRhKVtcXDpcXC1fXSkvaSxiZz1IKFwiJGNvbnRyb2xsZXJcIiksXG5kZD0vXihcXFMrKShcXHMrYXNcXHMrKFtcXHckXSspKT8kLyxqZj1mdW5jdGlvbigpe3RoaXMuJGdldD1bXCIkZG9jdW1lbnRcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yj8hYi5ub2RlVHlwZSYmYiBpbnN0YW5jZW9mIEMmJihiPWJbMF0pOmI9YVswXS5ib2R5O3JldHVybiBiLm9mZnNldFdpZHRoKzF9fV19LGVkPVwiYXBwbGljYXRpb24vanNvblwiLGRjPXtcIkNvbnRlbnQtVHlwZVwiOmVkK1wiO2NoYXJzZXQ9dXRmLThcIn0sZGc9L15cXFt8Xlxceyg/IVxceykvLGVnPXtcIltcIjovXSQvLFwie1wiOi99JC99LGNnPS9eXFwpXFxdXFx9Jyw/XFxuLyxFZz1IKFwiJGh0dHBcIiksaWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgRWcoXCJsZWdhY3lcIixhKTt9fSxLYT1pYS4kaW50ZXJwb2xhdGVNaW5FcnI9SChcIiRpbnRlcnBvbGF0ZVwiKTtLYS50aHJvd05vY29uY2F0PWZ1bmN0aW9uKGEpe3Rocm93IEthKFwibm9jb25jYXRcIixhKTt9O0thLmludGVycj1mdW5jdGlvbihhLGIpe3JldHVybiBLYShcImludGVyclwiLFxuYSxiLnRvU3RyaW5nKCkpfTt2YXIgRmc9L14oW15cXD8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/JC8sZ2c9e2h0dHA6ODAsaHR0cHM6NDQzLGZ0cDoyMX0sR2I9SChcIiRsb2NhdGlvblwiKSxHZz17JCRodG1sNTohMSwkJHJlcGxhY2U6ITEsYWJzVXJsOkhiKFwiJCRhYnNVcmxcIiksdXJsOmZ1bmN0aW9uKGEpe2lmKHgoYSkpcmV0dXJuIHRoaXMuJCR1cmw7dmFyIGI9RmcuZXhlYyhhKTsoYlsxXXx8XCJcIj09PWEpJiZ0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KGJbMV0pKTsoYlsyXXx8YlsxXXx8XCJcIj09PWEpJiZ0aGlzLnNlYXJjaChiWzNdfHxcIlwiKTt0aGlzLmhhc2goYls1XXx8XCJcIik7cmV0dXJuIHRoaXN9LHByb3RvY29sOkhiKFwiJCRwcm90b2NvbFwiKSxob3N0OkhiKFwiJCRob3N0XCIpLHBvcnQ6SGIoXCIkJHBvcnRcIikscGF0aDpuZChcIiQkcGF0aFwiLGZ1bmN0aW9uKGEpe2E9bnVsbCE9PWE/YS50b1N0cmluZygpOlwiXCI7cmV0dXJuXCIvXCI9PWEuY2hhckF0KDApP2E6XCIvXCIrYX0pLHNlYXJjaDpmdW5jdGlvbihhLFxuYil7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdGhpcy4kJHNlYXJjaDtjYXNlIDE6aWYoRihhKXx8TihhKSlhPWEudG9TdHJpbmcoKSx0aGlzLiQkc2VhcmNoPXpjKGEpO2Vsc2UgaWYoRShhKSlhPU9hKGEse30pLG4oYSxmdW5jdGlvbihiLGMpe251bGw9PWImJmRlbGV0ZSBhW2NdfSksdGhpcy4kJHNlYXJjaD1hO2Vsc2UgdGhyb3cgR2IoXCJpc3JjaGFyZ1wiKTticmVhaztkZWZhdWx0OngoYil8fG51bGw9PT1iP2RlbGV0ZSB0aGlzLiQkc2VhcmNoW2FdOnRoaXMuJCRzZWFyY2hbYV09Yn10aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfSxoYXNoOm5kKFwiJCRoYXNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hP2EudG9TdHJpbmcoKTpcIlwifSkscmVwbGFjZTpmdW5jdGlvbigpe3RoaXMuJCRyZXBsYWNlPSEwO3JldHVybiB0aGlzfX07bihbbWQsZ2MsZmNdLGZ1bmN0aW9uKGEpe2EucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoR2cpO2EucHJvdG90eXBlLnN0YXRlPVxuZnVuY3Rpb24oYil7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuJCRzdGF0ZTtpZihhIT09ZmN8fCF0aGlzLiQkaHRtbDUpdGhyb3cgR2IoXCJub3N0YXRlXCIpO3RoaXMuJCRzdGF0ZT14KGIpP251bGw6YjtyZXR1cm4gdGhpc319KTt2YXIga2E9SChcIiRwYXJzZVwiKSxpZz1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxqZz1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHksa2c9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsUGI9WigpO24oXCIrIC0gKiAvICUgPT09ICE9PSA9PSAhPSA8ID4gPD0gPj0gJiYgfHwgISA9IHxcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7UGJbYV09ITB9KTt2YXIgSGc9e246XCJcXG5cIixmOlwiXFxmXCIscjpcIlxcclwiLHQ6XCJcXHRcIix2OlwiXFx2XCIsXCInXCI6XCInXCIsJ1wiJzonXCInfSxpYz1mdW5jdGlvbihhKXt0aGlzLm9wdGlvbnM9YX07aWMucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjppYyxsZXg6ZnVuY3Rpb24oYSl7dGhpcy50ZXh0PWE7dGhpcy5pbmRleD0wO2Zvcih0aGlzLnRva2Vucz1cbltdO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspaWYoYT10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLCdcIic9PT1hfHxcIidcIj09PWEpdGhpcy5yZWFkU3RyaW5nKGEpO2Vsc2UgaWYodGhpcy5pc051bWJlcihhKXx8XCIuXCI9PT1hJiZ0aGlzLmlzTnVtYmVyKHRoaXMucGVlaygpKSl0aGlzLnJlYWROdW1iZXIoKTtlbHNlIGlmKHRoaXMuaXNJZGVudChhKSl0aGlzLnJlYWRJZGVudCgpO2Vsc2UgaWYodGhpcy5pcyhhLFwiKCl7fVtdLiw7Oj9cIikpdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmF9KSx0aGlzLmluZGV4Kys7ZWxzZSBpZih0aGlzLmlzV2hpdGVzcGFjZShhKSl0aGlzLmluZGV4Kys7ZWxzZXt2YXIgYj1hK3RoaXMucGVlaygpLGQ9Yit0aGlzLnBlZWsoMiksYz1QYltiXSxlPVBiW2RdO1BiW2FdfHxjfHxlPyhhPWU/ZDpjP2I6YSx0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6YSxvcGVyYXRvcjohMH0pLHRoaXMuaW5kZXgrPVxuYS5sZW5ndGgpOnRoaXMudGhyb3dFcnJvcihcIlVuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgXCIsdGhpcy5pbmRleCx0aGlzLmluZGV4KzEpfXJldHVybiB0aGlzLnRva2Vuc30saXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4tMSE9PWIuaW5kZXhPZihhKX0scGVlazpmdW5jdGlvbihhKXthPWF8fDE7cmV0dXJuIHRoaXMuaW5kZXgrYTx0aGlzLnRleHQubGVuZ3RoP3RoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCthKTohMX0saXNOdW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuXCIwXCI8PWEmJlwiOVwiPj1hJiZcInN0cmluZ1wiPT09dHlwZW9mIGF9LGlzV2hpdGVzcGFjZTpmdW5jdGlvbihhKXtyZXR1cm5cIiBcIj09PWF8fFwiXFxyXCI9PT1hfHxcIlxcdFwiPT09YXx8XCJcXG5cIj09PWF8fFwiXFx2XCI9PT1hfHxcIlxcdTAwYTBcIj09PWF9LGlzSWRlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJhXCI8PWEmJlwielwiPj1hfHxcIkFcIjw9YSYmXCJaXCI+PWF8fFwiX1wiPT09YXx8XCIkXCI9PT1hfSxpc0V4cE9wZXJhdG9yOmZ1bmN0aW9uKGEpe3JldHVyblwiLVwiPT09XG5hfHxcIitcIj09PWF8fHRoaXMuaXNOdW1iZXIoYSl9LHRocm93RXJyb3I6ZnVuY3Rpb24oYSxiLGQpe2Q9ZHx8dGhpcy5pbmRleDtiPXkoYik/XCJzIFwiK2IrXCItXCIrdGhpcy5pbmRleCtcIiBbXCIrdGhpcy50ZXh0LnN1YnN0cmluZyhiLGQpK1wiXVwiOlwiIFwiK2Q7dGhyb3cga2EoXCJsZXhlcnJcIixhLGIsdGhpcy50ZXh0KTt9LHJlYWROdW1iZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJcIixiPXRoaXMuaW5kZXg7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGQ9Ryh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtpZihcIi5cIj09ZHx8dGhpcy5pc051bWJlcihkKSlhKz1kO2Vsc2V7dmFyIGM9dGhpcy5wZWVrKCk7aWYoXCJlXCI9PWQmJnRoaXMuaXNFeHBPcGVyYXRvcihjKSlhKz1kO2Vsc2UgaWYodGhpcy5pc0V4cE9wZXJhdG9yKGQpJiZjJiZ0aGlzLmlzTnVtYmVyKGMpJiZcImVcIj09YS5jaGFyQXQoYS5sZW5ndGgtMSkpYSs9ZDtlbHNlIGlmKCF0aGlzLmlzRXhwT3BlcmF0b3IoZCl8fFxuYyYmdGhpcy5pc051bWJlcihjKXx8XCJlXCIhPWEuY2hhckF0KGEubGVuZ3RoLTEpKWJyZWFrO2Vsc2UgdGhpcy50aHJvd0Vycm9yKFwiSW52YWxpZCBleHBvbmVudFwiKX10aGlzLmluZGV4Kyt9dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6Yix0ZXh0OmEsY29uc3RhbnQ6ITAsdmFsdWU6TnVtYmVyKGEpfSl9LHJlYWRJZGVudDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmluZGV4O3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBiPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7aWYoIXRoaXMuaXNJZGVudChiKSYmIXRoaXMuaXNOdW1iZXIoYikpYnJlYWs7dGhpcy5pbmRleCsrfXRoaXMudG9rZW5zLnB1c2goe2luZGV4OmEsdGV4dDp0aGlzLnRleHQuc2xpY2UoYSx0aGlzLmluZGV4KSxpZGVudGlmaWVyOiEwfSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbmRleDt0aGlzLmluZGV4Kys7Zm9yKHZhciBkPVwiXCIsYz1hLGU9ITE7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGY9XG50aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLGM9YytmO2lmKGUpXCJ1XCI9PT1mPyhlPXRoaXMudGV4dC5zdWJzdHJpbmcodGhpcy5pbmRleCsxLHRoaXMuaW5kZXgrNSksZS5tYXRjaCgvW1xcZGEtZl17NH0vaSl8fHRoaXMudGhyb3dFcnJvcihcIkludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcXFx1XCIrZStcIl1cIiksdGhpcy5pbmRleCs9NCxkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUsMTYpKSk6ZCs9SGdbZl18fGYsZT0hMTtlbHNlIGlmKFwiXFxcXFwiPT09ZillPSEwO2Vsc2V7aWYoZj09PWEpe3RoaXMuaW5kZXgrKzt0aGlzLnRva2Vucy5wdXNoKHtpbmRleDpiLHRleHQ6Yyxjb25zdGFudDohMCx2YWx1ZTpkfSk7cmV0dXJufWQrPWZ9dGhpcy5pbmRleCsrfXRoaXMudGhyb3dFcnJvcihcIlVudGVybWluYXRlZCBxdW90ZVwiLGIpfX07dmFyIHE9ZnVuY3Rpb24oYSxiKXt0aGlzLmxleGVyPWE7dGhpcy5vcHRpb25zPWJ9O3EuUHJvZ3JhbT1cIlByb2dyYW1cIjtxLkV4cHJlc3Npb25TdGF0ZW1lbnQ9XG5cIkV4cHJlc3Npb25TdGF0ZW1lbnRcIjtxLkFzc2lnbm1lbnRFeHByZXNzaW9uPVwiQXNzaWdubWVudEV4cHJlc3Npb25cIjtxLkNvbmRpdGlvbmFsRXhwcmVzc2lvbj1cIkNvbmRpdGlvbmFsRXhwcmVzc2lvblwiO3EuTG9naWNhbEV4cHJlc3Npb249XCJMb2dpY2FsRXhwcmVzc2lvblwiO3EuQmluYXJ5RXhwcmVzc2lvbj1cIkJpbmFyeUV4cHJlc3Npb25cIjtxLlVuYXJ5RXhwcmVzc2lvbj1cIlVuYXJ5RXhwcmVzc2lvblwiO3EuQ2FsbEV4cHJlc3Npb249XCJDYWxsRXhwcmVzc2lvblwiO3EuTWVtYmVyRXhwcmVzc2lvbj1cIk1lbWJlckV4cHJlc3Npb25cIjtxLklkZW50aWZpZXI9XCJJZGVudGlmaWVyXCI7cS5MaXRlcmFsPVwiTGl0ZXJhbFwiO3EuQXJyYXlFeHByZXNzaW9uPVwiQXJyYXlFeHByZXNzaW9uXCI7cS5Qcm9wZXJ0eT1cIlByb3BlcnR5XCI7cS5PYmplY3RFeHByZXNzaW9uPVwiT2JqZWN0RXhwcmVzc2lvblwiO3EuVGhpc0V4cHJlc3Npb249XCJUaGlzRXhwcmVzc2lvblwiO3EuTG9jYWxzRXhwcmVzc2lvbj1cIkxvY2Fsc0V4cHJlc3Npb25cIjtcbnEuTkdWYWx1ZVBhcmFtZXRlcj1cIk5HVmFsdWVQYXJhbWV0ZXJcIjtxLnByb3RvdHlwZT17YXN0OmZ1bmN0aW9uKGEpe3RoaXMudGV4dD1hO3RoaXMudG9rZW5zPXRoaXMubGV4ZXIubGV4KGEpO2E9dGhpcy5wcm9ncmFtKCk7MCE9PXRoaXMudG9rZW5zLmxlbmd0aCYmdGhpcy50aHJvd0Vycm9yKFwiaXMgYW4gdW5leHBlY3RlZCB0b2tlblwiLHRoaXMudG9rZW5zWzBdKTtyZXR1cm4gYX0scHJvZ3JhbTpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXTs7KWlmKDA8dGhpcy50b2tlbnMubGVuZ3RoJiYhdGhpcy5wZWVrKFwifVwiLFwiKVwiLFwiO1wiLFwiXVwiKSYmYS5wdXNoKHRoaXMuZXhwcmVzc2lvblN0YXRlbWVudCgpKSwhdGhpcy5leHBlY3QoXCI7XCIpKXJldHVybnt0eXBlOnEuUHJvZ3JhbSxib2R5OmF9fSxleHByZXNzaW9uU3RhdGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cS5FeHByZXNzaW9uU3RhdGVtZW50LGV4cHJlc3Npb246dGhpcy5maWx0ZXJDaGFpbigpfX0sZmlsdGVyQ2hhaW46ZnVuY3Rpb24oKXtmb3IodmFyIGE9XG50aGlzLmV4cHJlc3Npb24oKTt0aGlzLmV4cGVjdChcInxcIik7KWE9dGhpcy5maWx0ZXIoYSk7cmV0dXJuIGF9LGV4cHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hc3NpZ25tZW50KCl9LGFzc2lnbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRlcm5hcnkoKTt0aGlzLmV4cGVjdChcIj1cIikmJihhPXt0eXBlOnEuQXNzaWdubWVudEV4cHJlc3Npb24sbGVmdDphLHJpZ2h0OnRoaXMuYXNzaWdubWVudCgpLG9wZXJhdG9yOlwiPVwifSk7cmV0dXJuIGF9LHRlcm5hcnk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxvZ2ljYWxPUigpLGIsZDtyZXR1cm4gdGhpcy5leHBlY3QoXCI/XCIpJiYoYj10aGlzLmV4cHJlc3Npb24oKSx0aGlzLmNvbnN1bWUoXCI6XCIpKT8oZD10aGlzLmV4cHJlc3Npb24oKSx7dHlwZTpxLkNvbmRpdGlvbmFsRXhwcmVzc2lvbix0ZXN0OmEsYWx0ZXJuYXRlOmIsY29uc2VxdWVudDpkfSk6YX0sbG9naWNhbE9SOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubG9naWNhbEFORCgpO3RoaXMuZXhwZWN0KFwifHxcIik7KWE9XG57dHlwZTpxLkxvZ2ljYWxFeHByZXNzaW9uLG9wZXJhdG9yOlwifHxcIixsZWZ0OmEscmlnaHQ6dGhpcy5sb2dpY2FsQU5EKCl9O3JldHVybiBhfSxsb2dpY2FsQU5EOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZXF1YWxpdHkoKTt0aGlzLmV4cGVjdChcIiYmXCIpOylhPXt0eXBlOnEuTG9naWNhbEV4cHJlc3Npb24sb3BlcmF0b3I6XCImJlwiLGxlZnQ6YSxyaWdodDp0aGlzLmVxdWFsaXR5KCl9O3JldHVybiBhfSxlcXVhbGl0eTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnJlbGF0aW9uYWwoKSxiO2I9dGhpcy5leHBlY3QoXCI9PVwiLFwiIT1cIixcIj09PVwiLFwiIT09XCIpOylhPXt0eXBlOnEuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMucmVsYXRpb25hbCgpfTtyZXR1cm4gYX0scmVsYXRpb25hbDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmFkZGl0aXZlKCksYjtiPXRoaXMuZXhwZWN0KFwiPFwiLFwiPlwiLFwiPD1cIixcIj49XCIpOylhPXt0eXBlOnEuQmluYXJ5RXhwcmVzc2lvbixcbm9wZXJhdG9yOmIudGV4dCxsZWZ0OmEscmlnaHQ6dGhpcy5hZGRpdGl2ZSgpfTtyZXR1cm4gYX0sYWRkaXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5tdWx0aXBsaWNhdGl2ZSgpLGI7Yj10aGlzLmV4cGVjdChcIitcIixcIi1cIik7KWE9e3R5cGU6cS5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmIudGV4dCxsZWZ0OmEscmlnaHQ6dGhpcy5tdWx0aXBsaWNhdGl2ZSgpfTtyZXR1cm4gYX0sbXVsdGlwbGljYXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy51bmFyeSgpLGI7Yj10aGlzLmV4cGVjdChcIipcIixcIi9cIixcIiVcIik7KWE9e3R5cGU6cS5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmIudGV4dCxsZWZ0OmEscmlnaHQ6dGhpcy51bmFyeSgpfTtyZXR1cm4gYX0sdW5hcnk6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4oYT10aGlzLmV4cGVjdChcIitcIixcIi1cIixcIiFcIikpP3t0eXBlOnEuVW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmEudGV4dCxwcmVmaXg6ITAsYXJndW1lbnQ6dGhpcy51bmFyeSgpfTpcbnRoaXMucHJpbWFyeSgpfSxwcmltYXJ5OmZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5leHBlY3QoXCIoXCIpPyhhPXRoaXMuZmlsdGVyQ2hhaW4oKSx0aGlzLmNvbnN1bWUoXCIpXCIpKTp0aGlzLmV4cGVjdChcIltcIik/YT10aGlzLmFycmF5RGVjbGFyYXRpb24oKTp0aGlzLmV4cGVjdChcIntcIik/YT10aGlzLm9iamVjdCgpOnRoaXMuY29uc3RhbnRzLmhhc093blByb3BlcnR5KHRoaXMucGVlaygpLnRleHQpP2E9T2EodGhpcy5jb25zdGFudHNbdGhpcy5jb25zdW1lKCkudGV4dF0pOnRoaXMucGVlaygpLmlkZW50aWZpZXI/YT10aGlzLmlkZW50aWZpZXIoKTp0aGlzLnBlZWsoKS5jb25zdGFudD9hPXRoaXMuY29uc3RhbnQoKTp0aGlzLnRocm93RXJyb3IoXCJub3QgYSBwcmltYXJ5IGV4cHJlc3Npb25cIix0aGlzLnBlZWsoKSk7Zm9yKHZhciBiO2I9dGhpcy5leHBlY3QoXCIoXCIsXCJbXCIsXCIuXCIpOylcIihcIj09PWIudGV4dD8oYT17dHlwZTpxLkNhbGxFeHByZXNzaW9uLGNhbGxlZTphLGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKCl9LFxudGhpcy5jb25zdW1lKFwiKVwiKSk6XCJbXCI9PT1iLnRleHQ/KGE9e3R5cGU6cS5NZW1iZXJFeHByZXNzaW9uLG9iamVjdDphLHByb3BlcnR5OnRoaXMuZXhwcmVzc2lvbigpLGNvbXB1dGVkOiEwfSx0aGlzLmNvbnN1bWUoXCJdXCIpKTpcIi5cIj09PWIudGV4dD9hPXt0eXBlOnEuTWVtYmVyRXhwcmVzc2lvbixvYmplY3Q6YSxwcm9wZXJ0eTp0aGlzLmlkZW50aWZpZXIoKSxjb21wdXRlZDohMX06dGhpcy50aHJvd0Vycm9yKFwiSU1QT1NTSUJMRVwiKTtyZXR1cm4gYX0sZmlsdGVyOmZ1bmN0aW9uKGEpe2E9W2FdO2Zvcih2YXIgYj17dHlwZTpxLkNhbGxFeHByZXNzaW9uLGNhbGxlZTp0aGlzLmlkZW50aWZpZXIoKSxhcmd1bWVudHM6YSxmaWx0ZXI6ITB9O3RoaXMuZXhwZWN0KFwiOlwiKTspYS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtyZXR1cm4gYn0scGFyc2VBcmd1bWVudHM6ZnVuY3Rpb24oKXt2YXIgYT1bXTtpZihcIilcIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG8gYS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcbndoaWxlKHRoaXMuZXhwZWN0KFwiLFwiKSl9cmV0dXJuIGF9LGlkZW50aWZpZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnN1bWUoKTthLmlkZW50aWZpZXJ8fHRoaXMudGhyb3dFcnJvcihcImlzIG5vdCBhIHZhbGlkIGlkZW50aWZpZXJcIixhKTtyZXR1cm57dHlwZTpxLklkZW50aWZpZXIsbmFtZTphLnRleHR9fSxjb25zdGFudDpmdW5jdGlvbigpe3JldHVybnt0eXBlOnEuTGl0ZXJhbCx2YWx1ZTp0aGlzLmNvbnN1bWUoKS52YWx1ZX19LGFycmF5RGVjbGFyYXRpb246ZnVuY3Rpb24oKXt2YXIgYT1bXTtpZihcIl1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKFwiXVwiKSlicmVhazthLnB1c2godGhpcy5leHByZXNzaW9uKCkpfXdoaWxlKHRoaXMuZXhwZWN0KFwiLFwiKSl9dGhpcy5jb25zdW1lKFwiXVwiKTtyZXR1cm57dHlwZTpxLkFycmF5RXhwcmVzc2lvbixlbGVtZW50czphfX0sb2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9W10sYjtpZihcIn1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKFwifVwiKSlicmVhaztcbmI9e3R5cGU6cS5Qcm9wZXJ0eSxraW5kOlwiaW5pdFwifTt0aGlzLnBlZWsoKS5jb25zdGFudD9iLmtleT10aGlzLmNvbnN0YW50KCk6dGhpcy5wZWVrKCkuaWRlbnRpZmllcj9iLmtleT10aGlzLmlkZW50aWZpZXIoKTp0aGlzLnRocm93RXJyb3IoXCJpbnZhbGlkIGtleVwiLHRoaXMucGVlaygpKTt0aGlzLmNvbnN1bWUoXCI6XCIpO2IudmFsdWU9dGhpcy5leHByZXNzaW9uKCk7YS5wdXNoKGIpfXdoaWxlKHRoaXMuZXhwZWN0KFwiLFwiKSl9dGhpcy5jb25zdW1lKFwifVwiKTtyZXR1cm57dHlwZTpxLk9iamVjdEV4cHJlc3Npb24scHJvcGVydGllczphfX0sdGhyb3dFcnJvcjpmdW5jdGlvbihhLGIpe3Rocm93IGthKFwic3ludGF4XCIsYi50ZXh0LGEsYi5pbmRleCsxLHRoaXMudGV4dCx0aGlzLnRleHQuc3Vic3RyaW5nKGIuaW5kZXgpKTt9LGNvbnN1bWU6ZnVuY3Rpb24oYSl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyBrYShcInVlb2VcIix0aGlzLnRleHQpO3ZhciBiPXRoaXMuZXhwZWN0KGEpO1xuYnx8dGhpcy50aHJvd0Vycm9yKFwiaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFtcIithK1wiXVwiLHRoaXMucGVlaygpKTtyZXR1cm4gYn0scGVla1Rva2VuOmZ1bmN0aW9uKCl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyBrYShcInVlb2VcIix0aGlzLnRleHQpO3JldHVybiB0aGlzLnRva2Vuc1swXX0scGVlazpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCxhLGIsZCxjKX0scGVla0FoZWFkOmZ1bmN0aW9uKGEsYixkLGMsZSl7aWYodGhpcy50b2tlbnMubGVuZ3RoPmEpe2E9dGhpcy50b2tlbnNbYV07dmFyIGY9YS50ZXh0O2lmKGY9PT1ifHxmPT09ZHx8Zj09PWN8fGY9PT1lfHwhKGJ8fGR8fGN8fGUpKXJldHVybiBhfXJldHVybiExfSxleHBlY3Q6ZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuKGE9dGhpcy5wZWVrKGEsYixkLGMpKT8odGhpcy50b2tlbnMuc2hpZnQoKSxhKTohMX0sY29uc3RhbnRzOntcInRydWVcIjp7dHlwZTpxLkxpdGVyYWwsdmFsdWU6ITB9LFxuXCJmYWxzZVwiOnt0eXBlOnEuTGl0ZXJhbCx2YWx1ZTohMX0sXCJudWxsXCI6e3R5cGU6cS5MaXRlcmFsLHZhbHVlOm51bGx9LHVuZGVmaW5lZDp7dHlwZTpxLkxpdGVyYWwsdmFsdWU6dn0sXCJ0aGlzXCI6e3R5cGU6cS5UaGlzRXhwcmVzc2lvbn0sJGxvY2Fsczp7dHlwZTpxLkxvY2Fsc0V4cHJlc3Npb259fX07dWQucHJvdG90eXBlPXtjb21waWxlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxjPXRoaXMuYXN0QnVpbGRlci5hc3QoYSk7dGhpcy5zdGF0ZT17bmV4dElkOjAsZmlsdGVyczp7fSxleHBlbnNpdmVDaGVja3M6Yixmbjp7dmFyczpbXSxib2R5OltdLG93bjp7fX0sYXNzaWduOnt2YXJzOltdLGJvZHk6W10sb3duOnt9fSxpbnB1dHM6W119O1IoYyxkLiRmaWx0ZXIpO3ZhciBlPVwiXCIsZjt0aGlzLnN0YWdlPVwiYXNzaWduXCI7aWYoZj1zZChjKSl0aGlzLnN0YXRlLmNvbXB1dGluZz1cImFzc2lnblwiLGU9dGhpcy5uZXh0SWQoKSx0aGlzLnJlY3Vyc2UoZixlKSx0aGlzLnJldHVybl8oZSksXG5lPVwiZm4uYXNzaWduPVwiK3RoaXMuZ2VuZXJhdGVGdW5jdGlvbihcImFzc2lnblwiLFwicyx2LGxcIik7Zj1xZChjLmJvZHkpO2Quc3RhZ2U9XCJpbnB1dHNcIjtuKGYsZnVuY3Rpb24oYSxiKXt2YXIgYz1cImZuXCIrYjtkLnN0YXRlW2NdPXt2YXJzOltdLGJvZHk6W10sb3duOnt9fTtkLnN0YXRlLmNvbXB1dGluZz1jO3ZhciBlPWQubmV4dElkKCk7ZC5yZWN1cnNlKGEsZSk7ZC5yZXR1cm5fKGUpO2Quc3RhdGUuaW5wdXRzLnB1c2goYyk7YS53YXRjaElkPWJ9KTt0aGlzLnN0YXRlLmNvbXB1dGluZz1cImZuXCI7dGhpcy5zdGFnZT1cIm1haW5cIjt0aGlzLnJlY3Vyc2UoYyk7ZT0nXCInK3RoaXMuVVNFK1wiIFwiK3RoaXMuU1RSSUNUKydcIjtcXG4nK3RoaXMuZmlsdGVyUHJlZml4KCkrXCJ2YXIgZm49XCIrdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKFwiZm5cIixcInMsbCxhLGlcIikrZSt0aGlzLndhdGNoRm5zKCkrXCJyZXR1cm4gZm47XCI7ZT0obmV3IEZ1bmN0aW9uKFwiJGZpbHRlclwiLFwiZW5zdXJlU2FmZU1lbWJlck5hbWVcIixcImVuc3VyZVNhZmVPYmplY3RcIixcblwiZW5zdXJlU2FmZUZ1bmN0aW9uXCIsXCJnZXRTdHJpbmdWYWx1ZVwiLFwiZW5zdXJlU2FmZUFzc2lnbkNvbnRleHRcIixcImlmRGVmaW5lZFwiLFwicGx1c1wiLFwidGV4dFwiLGUpKSh0aGlzLiRmaWx0ZXIsWGEsQWEsb2QsaGcsSWIsbGcscGQsYSk7dGhpcy5zdGF0ZT10aGlzLnN0YWdlPXY7ZS5saXRlcmFsPXRkKGMpO2UuY29uc3RhbnQ9Yy5jb25zdGFudDtyZXR1cm4gZX0sVVNFOlwidXNlXCIsU1RSSUNUOlwic3RyaWN0XCIsd2F0Y2hGbnM6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuc3RhdGUuaW5wdXRzLGQ9dGhpcztuKGIsZnVuY3Rpb24oYil7YS5wdXNoKFwidmFyIFwiK2IrXCI9XCIrZC5nZW5lcmF0ZUZ1bmN0aW9uKGIsXCJzXCIpKX0pO2IubGVuZ3RoJiZhLnB1c2goXCJmbi5pbnB1dHM9W1wiK2Iuam9pbihcIixcIikrXCJdO1wiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSxnZW5lcmF0ZUZ1bmN0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJmdW5jdGlvbihcIitiK1wiKXtcIit0aGlzLnZhcnNQcmVmaXgoYSkrdGhpcy5ib2R5KGEpK1xuXCJ9O1wifSxmaWx0ZXJQcmVmaXg6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXM7bih0aGlzLnN0YXRlLmZpbHRlcnMsZnVuY3Rpb24oZCxjKXthLnB1c2goZCtcIj0kZmlsdGVyKFwiK2IuZXNjYXBlKGMpK1wiKVwiKX0pO3JldHVybiBhLmxlbmd0aD9cInZhciBcIithLmpvaW4oXCIsXCIpK1wiO1wiOlwiXCJ9LHZhcnNQcmVmaXg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhdGVbYV0udmFycy5sZW5ndGg/XCJ2YXIgXCIrdGhpcy5zdGF0ZVthXS52YXJzLmpvaW4oXCIsXCIpK1wiO1wiOlwiXCJ9LGJvZHk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhdGVbYV0uYm9keS5qb2luKFwiXCIpfSxyZWN1cnNlOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXt2YXIgZyxoLGs9dGhpcyxsLG07Yz1jfHxCO2lmKCFmJiZ5KGEud2F0Y2hJZCkpYj1ifHx0aGlzLm5leHRJZCgpLHRoaXMuaWZfKFwiaVwiLHRoaXMubGF6eUFzc2lnbihiLHRoaXMuY29tcHV0ZWRNZW1iZXIoXCJpXCIsYS53YXRjaElkKSksdGhpcy5sYXp5UmVjdXJzZShhLGIsZCxcbmMsZSwhMCkpO2Vsc2Ugc3dpdGNoKGEudHlwZSl7Y2FzZSBxLlByb2dyYW06bihhLmJvZHksZnVuY3Rpb24oYixjKXtrLnJlY3Vyc2UoYi5leHByZXNzaW9uLHYsdixmdW5jdGlvbihhKXtoPWF9KTtjIT09YS5ib2R5Lmxlbmd0aC0xP2suY3VycmVudCgpLmJvZHkucHVzaChoLFwiO1wiKTprLnJldHVybl8oaCl9KTticmVhaztjYXNlIHEuTGl0ZXJhbDptPXRoaXMuZXNjYXBlKGEudmFsdWUpO3RoaXMuYXNzaWduKGIsbSk7YyhtKTticmVhaztjYXNlIHEuVW5hcnlFeHByZXNzaW9uOnRoaXMucmVjdXJzZShhLmFyZ3VtZW50LHYsdixmdW5jdGlvbihhKXtoPWF9KTttPWEub3BlcmF0b3IrXCIoXCIrdGhpcy5pZkRlZmluZWQoaCwwKStcIilcIjt0aGlzLmFzc2lnbihiLG0pO2MobSk7YnJlYWs7Y2FzZSBxLkJpbmFyeUV4cHJlc3Npb246dGhpcy5yZWN1cnNlKGEubGVmdCx2LHYsZnVuY3Rpb24oYSl7Zz1hfSk7dGhpcy5yZWN1cnNlKGEucmlnaHQsdix2LGZ1bmN0aW9uKGEpe2g9YX0pO209XCIrXCI9PT1cbmEub3BlcmF0b3I/dGhpcy5wbHVzKGcsaCk6XCItXCI9PT1hLm9wZXJhdG9yP3RoaXMuaWZEZWZpbmVkKGcsMCkrYS5vcGVyYXRvcit0aGlzLmlmRGVmaW5lZChoLDApOlwiKFwiK2crXCIpXCIrYS5vcGVyYXRvcitcIihcIitoK1wiKVwiO3RoaXMuYXNzaWduKGIsbSk7YyhtKTticmVhaztjYXNlIHEuTG9naWNhbEV4cHJlc3Npb246Yj1ifHx0aGlzLm5leHRJZCgpO2sucmVjdXJzZShhLmxlZnQsYik7ay5pZl8oXCImJlwiPT09YS5vcGVyYXRvcj9iOmsubm90KGIpLGsubGF6eVJlY3Vyc2UoYS5yaWdodCxiKSk7YyhiKTticmVhaztjYXNlIHEuQ29uZGl0aW9uYWxFeHByZXNzaW9uOmI9Ynx8dGhpcy5uZXh0SWQoKTtrLnJlY3Vyc2UoYS50ZXN0LGIpO2suaWZfKGIsay5sYXp5UmVjdXJzZShhLmFsdGVybmF0ZSxiKSxrLmxhenlSZWN1cnNlKGEuY29uc2VxdWVudCxiKSk7YyhiKTticmVhaztjYXNlIHEuSWRlbnRpZmllcjpiPWJ8fHRoaXMubmV4dElkKCk7ZCYmKGQuY29udGV4dD1cImlucHV0c1wiPT09ay5zdGFnZT9cblwic1wiOnRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksdGhpcy5nZXRIYXNPd25Qcm9wZXJ0eShcImxcIixhLm5hbWUpK1wiP2w6c1wiKSxkLmNvbXB1dGVkPSExLGQubmFtZT1hLm5hbWUpO1hhKGEubmFtZSk7ay5pZl8oXCJpbnB1dHNcIj09PWsuc3RhZ2V8fGsubm90KGsuZ2V0SGFzT3duUHJvcGVydHkoXCJsXCIsYS5uYW1lKSksZnVuY3Rpb24oKXtrLmlmXyhcImlucHV0c1wiPT09ay5zdGFnZXx8XCJzXCIsZnVuY3Rpb24oKXtlJiYxIT09ZSYmay5pZl8oay5ub3Qoay5ub25Db21wdXRlZE1lbWJlcihcInNcIixhLm5hbWUpKSxrLmxhenlBc3NpZ24oay5ub25Db21wdXRlZE1lbWJlcihcInNcIixhLm5hbWUpLFwie31cIikpO2suYXNzaWduKGIsay5ub25Db21wdXRlZE1lbWJlcihcInNcIixhLm5hbWUpKX0pfSxiJiZrLmxhenlBc3NpZ24oYixrLm5vbkNvbXB1dGVkTWVtYmVyKFwibFwiLGEubmFtZSkpKTsoay5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fEpiKGEubmFtZSkpJiZrLmFkZEVuc3VyZVNhZmVPYmplY3QoYik7YyhiKTtcbmJyZWFrO2Nhc2UgcS5NZW1iZXJFeHByZXNzaW9uOmc9ZCYmKGQuY29udGV4dD10aGlzLm5leHRJZCgpKXx8dGhpcy5uZXh0SWQoKTtiPWJ8fHRoaXMubmV4dElkKCk7ay5yZWN1cnNlKGEub2JqZWN0LGcsdixmdW5jdGlvbigpe2suaWZfKGsubm90TnVsbChnKSxmdW5jdGlvbigpe2UmJjEhPT1lJiZrLmFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGcpO2lmKGEuY29tcHV0ZWQpaD1rLm5leHRJZCgpLGsucmVjdXJzZShhLnByb3BlcnR5LGgpLGsuZ2V0U3RyaW5nVmFsdWUoaCksay5hZGRFbnN1cmVTYWZlTWVtYmVyTmFtZShoKSxlJiYxIT09ZSYmay5pZl8oay5ub3Qoay5jb21wdXRlZE1lbWJlcihnLGgpKSxrLmxhenlBc3NpZ24oay5jb21wdXRlZE1lbWJlcihnLGgpLFwie31cIikpLG09ay5lbnN1cmVTYWZlT2JqZWN0KGsuY29tcHV0ZWRNZW1iZXIoZyxoKSksay5hc3NpZ24oYixtKSxkJiYoZC5jb21wdXRlZD0hMCxkLm5hbWU9aCk7ZWxzZXtYYShhLnByb3BlcnR5Lm5hbWUpO2UmJlxuMSE9PWUmJmsuaWZfKGsubm90KGsubm9uQ29tcHV0ZWRNZW1iZXIoZyxhLnByb3BlcnR5Lm5hbWUpKSxrLmxhenlBc3NpZ24oay5ub25Db21wdXRlZE1lbWJlcihnLGEucHJvcGVydHkubmFtZSksXCJ7fVwiKSk7bT1rLm5vbkNvbXB1dGVkTWVtYmVyKGcsYS5wcm9wZXJ0eS5uYW1lKTtpZihrLnN0YXRlLmV4cGVuc2l2ZUNoZWNrc3x8SmIoYS5wcm9wZXJ0eS5uYW1lKSltPWsuZW5zdXJlU2FmZU9iamVjdChtKTtrLmFzc2lnbihiLG0pO2QmJihkLmNvbXB1dGVkPSExLGQubmFtZT1hLnByb3BlcnR5Lm5hbWUpfX0sZnVuY3Rpb24oKXtrLmFzc2lnbihiLFwidW5kZWZpbmVkXCIpfSk7YyhiKX0sISFlKTticmVhaztjYXNlIHEuQ2FsbEV4cHJlc3Npb246Yj1ifHx0aGlzLm5leHRJZCgpO2EuZmlsdGVyPyhoPWsuZmlsdGVyKGEuY2FsbGVlLm5hbWUpLGw9W10sbihhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXt2YXIgYj1rLm5leHRJZCgpO2sucmVjdXJzZShhLGIpO2wucHVzaChiKX0pLG09aCtcIihcIitcbmwuam9pbihcIixcIikrXCIpXCIsay5hc3NpZ24oYixtKSxjKGIpKTooaD1rLm5leHRJZCgpLGc9e30sbD1bXSxrLnJlY3Vyc2UoYS5jYWxsZWUsaCxnLGZ1bmN0aW9uKCl7ay5pZl8oay5ub3ROdWxsKGgpLGZ1bmN0aW9uKCl7ay5hZGRFbnN1cmVTYWZlRnVuY3Rpb24oaCk7bihhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXtrLnJlY3Vyc2UoYSxrLm5leHRJZCgpLHYsZnVuY3Rpb24oYSl7bC5wdXNoKGsuZW5zdXJlU2FmZU9iamVjdChhKSl9KX0pO2cubmFtZT8oay5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fGsuYWRkRW5zdXJlU2FmZU9iamVjdChnLmNvbnRleHQpLG09ay5tZW1iZXIoZy5jb250ZXh0LGcubmFtZSxnLmNvbXB1dGVkKStcIihcIitsLmpvaW4oXCIsXCIpK1wiKVwiKTptPWgrXCIoXCIrbC5qb2luKFwiLFwiKStcIilcIjttPWsuZW5zdXJlU2FmZU9iamVjdChtKTtrLmFzc2lnbihiLG0pfSxmdW5jdGlvbigpe2suYXNzaWduKGIsXCJ1bmRlZmluZWRcIil9KTtjKGIpfSkpO2JyZWFrO2Nhc2UgcS5Bc3NpZ25tZW50RXhwcmVzc2lvbjpoPVxudGhpcy5uZXh0SWQoKTtnPXt9O2lmKCFyZChhLmxlZnQpKXRocm93IGthKFwibHZhbFwiKTt0aGlzLnJlY3Vyc2UoYS5sZWZ0LHYsZyxmdW5jdGlvbigpe2suaWZfKGsubm90TnVsbChnLmNvbnRleHQpLGZ1bmN0aW9uKCl7ay5yZWN1cnNlKGEucmlnaHQsaCk7ay5hZGRFbnN1cmVTYWZlT2JqZWN0KGsubWVtYmVyKGcuY29udGV4dCxnLm5hbWUsZy5jb21wdXRlZCkpO2suYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoZy5jb250ZXh0KTttPWsubWVtYmVyKGcuY29udGV4dCxnLm5hbWUsZy5jb21wdXRlZCkrYS5vcGVyYXRvcitoO2suYXNzaWduKGIsbSk7YyhifHxtKX0pfSwxKTticmVhaztjYXNlIHEuQXJyYXlFeHByZXNzaW9uOmw9W107bihhLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe2sucmVjdXJzZShhLGsubmV4dElkKCksdixmdW5jdGlvbihhKXtsLnB1c2goYSl9KX0pO209XCJbXCIrbC5qb2luKFwiLFwiKStcIl1cIjt0aGlzLmFzc2lnbihiLG0pO2MobSk7YnJlYWs7Y2FzZSBxLk9iamVjdEV4cHJlc3Npb246bD1cbltdO24oYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe2sucmVjdXJzZShhLnZhbHVlLGsubmV4dElkKCksdixmdW5jdGlvbihiKXtsLnB1c2goay5lc2NhcGUoYS5rZXkudHlwZT09PXEuSWRlbnRpZmllcj9hLmtleS5uYW1lOlwiXCIrYS5rZXkudmFsdWUpK1wiOlwiK2IpfSl9KTttPVwie1wiK2wuam9pbihcIixcIikrXCJ9XCI7dGhpcy5hc3NpZ24oYixtKTtjKG0pO2JyZWFrO2Nhc2UgcS5UaGlzRXhwcmVzc2lvbjp0aGlzLmFzc2lnbihiLFwic1wiKTtjKFwic1wiKTticmVhaztjYXNlIHEuTG9jYWxzRXhwcmVzc2lvbjp0aGlzLmFzc2lnbihiLFwibFwiKTtjKFwibFwiKTticmVhaztjYXNlIHEuTkdWYWx1ZVBhcmFtZXRlcjp0aGlzLmFzc2lnbihiLFwidlwiKSxjKFwidlwiKX19LGdldEhhc093blByb3BlcnR5OmZ1bmN0aW9uKGEsYil7dmFyIGQ9YStcIi5cIitiLGM9dGhpcy5jdXJyZW50KCkub3duO2MuaGFzT3duUHJvcGVydHkoZCl8fChjW2RdPXRoaXMubmV4dElkKCExLGErXCImJihcIit0aGlzLmVzY2FwZShiKStcIiBpbiBcIitcbmErXCIpXCIpKTtyZXR1cm4gY1tkXX0sYXNzaWduOmZ1bmN0aW9uKGEsYil7aWYoYSlyZXR1cm4gdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKGEsXCI9XCIsYixcIjtcIiksYX0sZmlsdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuZmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhKXx8KHRoaXMuc3RhdGUuZmlsdGVyc1thXT10aGlzLm5leHRJZCghMCkpO3JldHVybiB0aGlzLnN0YXRlLmZpbHRlcnNbYV19LGlmRGVmaW5lZDpmdW5jdGlvbihhLGIpe3JldHVyblwiaWZEZWZpbmVkKFwiK2ErXCIsXCIrdGhpcy5lc2NhcGUoYikrXCIpXCJ9LHBsdXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5cInBsdXMoXCIrYStcIixcIitiK1wiKVwifSxyZXR1cm5fOmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaChcInJldHVybiBcIixhLFwiO1wiKX0saWZfOmZ1bmN0aW9uKGEsYixkKXtpZighMD09PWEpYigpO2Vsc2V7dmFyIGM9dGhpcy5jdXJyZW50KCkuYm9keTtjLnB1c2goXCJpZihcIixhLFwiKXtcIik7YigpO2MucHVzaChcIn1cIik7XG5kJiYoYy5wdXNoKFwiZWxzZXtcIiksZCgpLGMucHVzaChcIn1cIikpfX0sbm90OmZ1bmN0aW9uKGEpe3JldHVyblwiIShcIithK1wiKVwifSxub3ROdWxsOmZ1bmN0aW9uKGEpe3JldHVybiBhK1wiIT1udWxsXCJ9LG5vbkNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGErXCIuXCIrYn0sY29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStcIltcIitiK1wiXVwifSxtZW1iZXI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBkP3RoaXMuY29tcHV0ZWRNZW1iZXIoYSxiKTp0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGEsYil9LGFkZEVuc3VyZVNhZmVPYmplY3Q6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZU9iamVjdChhKSxcIjtcIil9LGFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lOmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVNZW1iZXJOYW1lKGEpLFwiO1wiKX0sYWRkRW5zdXJlU2FmZUZ1bmN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVGdW5jdGlvbihhKSxcblwiO1wiKX0sYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoYSksXCI7XCIpfSxlbnN1cmVTYWZlT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZU9iamVjdChcIithK1wiLHRleHQpXCJ9LGVuc3VyZVNhZmVNZW1iZXJOYW1lOmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZU1lbWJlck5hbWUoXCIrYStcIix0ZXh0KVwifSxlbnN1cmVTYWZlRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuXCJlbnN1cmVTYWZlRnVuY3Rpb24oXCIrYStcIix0ZXh0KVwifSxnZXRTdHJpbmdWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLmFzc2lnbihhLFwiZ2V0U3RyaW5nVmFsdWUoXCIrYStcIilcIil9LGVuc3VyZVNhZmVBc3NpZ25Db250ZXh0OmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoXCIrYStcIix0ZXh0KVwifSxsYXp5UmVjdXJzZTpmdW5jdGlvbihhLGIsZCxjLGUsZil7dmFyIGc9XG50aGlzO3JldHVybiBmdW5jdGlvbigpe2cucmVjdXJzZShhLGIsZCxjLGUsZil9fSxsYXp5QXNzaWduOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtkLmFzc2lnbihhLGIpfX0sc3RyaW5nRXNjYXBlUmVnZXg6L1teIGEtekEtWjAtOV0vZyxzdHJpbmdFc2NhcGVGbjpmdW5jdGlvbihhKXtyZXR1cm5cIlxcXFx1XCIrKFwiMDAwMFwiK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0sZXNjYXBlOmZ1bmN0aW9uKGEpe2lmKEYoYSkpcmV0dXJuXCInXCIrYS5yZXBsYWNlKHRoaXMuc3RyaW5nRXNjYXBlUmVnZXgsdGhpcy5zdHJpbmdFc2NhcGVGbikrXCInXCI7aWYoTihhKSlyZXR1cm4gYS50b1N0cmluZygpO2lmKCEwPT09YSlyZXR1cm5cInRydWVcIjtpZighMT09PWEpcmV0dXJuXCJmYWxzZVwiO2lmKG51bGw9PT1hKXJldHVyblwibnVsbFwiO2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgYSlyZXR1cm5cInVuZGVmaW5lZFwiO3Rocm93IGthKFwiZXNjXCIpO30sbmV4dElkOmZ1bmN0aW9uKGEsXG5iKXt2YXIgZD1cInZcIit0aGlzLnN0YXRlLm5leHRJZCsrO2F8fHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChkKyhiP1wiPVwiK2I6XCJcIikpO3JldHVybiBkfSxjdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5zdGF0ZS5jb21wdXRpbmddfX07dmQucHJvdG90eXBlPXtjb21waWxlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxjPXRoaXMuYXN0QnVpbGRlci5hc3QoYSk7dGhpcy5leHByZXNzaW9uPWE7dGhpcy5leHBlbnNpdmVDaGVja3M9YjtSKGMsZC4kZmlsdGVyKTt2YXIgZSxmO2lmKGU9c2QoYykpZj10aGlzLnJlY3Vyc2UoZSk7ZT1xZChjLmJvZHkpO3ZhciBnO2UmJihnPVtdLG4oZSxmdW5jdGlvbihhLGIpe3ZhciBjPWQucmVjdXJzZShhKTthLmlucHV0PWM7Zy5wdXNoKGMpO2Eud2F0Y2hJZD1ifSkpO3ZhciBoPVtdO24oYy5ib2R5LGZ1bmN0aW9uKGEpe2gucHVzaChkLnJlY3Vyc2UoYS5leHByZXNzaW9uKSl9KTtlPTA9PT1jLmJvZHkubGVuZ3RoP2Z1bmN0aW9uKCl7fTpcbjE9PT1jLmJvZHkubGVuZ3RoP2hbMF06ZnVuY3Rpb24oYSxiKXt2YXIgYztuKGgsZnVuY3Rpb24oZCl7Yz1kKGEsYil9KTtyZXR1cm4gY307ZiYmKGUuYXNzaWduPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZihhLGMsYil9KTtnJiYoZS5pbnB1dHM9Zyk7ZS5saXRlcmFsPXRkKGMpO2UuY29uc3RhbnQ9Yy5jb25zdGFudDtyZXR1cm4gZX0scmVjdXJzZTpmdW5jdGlvbihhLGIsZCl7dmFyIGMsZSxmPXRoaXMsZztpZihhLmlucHV0KXJldHVybiB0aGlzLmlucHV0cyhhLmlucHV0LGEud2F0Y2hJZCk7c3dpdGNoKGEudHlwZSl7Y2FzZSBxLkxpdGVyYWw6cmV0dXJuIHRoaXMudmFsdWUoYS52YWx1ZSxiKTtjYXNlIHEuVW5hcnlFeHByZXNzaW9uOnJldHVybiBlPXRoaXMucmVjdXJzZShhLmFyZ3VtZW50KSx0aGlzW1widW5hcnlcIithLm9wZXJhdG9yXShlLGIpO2Nhc2UgcS5CaW5hcnlFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLmxlZnQpLGU9dGhpcy5yZWN1cnNlKGEucmlnaHQpLFxudGhpc1tcImJpbmFyeVwiK2Eub3BlcmF0b3JdKGMsZSxiKTtjYXNlIHEuTG9naWNhbEV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEubGVmdCksZT10aGlzLnJlY3Vyc2UoYS5yaWdodCksdGhpc1tcImJpbmFyeVwiK2Eub3BlcmF0b3JdKGMsZSxiKTtjYXNlIHEuQ29uZGl0aW9uYWxFeHByZXNzaW9uOnJldHVybiB0aGlzW1widGVybmFyeT86XCJdKHRoaXMucmVjdXJzZShhLnRlc3QpLHRoaXMucmVjdXJzZShhLmFsdGVybmF0ZSksdGhpcy5yZWN1cnNlKGEuY29uc2VxdWVudCksYik7Y2FzZSBxLklkZW50aWZpZXI6cmV0dXJuIFhhKGEubmFtZSxmLmV4cHJlc3Npb24pLGYuaWRlbnRpZmllcihhLm5hbWUsZi5leHBlbnNpdmVDaGVja3N8fEpiKGEubmFtZSksYixkLGYuZXhwcmVzc2lvbik7Y2FzZSBxLk1lbWJlckV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEub2JqZWN0LCExLCEhZCksYS5jb21wdXRlZHx8KFhhKGEucHJvcGVydHkubmFtZSxmLmV4cHJlc3Npb24pLFxuZT1hLnByb3BlcnR5Lm5hbWUpLGEuY29tcHV0ZWQmJihlPXRoaXMucmVjdXJzZShhLnByb3BlcnR5KSksYS5jb21wdXRlZD90aGlzLmNvbXB1dGVkTWVtYmVyKGMsZSxiLGQsZi5leHByZXNzaW9uKTp0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGMsZSxmLmV4cGVuc2l2ZUNoZWNrcyxiLGQsZi5leHByZXNzaW9uKTtjYXNlIHEuQ2FsbEV4cHJlc3Npb246cmV0dXJuIGc9W10sbihhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXtnLnB1c2goZi5yZWN1cnNlKGEpKX0pLGEuZmlsdGVyJiYoZT10aGlzLiRmaWx0ZXIoYS5jYWxsZWUubmFtZSkpLGEuZmlsdGVyfHwoZT10aGlzLnJlY3Vyc2UoYS5jYWxsZWUsITApKSxhLmZpbHRlcj9mdW5jdGlvbihhLGMsZCxmKXtmb3IodmFyIHI9W10sbj0wO248Zy5sZW5ndGg7KytuKXIucHVzaChnW25dKGEsYyxkLGYpKTthPWUuYXBwbHkodixyLGYpO3JldHVybiBiP3tjb250ZXh0OnYsbmFtZTp2LHZhbHVlOmF9OmF9OmZ1bmN0aW9uKGEsYyxkLG0pe3ZhciByPVxuZShhLGMsZCxtKSxuO2lmKG51bGwhPXIudmFsdWUpe0FhKHIuY29udGV4dCxmLmV4cHJlc3Npb24pO29kKHIudmFsdWUsZi5leHByZXNzaW9uKTtuPVtdO2Zvcih2YXIgcT0wO3E8Zy5sZW5ndGg7KytxKW4ucHVzaChBYShnW3FdKGEsYyxkLG0pLGYuZXhwcmVzc2lvbikpO249QWEoci52YWx1ZS5hcHBseShyLmNvbnRleHQsbiksZi5leHByZXNzaW9uKX1yZXR1cm4gYj97dmFsdWU6bn06bn07Y2FzZSBxLkFzc2lnbm1lbnRFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLmxlZnQsITAsMSksZT10aGlzLnJlY3Vyc2UoYS5yaWdodCksZnVuY3Rpb24oYSxkLGcsbSl7dmFyIHI9YyhhLGQsZyxtKTthPWUoYSxkLGcsbSk7QWEoci52YWx1ZSxmLmV4cHJlc3Npb24pO0liKHIuY29udGV4dCk7ci5jb250ZXh0W3IubmFtZV09YTtyZXR1cm4gYj97dmFsdWU6YX06YX07Y2FzZSBxLkFycmF5RXhwcmVzc2lvbjpyZXR1cm4gZz1bXSxuKGEuZWxlbWVudHMsZnVuY3Rpb24oYSl7Zy5wdXNoKGYucmVjdXJzZShhKSl9KSxcbmZ1bmN0aW9uKGEsYyxkLGUpe2Zvcih2YXIgZj1bXSxuPTA7bjxnLmxlbmd0aDsrK24pZi5wdXNoKGdbbl0oYSxjLGQsZSkpO3JldHVybiBiP3t2YWx1ZTpmfTpmfTtjYXNlIHEuT2JqZWN0RXhwcmVzc2lvbjpyZXR1cm4gZz1bXSxuKGEucHJvcGVydGllcyxmdW5jdGlvbihhKXtnLnB1c2goe2tleTphLmtleS50eXBlPT09cS5JZGVudGlmaWVyP2Eua2V5Lm5hbWU6XCJcIithLmtleS52YWx1ZSx2YWx1ZTpmLnJlY3Vyc2UoYS52YWx1ZSl9KX0pLGZ1bmN0aW9uKGEsYyxkLGUpe2Zvcih2YXIgZj17fSxuPTA7bjxnLmxlbmd0aDsrK24pZltnW25dLmtleV09Z1tuXS52YWx1ZShhLGMsZCxlKTtyZXR1cm4gYj97dmFsdWU6Zn06Zn07Y2FzZSBxLlRoaXNFeHByZXNzaW9uOnJldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYj97dmFsdWU6YX06YX07Y2FzZSBxLkxvY2Fsc0V4cHJlc3Npb246cmV0dXJuIGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGI/e3ZhbHVlOmN9OmN9O2Nhc2UgcS5OR1ZhbHVlUGFyYW1ldGVyOnJldHVybiBmdW5jdGlvbihhLFxuYyxkLGUpe3JldHVybiBiP3t2YWx1ZTpkfTpkfX19LFwidW5hcnkrXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsZil7ZD1hKGQsYyxlLGYpO2Q9eShkKT8rZDowO3JldHVybiBiP3t2YWx1ZTpkfTpkfX0sXCJ1bmFyeS1cIjpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMsZSxmKXtkPWEoZCxjLGUsZik7ZD15KGQpPy1kOjA7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fSxcInVuYXJ5IVwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe2Q9IWEoZCxjLGUsZik7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fSxcImJpbmFyeStcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe3ZhciBoPWEoYyxlLGYsZyk7Yz1iKGMsZSxmLGcpO2g9cGQoaCxjKTtyZXR1cm4gZD97dmFsdWU6aH06aH19LFwiYmluYXJ5LVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7dmFyIGg9YShjLGUsZixnKTtjPWIoYyxlLGYsZyk7XG5oPSh5KGgpP2g6MCktKHkoYyk/YzowKTtyZXR1cm4gZD97dmFsdWU6aH06aH19LFwiYmluYXJ5KlwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpKmIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeS9cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKS9iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnklXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyklYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PT09XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk9PT1iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnkhPT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLFxuZSxmLGcpIT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5IT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSE9YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PFwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPGIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeT5cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT5iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk8PVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLFxuZyk8PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeT49XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk+PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeSYmXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZykmJmIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeXx8XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyl8fGIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcInRlcm5hcnk/OlwiOmZ1bmN0aW9uKGEsYixkLGMpe3JldHVybiBmdW5jdGlvbihlLGYsZyxoKXtlPWEoZSxmLGcsaCk/YihlLGYsZyxoKTpkKGUsZixnLGgpO3JldHVybiBjP3t2YWx1ZTplfTplfX0sdmFsdWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYj97Y29udGV4dDp2LFxubmFtZTp2LHZhbHVlOmF9OmF9fSxpZGVudGlmaWVyOmZ1bmN0aW9uKGEsYixkLGMsZSl7cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe2Y9ZyYmYSBpbiBnP2c6ZjtjJiYxIT09YyYmZiYmIWZbYV0mJihmW2FdPXt9KTtnPWY/ZlthXTp2O2ImJkFhKGcsZSk7cmV0dXJuIGQ/e2NvbnRleHQ6ZixuYW1lOmEsdmFsdWU6Z306Z319LGNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYixkLGMsZSl7cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe3ZhciBsPWEoZixnLGgsayksbSxuO251bGwhPWwmJihtPWIoZixnLGgsayksbSs9XCJcIixYYShtLGUpLGMmJjEhPT1jJiYoSWIobCksbCYmIWxbbV0mJihsW21dPXt9KSksbj1sW21dLEFhKG4sZSkpO3JldHVybiBkP3tjb250ZXh0OmwsbmFtZTptLHZhbHVlOm59Om59fSxub25Db21wdXRlZE1lbWJlcjpmdW5jdGlvbihhLGIsZCxjLGUsZil7cmV0dXJuIGZ1bmN0aW9uKGcsaCxrLGwpe2c9YShnLGgsayxsKTtlJiYxIT09ZSYmKEliKGcpLGcmJiFnW2JdJiZcbihnW2JdPXt9KSk7aD1udWxsIT1nP2dbYl06djsoZHx8SmIoYikpJiZBYShoLGYpO3JldHVybiBjP3tjb250ZXh0OmcsbmFtZTpiLHZhbHVlOmh9Omh9fSxpbnB1dHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsZil7cmV0dXJuIGY/ZltiXTphKGQsYyxlKX19fTt2YXIgamM9ZnVuY3Rpb24oYSxiLGQpe3RoaXMubGV4ZXI9YTt0aGlzLiRmaWx0ZXI9Yjt0aGlzLm9wdGlvbnM9ZDt0aGlzLmFzdD1uZXcgcSh0aGlzLmxleGVyKTt0aGlzLmFzdENvbXBpbGVyPWQuY3NwP25ldyB2ZCh0aGlzLmFzdCxiKTpuZXcgdWQodGhpcy5hc3QsYil9O2pjLnByb3RvdHlwZT17Y29uc3RydWN0b3I6amMscGFyc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXN0Q29tcGlsZXIuY29tcGlsZShhLHRoaXMub3B0aW9ucy5leHBlbnNpdmVDaGVja3MpfX07dmFyIG1nPU9iamVjdC5wcm90b3R5cGUudmFsdWVPZixCYT1IKFwiJHNjZVwiKSxxYT17SFRNTDpcImh0bWxcIixDU1M6XCJjc3NcIixVUkw6XCJ1cmxcIixcblJFU09VUkNFX1VSTDpcInJlc291cmNlVXJsXCIsSlM6XCJqc1wifSxqYT1IKFwiJGNvbXBpbGVcIiksWT1XLmNyZWF0ZUVsZW1lbnQoXCJhXCIpLHpkPXphKE8ubG9jYXRpb24uaHJlZik7QWQuJGluamVjdD1bXCIkZG9jdW1lbnRcIl07TGMuJGluamVjdD1bXCIkcHJvdmlkZVwiXTt2YXIgSGQ9MjIsR2Q9XCIuXCIsbGM9XCIwXCI7QmQuJGluamVjdD1bXCIkbG9jYWxlXCJdO0RkLiRpbmplY3Q9W1wiJGxvY2FsZVwiXTt2YXIgeWc9e3l5eXk6YWEoXCJGdWxsWWVhclwiLDQpLHl5OmFhKFwiRnVsbFllYXJcIiwyLDAsITApLHk6YWEoXCJGdWxsWWVhclwiLDEpLE1NTU06TGIoXCJNb250aFwiKSxNTU06TGIoXCJNb250aFwiLCEwKSxNTTphYShcIk1vbnRoXCIsMiwxKSxNOmFhKFwiTW9udGhcIiwxLDEpLGRkOmFhKFwiRGF0ZVwiLDIpLGQ6YWEoXCJEYXRlXCIsMSksSEg6YWEoXCJIb3Vyc1wiLDIpLEg6YWEoXCJIb3Vyc1wiLDEpLGhoOmFhKFwiSG91cnNcIiwyLC0xMiksaDphYShcIkhvdXJzXCIsMSwtMTIpLG1tOmFhKFwiTWludXRlc1wiLDIpLG06YWEoXCJNaW51dGVzXCIsXG4xKSxzczphYShcIlNlY29uZHNcIiwyKSxzOmFhKFwiU2Vjb25kc1wiLDEpLHNzczphYShcIk1pbGxpc2Vjb25kc1wiLDMpLEVFRUU6TGIoXCJEYXlcIiksRUVFOkxiKFwiRGF5XCIsITApLGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMTI+YS5nZXRIb3VycygpP2IuQU1QTVNbMF06Yi5BTVBNU1sxXX0sWjpmdW5jdGlvbihhLGIsZCl7YT0tMSpkO3JldHVybiBhPSgwPD1hP1wiK1wiOlwiXCIpKyhLYihNYXRoWzA8YT9cImZsb29yXCI6XCJjZWlsXCJdKGEvNjApLDIpK0tiKE1hdGguYWJzKGElNjApLDIpKX0sd3c6SmQoMiksdzpKZCgxKSxHOm1jLEdHOm1jLEdHRzptYyxHR0dHOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDA+PWEuZ2V0RnVsbFllYXIoKT9iLkVSQU5BTUVTWzBdOmIuRVJBTkFNRVNbMV19fSx4Zz0vKCg/OlteeU1kSGhtc2FaRXdHJ10rKXwoPzonKD86W14nXXwnJykqJyl8KD86RSt8eSt8TSt8ZCt8SCt8aCt8bSt8cyt8YXxafEcrfHcrKSkoLiopLyx3Zz0vXlxcLT9cXGQrJC87Q2QuJGluamVjdD1bXCIkbG9jYWxlXCJdO1xudmFyIHJnPWJhKEcpLHNnPWJhKHViKTtFZC4kaW5qZWN0PVtcIiRwYXJzZVwiXTt2YXIgb2U9YmEoe3Jlc3RyaWN0OlwiRVwiLGNvbXBpbGU6ZnVuY3Rpb24oYSxiKXtpZighYi5ocmVmJiYhYi54bGlua0hyZWYpcmV0dXJuIGZ1bmN0aW9uKGEsYil7aWYoXCJhXCI9PT1iWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBlPVwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PWdhLmNhbGwoYi5wcm9wKFwiaHJlZlwiKSk/XCJ4bGluazpocmVmXCI6XCJocmVmXCI7Yi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7Yi5hdHRyKGUpfHxhLnByZXZlbnREZWZhdWx0KCl9KX19fX0pLHZiPXt9O24oRGIsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEsZCxlKXthLiR3YXRjaChlW2NdLGZ1bmN0aW9uKGEpe2UuJHNldChiLCEhYSl9KX1pZihcIm11bHRpcGxlXCIhPWEpe3ZhciBjPXZhKFwibmctXCIrYiksZT1kO1wiY2hlY2tlZFwiPT09YSYmKGU9ZnVuY3Rpb24oYSxiLGUpe2UubmdNb2RlbCE9PWVbY10mJmQoYSxiLFxuZSl9KTt2YltjXT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAsbGluazplfX19fSk7bihjZCxmdW5jdGlvbihhLGIpe3ZiW2JdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5OjEwMCxsaW5rOmZ1bmN0aW9uKGEsYyxlKXtpZihcIm5nUGF0dGVyblwiPT09YiYmXCIvXCI9PWUubmdQYXR0ZXJuLmNoYXJBdCgwKSYmKGM9ZS5uZ1BhdHRlcm4ubWF0Y2goQWcpKSl7ZS4kc2V0KFwibmdQYXR0ZXJuXCIsbmV3IFJlZ0V4cChjWzFdLGNbMl0pKTtyZXR1cm59YS4kd2F0Y2goZVtiXSxmdW5jdGlvbihhKXtlLiRzZXQoYixhKX0pfX19fSk7bihbXCJzcmNcIixcInNyY3NldFwiLFwiaHJlZlwiXSxmdW5jdGlvbihhKXt2YXIgYj12YShcIm5nLVwiK2EpO3ZiW2JdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5Ojk5LGxpbms6ZnVuY3Rpb24oZCxjLGUpe3ZhciBmPWEsZz1hO1wiaHJlZlwiPT09YSYmXCJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXVwiPT09Z2EuY2FsbChjLnByb3AoXCJocmVmXCIpKSYmXG4oZz1cInhsaW5rSHJlZlwiLGUuJGF0dHJbZ109XCJ4bGluazpocmVmXCIsZj1udWxsKTtlLiRvYnNlcnZlKGIsZnVuY3Rpb24oYil7Yj8oZS4kc2V0KGcsYikseGEmJmYmJmMucHJvcChmLGVbZ10pKTpcImhyZWZcIj09PWEmJmUuJHNldChnLG51bGwpfSl9fX19KTt2YXIgTWI9eyRhZGRDb250cm9sOkIsJCRyZW5hbWVDb250cm9sOmZ1bmN0aW9uKGEsYil7YS4kbmFtZT1ifSwkcmVtb3ZlQ29udHJvbDpCLCRzZXRWYWxpZGl0eTpCLCRzZXREaXJ0eTpCLCRzZXRQcmlzdGluZTpCLCRzZXRTdWJtaXR0ZWQ6Qn07S2QuJGluamVjdD1bXCIkZWxlbWVudFwiLFwiJGF0dHJzXCIsXCIkc2NvcGVcIixcIiRhbmltYXRlXCIsXCIkaW50ZXJwb2xhdGVcIl07dmFyIFNkPWZ1bmN0aW9uKGEpe3JldHVybltcIiR0aW1lb3V0XCIsXCIkcGFyc2VcIixmdW5jdGlvbihiLGQpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuXCJcIj09PWE/ZCgndGhpc1tcIlwiXScpLmFzc2lnbjpkKGEpLmFzc2lnbnx8Qn1yZXR1cm57bmFtZTpcImZvcm1cIixyZXN0cmljdDphP1xuXCJFQUNcIjpcIkVcIixyZXF1aXJlOltcImZvcm1cIixcIl5eP2Zvcm1cIl0sY29udHJvbGxlcjpLZCxjb21waWxlOmZ1bmN0aW9uKGQsZil7ZC5hZGRDbGFzcyhZYSkuYWRkQ2xhc3Mob2IpO3ZhciBnPWYubmFtZT9cIm5hbWVcIjphJiZmLm5nRm9ybT9cIm5nRm9ybVwiOiExO3JldHVybntwcmU6ZnVuY3Rpb24oYSxkLGUsZil7dmFyIG49ZlswXTtpZighKFwiYWN0aW9uXCJpbiBlKSl7dmFyIHM9ZnVuY3Rpb24oYil7YS4kYXBwbHkoZnVuY3Rpb24oKXtuLiRjb21taXRWaWV3VmFsdWUoKTtuLiRzZXRTdWJtaXR0ZWQoKX0pO2IucHJldmVudERlZmF1bHQoKX07ZFswXS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIscywhMSk7ZC5vbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtiKGZ1bmN0aW9uKCl7ZFswXS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIscywhMSl9LDAsITEpfSl9KGZbMV18fG4uJCRwYXJlbnRGb3JtKS4kYWRkQ29udHJvbChuKTt2YXIgcT1nP2Mobi4kbmFtZSk6QjtnJiYocShhLG4pLGUuJG9ic2VydmUoZyxcbmZ1bmN0aW9uKGIpe24uJG5hbWUhPT1iJiYocShhLHYpLG4uJCRwYXJlbnRGb3JtLiQkcmVuYW1lQ29udHJvbChuLGIpLHE9YyhuLiRuYW1lKSxxKGEsbikpfSkpO2Qub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7bi4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2wobik7cShhLHYpO1QobixNYil9KX19fX19XX0scGU9U2QoKSxDZT1TZCghMCksemc9L1xcZHs0fS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyhbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikvLElnPS9eW2Etel1bYS16XFxkListXSo6XFwvKig/OlteOkBdKyg/OjpbXkBdKyk/QCk/KD86W15cXHM6Lz8jXSt8XFxbW2EtZlxcZDpdK1xcXSkoPzo6XFxkKyk/KD86XFwvW14/I10qKT8oPzpcXD9bXiNdKik/KD86Iy4qKT8kL2ksSmc9L15bYS16MC05ISMkJSYnKitcXC89P15fYHt8fX4uLV0rQFthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KFxcLlthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KSokL2ksS2c9XG4vXlxccyooXFwtfFxcKyk/KFxcZCt8KFxcZCooXFwuXFxkKikpKShbZUVdWystXT9cXGQrKT9cXHMqJC8sVGQ9L14oXFxkezR9KS0oXFxkezJ9KS0oXFxkezJ9KSQvLFVkPS9eKFxcZHs0fSktKFxcZFxcZCktKFxcZFxcZClUKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC8scGM9L14oXFxkezR9KS1XKFxcZFxcZCkkLyxWZD0vXihcXGR7NH0pLShcXGRcXGQpJC8sV2Q9L14oXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLyxYZD17dGV4dDpmdW5jdGlvbihhLGIsZCxjLGUsZil7bGIoYSxiLGQsYyxlLGYpO25jKGMpfSxkYXRlOm1iKFwiZGF0ZVwiLFRkLE9iKFRkLFtcInl5eXlcIixcIk1NXCIsXCJkZFwiXSksXCJ5eXl5LU1NLWRkXCIpLFwiZGF0ZXRpbWUtbG9jYWxcIjptYihcImRhdGV0aW1lbG9jYWxcIixVZCxPYihVZCxcInl5eXkgTU0gZGQgSEggbW0gc3Mgc3NzXCIuc3BsaXQoXCIgXCIpKSxcInl5eXktTU0tZGRUSEg6bW06c3Muc3NzXCIpLHRpbWU6bWIoXCJ0aW1lXCIsV2QsT2IoV2QsW1wiSEhcIixcIm1tXCIsXCJzc1wiLFxuXCJzc3NcIl0pLFwiSEg6bW06c3Muc3NzXCIpLHdlZWs6bWIoXCJ3ZWVrXCIscGMsZnVuY3Rpb24oYSxiKXtpZihWKGEpKXJldHVybiBhO2lmKEYoYSkpe3BjLmxhc3RJbmRleD0wO3ZhciBkPXBjLmV4ZWMoYSk7aWYoZCl7dmFyIGM9K2RbMV0sZT0rZFsyXSxmPWQ9MCxnPTAsaD0wLGs9SWQoYyksZT03KihlLTEpO2ImJihkPWIuZ2V0SG91cnMoKSxmPWIuZ2V0TWludXRlcygpLGc9Yi5nZXRTZWNvbmRzKCksaD1iLmdldE1pbGxpc2Vjb25kcygpKTtyZXR1cm4gbmV3IERhdGUoYywwLGsuZ2V0RGF0ZSgpK2UsZCxmLGcsaCl9fXJldHVybiBOYU59LFwieXl5eS1Xd3dcIiksbW9udGg6bWIoXCJtb250aFwiLFZkLE9iKFZkLFtcInl5eXlcIixcIk1NXCJdKSxcInl5eXktTU1cIiksbnVtYmVyOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtNZChhLGIsZCxjKTtsYihhLGIsZCxjLGUsZik7Yy4kJHBhcnNlck5hbWU9XCJudW1iZXJcIjtjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGMuJGlzRW1wdHkoYSk/bnVsbDpcbktnLnRlc3QoYSk/cGFyc2VGbG9hdChhKTp2fSk7Yy4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKCFjLiRpc0VtcHR5KGEpKXtpZighTihhKSl0aHJvdyBuYihcIm51bWZtdFwiLGEpO2E9YS50b1N0cmluZygpfXJldHVybiBhfSk7aWYoeShkLm1pbil8fGQubmdNaW4pe3ZhciBnO2MuJHZhbGlkYXRvcnMubWluPWZ1bmN0aW9uKGEpe3JldHVybiBjLiRpc0VtcHR5KGEpfHx4KGcpfHxhPj1nfTtkLiRvYnNlcnZlKFwibWluXCIsZnVuY3Rpb24oYSl7eShhKSYmIU4oYSkmJihhPXBhcnNlRmxvYXQoYSwxMCkpO2c9TihhKSYmIWlzTmFOKGEpP2E6djtjLiR2YWxpZGF0ZSgpfSl9aWYoeShkLm1heCl8fGQubmdNYXgpe3ZhciBoO2MuJHZhbGlkYXRvcnMubWF4PWZ1bmN0aW9uKGEpe3JldHVybiBjLiRpc0VtcHR5KGEpfHx4KGgpfHxhPD1ofTtkLiRvYnNlcnZlKFwibWF4XCIsZnVuY3Rpb24oYSl7eShhKSYmIU4oYSkmJihhPXBhcnNlRmxvYXQoYSwxMCkpO2g9TihhKSYmIWlzTmFOKGEpP1xuYTp2O2MuJHZhbGlkYXRlKCl9KX19LHVybDpmdW5jdGlvbihhLGIsZCxjLGUsZil7bGIoYSxiLGQsYyxlLGYpO25jKGMpO2MuJCRwYXJzZXJOYW1lPVwidXJsXCI7Yy4kdmFsaWRhdG9ycy51cmw9ZnVuY3Rpb24oYSxiKXt2YXIgZD1hfHxiO3JldHVybiBjLiRpc0VtcHR5KGQpfHxJZy50ZXN0KGQpfX0sZW1haWw6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe2xiKGEsYixkLGMsZSxmKTtuYyhjKTtjLiQkcGFyc2VyTmFtZT1cImVtYWlsXCI7Yy4kdmFsaWRhdG9ycy5lbWFpbD1mdW5jdGlvbihhLGIpe3ZhciBkPWF8fGI7cmV0dXJuIGMuJGlzRW1wdHkoZCl8fEpnLnRlc3QoZCl9fSxyYWRpbzpmdW5jdGlvbihhLGIsZCxjKXt4KGQubmFtZSkmJmIuYXR0cihcIm5hbWVcIiwrK3BiKTtiLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtiWzBdLmNoZWNrZWQmJmMuJHNldFZpZXdWYWx1ZShkLnZhbHVlLGEmJmEudHlwZSl9KTtjLiRyZW5kZXI9ZnVuY3Rpb24oKXtiWzBdLmNoZWNrZWQ9ZC52YWx1ZT09Yy4kdmlld1ZhbHVlfTtcbmQuJG9ic2VydmUoXCJ2YWx1ZVwiLGMuJHJlbmRlcil9LGNoZWNrYm94OmZ1bmN0aW9uKGEsYixkLGMsZSxmLGcsaCl7dmFyIGs9TmQoaCxhLFwibmdUcnVlVmFsdWVcIixkLm5nVHJ1ZVZhbHVlLCEwKSxsPU5kKGgsYSxcIm5nRmFsc2VWYWx1ZVwiLGQubmdGYWxzZVZhbHVlLCExKTtiLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtjLiRzZXRWaWV3VmFsdWUoYlswXS5jaGVja2VkLGEmJmEudHlwZSl9KTtjLiRyZW5kZXI9ZnVuY3Rpb24oKXtiWzBdLmNoZWNrZWQ9Yy4kdmlld1ZhbHVlfTtjLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiExPT09YX07Yy4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBvYShhLGspfSk7Yy4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe3JldHVybiBhP2s6bH0pfSxoaWRkZW46QixidXR0b246QixzdWJtaXQ6QixyZXNldDpCLGZpbGU6Qn0sRmM9W1wiJGJyb3dzZXJcIixcIiRzbmlmZmVyXCIsXCIkZmlsdGVyXCIsXCIkcGFyc2VcIixmdW5jdGlvbihhLGIsZCxcbmMpe3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9uZ01vZGVsXCJdLGxpbms6e3ByZTpmdW5jdGlvbihlLGYsZyxoKXtoWzBdJiYoWGRbRyhnLnR5cGUpXXx8WGQudGV4dCkoZSxmLGcsaFswXSxiLGEsZCxjKX19fX1dLExnPS9eKHRydWV8ZmFsc2V8XFxkKykkLyxVZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbihhLGIpe3JldHVybiBMZy50ZXN0KGIubmdWYWx1ZSk/ZnVuY3Rpb24oYSxiLGUpe2UuJHNldChcInZhbHVlXCIsYS4kZXZhbChlLm5nVmFsdWUpKX06ZnVuY3Rpb24oYSxiLGUpe2EuJHdhdGNoKGUubmdWYWx1ZSxmdW5jdGlvbihhKXtlLiRzZXQoXCJ2YWx1ZVwiLGEpfSl9fX19LHVlPVtcIiRjb21waWxlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQUNcIixjb21waWxlOmZ1bmN0aW9uKGIpe2EuJCRhZGRCaW5kaW5nQ2xhc3MoYik7cmV0dXJuIGZ1bmN0aW9uKGIsYyxlKXthLiQkYWRkQmluZGluZ0luZm8oYyxcbmUubmdCaW5kKTtjPWNbMF07Yi4kd2F0Y2goZS5uZ0JpbmQsZnVuY3Rpb24oYSl7Yy50ZXh0Q29udGVudD14KGEpP1wiXCI6YX0pfX19fV0sd2U9W1wiJGludGVycG9sYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJue2NvbXBpbGU6ZnVuY3Rpb24oZCl7Yi4kJGFkZEJpbmRpbmdDbGFzcyhkKTtyZXR1cm4gZnVuY3Rpb24oYyxkLGYpe2M9YShkLmF0dHIoZi4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO2IuJCRhZGRCaW5kaW5nSW5mbyhkLGMuZXhwcmVzc2lvbnMpO2Q9ZFswXTtmLiRvYnNlcnZlKFwibmdCaW5kVGVtcGxhdGVcIixmdW5jdGlvbihhKXtkLnRleHRDb250ZW50PXgoYSk/XCJcIjphfSl9fX19XSx2ZT1bXCIkc2NlXCIsXCIkcGFyc2VcIixcIiRjb21waWxlXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybntyZXN0cmljdDpcIkFcIixjb21waWxlOmZ1bmN0aW9uKGMsZSl7dmFyIGY9YihlLm5nQmluZEh0bWwpLGc9YihlLm5nQmluZEh0bWwsZnVuY3Rpb24oYSl7cmV0dXJuKGF8fFwiXCIpLnRvU3RyaW5nKCl9KTtcbmQuJCRhZGRCaW5kaW5nQ2xhc3MoYyk7cmV0dXJuIGZ1bmN0aW9uKGIsYyxlKXtkLiQkYWRkQmluZGluZ0luZm8oYyxlLm5nQmluZEh0bWwpO2IuJHdhdGNoKGcsZnVuY3Rpb24oKXtjLmh0bWwoYS5nZXRUcnVzdGVkSHRtbChmKGIpKXx8XCJcIil9KX19fX1dLFRlPWJhKHtyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwibmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7Yy4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7YS4kZXZhbChkLm5nQ2hhbmdlKX0pfX0pLHhlPW9jKFwiXCIsITApLHplPW9jKFwiT2RkXCIsMCkseWU9b2MoXCJFdmVuXCIsMSksQWU9TWEoe2NvbXBpbGU6ZnVuY3Rpb24oYSxiKXtiLiRzZXQoXCJuZ0Nsb2FrXCIsdik7YS5yZW1vdmVDbGFzcyhcIm5nLWNsb2FrXCIpfX0pLEJlPVtmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixzY29wZTohMCxjb250cm9sbGVyOlwiQFwiLHByaW9yaXR5OjUwMH19XSxLYz17fSxNZz17Ymx1cjohMCxmb2N1czohMH07bihcImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGVcIi5zcGxpdChcIiBcIiksXG5mdW5jdGlvbihhKXt2YXIgYj12YShcIm5nLVwiK2EpO0tjW2JdPVtcIiRwYXJzZVwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGQsYyl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbXBpbGU6ZnVuY3Rpb24oZSxmKXt2YXIgZz1kKGZbYl0sbnVsbCwhMCk7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7ZC5vbihhLGZ1bmN0aW9uKGQpe3ZhciBlPWZ1bmN0aW9uKCl7ZyhiLHskZXZlbnQ6ZH0pfTtNZ1thXSYmYy4kJHBoYXNlP2IuJGV2YWxBc3luYyhlKTpiLiRhcHBseShlKX0pfX19fV19KTt2YXIgRWU9W1wiJGFuaW1hdGVcIixmdW5jdGlvbihhKXtyZXR1cm57bXVsdGlFbGVtZW50OiEwLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIscHJpb3JpdHk6NjAwLHRlcm1pbmFsOiEwLHJlc3RyaWN0OlwiQVwiLCQkdGxiOiEwLGxpbms6ZnVuY3Rpb24oYixkLGMsZSxmKXt2YXIgZyxoLGs7Yi4kd2F0Y2goYy5uZ0lmLGZ1bmN0aW9uKGIpe2I/aHx8ZihmdW5jdGlvbihiLGUpe2g9ZTtiW2IubGVuZ3RoKytdPVcuY3JlYXRlQ29tbWVudChcIiBlbmQgbmdJZjogXCIrXG5jLm5nSWYrXCIgXCIpO2c9e2Nsb25lOmJ9O2EuZW50ZXIoYixkLnBhcmVudCgpLGQpfSk6KGsmJihrLnJlbW92ZSgpLGs9bnVsbCksaCYmKGguJGRlc3Ryb3koKSxoPW51bGwpLGcmJihrPXRiKGcuY2xvbmUpLGEubGVhdmUoaykudGhlbihmdW5jdGlvbigpe2s9bnVsbH0pLGc9bnVsbCkpfSl9fX1dLEZlPVtcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiRhbmNob3JTY3JvbGxcIixcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLHByaW9yaXR5OjQwMCx0ZXJtaW5hbDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLGNvbnRyb2xsZXI6aWEubm9vcCxjb21waWxlOmZ1bmN0aW9uKGMsZSl7dmFyIGY9ZS5uZ0luY2x1ZGV8fGUuc3JjLGc9ZS5vbmxvYWR8fFwiXCIsaD1lLmF1dG9zY3JvbGw7cmV0dXJuIGZ1bmN0aW9uKGMsZSxtLG4scyl7dmFyIHE9MCx2LHQscCx3PWZ1bmN0aW9uKCl7dCYmKHQucmVtb3ZlKCksdD1udWxsKTt2JiYodi4kZGVzdHJveSgpLHY9bnVsbCk7cCYmXG4oZC5sZWF2ZShwKS50aGVuKGZ1bmN0aW9uKCl7dD1udWxsfSksdD1wLHA9bnVsbCl9O2MuJHdhdGNoKGYsZnVuY3Rpb24oZil7dmFyIG09ZnVuY3Rpb24oKXsheShoKXx8aCYmIWMuJGV2YWwoaCl8fGIoKX0sej0rK3E7Zj8oYShmLCEwKS50aGVuKGZ1bmN0aW9uKGEpe2lmKCFjLiQkZGVzdHJveWVkJiZ6PT09cSl7dmFyIGI9Yy4kbmV3KCk7bi50ZW1wbGF0ZT1hO2E9cyhiLGZ1bmN0aW9uKGEpe3coKTtkLmVudGVyKGEsbnVsbCxlKS50aGVuKG0pfSk7dj1iO3A9YTt2LiRlbWl0KFwiJGluY2x1ZGVDb250ZW50TG9hZGVkXCIsZik7Yy4kZXZhbChnKX19LGZ1bmN0aW9uKCl7Yy4kJGRlc3Ryb3llZHx8eiE9PXF8fCh3KCksYy4kZW1pdChcIiRpbmNsdWRlQ29udGVudEVycm9yXCIsZikpfSksYy4kZW1pdChcIiRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFwiLGYpKToodygpLG4udGVtcGxhdGU9bnVsbCl9KX19fX1dLFdlPVtcIiRjb21waWxlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIsXG5wcmlvcml0eTotNDAwLHJlcXVpcmU6XCJuZ0luY2x1ZGVcIixsaW5rOmZ1bmN0aW9uKGIsZCxjLGUpe2dhLmNhbGwoZFswXSkubWF0Y2goL1NWRy8pPyhkLmVtcHR5KCksYShOYyhlLnRlbXBsYXRlLFcpLmNoaWxkTm9kZXMpKGIsZnVuY3Rpb24oYSl7ZC5hcHBlbmQoYSl9LHtmdXR1cmVQYXJlbnRFbGVtZW50OmR9KSk6KGQuaHRtbChlLnRlbXBsYXRlKSxhKGQuY29udGVudHMoKSkoYikpfX19XSxHZT1NYSh7cHJpb3JpdHk6NDUwLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKGEsYixkKXthLiRldmFsKGQubmdJbml0KX19fX0pLFNlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHByaW9yaXR5OjEwMCxyZXF1aXJlOlwibmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7dmFyIGU9Yi5hdHRyKGQuJGF0dHIubmdMaXN0KXx8XCIsIFwiLGY9XCJmYWxzZVwiIT09ZC5uZ1RyaW0sZz1mP1goZSk6ZTtjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoIXgoYSkpe3ZhciBiPVxuW107YSYmbihhLnNwbGl0KGcpLGZ1bmN0aW9uKGEpe2EmJmIucHVzaChmP1goYSk6YSl9KTtyZXR1cm4gYn19KTtjLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIEwoYSk/YS5qb2luKGUpOnZ9KTtjLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHwhYS5sZW5ndGh9fX19LG9iPVwibmctdmFsaWRcIixPZD1cIm5nLWludmFsaWRcIixZYT1cIm5nLXByaXN0aW5lXCIsTmI9XCJuZy1kaXJ0eVwiLFFkPVwibmctcGVuZGluZ1wiLG5iPUgoXCJuZ01vZGVsXCIpLE5nPVtcIiRzY29wZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRhdHRyc1wiLFwiJGVsZW1lbnRcIixcIiRwYXJzZVwiLFwiJGFuaW1hdGVcIixcIiR0aW1lb3V0XCIsXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJGludGVycG9sYXRlXCIsZnVuY3Rpb24oYSxiLGQsYyxlLGYsZyxoLGssbCl7dGhpcy4kbW9kZWxWYWx1ZT10aGlzLiR2aWV3VmFsdWU9TnVtYmVyLk5hTjt0aGlzLiQkcmF3TW9kZWxWYWx1ZT12O3RoaXMuJHZhbGlkYXRvcnM9e307dGhpcy4kYXN5bmNWYWxpZGF0b3JzPVxue307dGhpcy4kcGFyc2Vycz1bXTt0aGlzLiRmb3JtYXR0ZXJzPVtdO3RoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnM9W107dGhpcy4kdW50b3VjaGVkPSEwO3RoaXMuJHRvdWNoZWQ9ITE7dGhpcy4kcHJpc3RpbmU9ITA7dGhpcy4kZGlydHk9ITE7dGhpcy4kdmFsaWQ9ITA7dGhpcy4kaW52YWxpZD0hMTt0aGlzLiRlcnJvcj17fTt0aGlzLiQkc3VjY2Vzcz17fTt0aGlzLiRwZW5kaW5nPXY7dGhpcy4kbmFtZT1sKGQubmFtZXx8XCJcIiwhMSkoYSk7dGhpcy4kJHBhcmVudEZvcm09TWI7dmFyIG09ZShkLm5nTW9kZWwpLHI9bS5hc3NpZ24scT1tLEk9cixLPW51bGwsdCxwPXRoaXM7dGhpcy4kJHNldE9wdGlvbnM9ZnVuY3Rpb24oYSl7aWYoKHAuJG9wdGlvbnM9YSkmJmEuZ2V0dGVyU2V0dGVyKXt2YXIgYj1lKGQubmdNb2RlbCtcIigpXCIpLGY9ZShkLm5nTW9kZWwrXCIoJCQkcClcIik7cT1mdW5jdGlvbihhKXt2YXIgYz1tKGEpO0QoYykmJihjPWIoYSkpO3JldHVybiBjfTtJPWZ1bmN0aW9uKGEsXG5iKXtEKG0oYSkpP2YoYSx7JCQkcDpwLiRtb2RlbFZhbHVlfSk6cihhLHAuJG1vZGVsVmFsdWUpfX1lbHNlIGlmKCFtLmFzc2lnbil0aHJvdyBuYihcIm5vbmFzc2lnblwiLGQubmdNb2RlbCx0YShjKSk7fTt0aGlzLiRyZW5kZXI9Qjt0aGlzLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiB4KGEpfHxcIlwiPT09YXx8bnVsbD09PWF8fGEhPT1hfTt0aGlzLiQkdXBkYXRlRW1wdHlDbGFzc2VzPWZ1bmN0aW9uKGEpe3AuJGlzRW1wdHkoYSk/KGYucmVtb3ZlQ2xhc3MoYyxcIm5nLW5vdC1lbXB0eVwiKSxmLmFkZENsYXNzKGMsXCJuZy1lbXB0eVwiKSk6KGYucmVtb3ZlQ2xhc3MoYyxcIm5nLWVtcHR5XCIpLGYuYWRkQ2xhc3MoYyxcIm5nLW5vdC1lbXB0eVwiKSl9O3ZhciB3PTA7TGQoe2N0cmw6dGhpcywkZWxlbWVudDpjLHNldDpmdW5jdGlvbihhLGIpe2FbYl09ITB9LHVuc2V0OmZ1bmN0aW9uKGEsYil7ZGVsZXRlIGFbYl19LCRhbmltYXRlOmZ9KTt0aGlzLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpe3AuJGRpcnR5PVxuITE7cC4kcHJpc3RpbmU9ITA7Zi5yZW1vdmVDbGFzcyhjLE5iKTtmLmFkZENsYXNzKGMsWWEpfTt0aGlzLiRzZXREaXJ0eT1mdW5jdGlvbigpe3AuJGRpcnR5PSEwO3AuJHByaXN0aW5lPSExO2YucmVtb3ZlQ2xhc3MoYyxZYSk7Zi5hZGRDbGFzcyhjLE5iKTtwLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKX07dGhpcy4kc2V0VW50b3VjaGVkPWZ1bmN0aW9uKCl7cC4kdG91Y2hlZD0hMTtwLiR1bnRvdWNoZWQ9ITA7Zi5zZXRDbGFzcyhjLFwibmctdW50b3VjaGVkXCIsXCJuZy10b3VjaGVkXCIpfTt0aGlzLiRzZXRUb3VjaGVkPWZ1bmN0aW9uKCl7cC4kdG91Y2hlZD0hMDtwLiR1bnRvdWNoZWQ9ITE7Zi5zZXRDbGFzcyhjLFwibmctdG91Y2hlZFwiLFwibmctdW50b3VjaGVkXCIpfTt0aGlzLiRyb2xsYmFja1ZpZXdWYWx1ZT1mdW5jdGlvbigpe2cuY2FuY2VsKEspO3AuJHZpZXdWYWx1ZT1wLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtwLiRyZW5kZXIoKX07dGhpcy4kdmFsaWRhdGU9ZnVuY3Rpb24oKXtpZighTihwLiRtb2RlbFZhbHVlKXx8XG4haXNOYU4ocC4kbW9kZWxWYWx1ZSkpe3ZhciBhPXAuJCRyYXdNb2RlbFZhbHVlLGI9cC4kdmFsaWQsYz1wLiRtb2RlbFZhbHVlLGQ9cC4kb3B0aW9ucyYmcC4kb3B0aW9ucy5hbGxvd0ludmFsaWQ7cC4kJHJ1blZhbGlkYXRvcnMoYSxwLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxmdW5jdGlvbihlKXtkfHxiPT09ZXx8KHAuJG1vZGVsVmFsdWU9ZT9hOnYscC4kbW9kZWxWYWx1ZSE9PWMmJnAuJCR3cml0ZU1vZGVsVG9TY29wZSgpKX0pfX07dGhpcy4kJHJ1blZhbGlkYXRvcnM9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXt2YXIgYz0hMDtuKHAuJHZhbGlkYXRvcnMsZnVuY3Rpb24oZCxlKXt2YXIgZz1kKGEsYik7Yz1jJiZnO2YoZSxnKX0pO3JldHVybiBjPyEwOihuKHAuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbihhLGIpe2YoYixudWxsKX0pLCExKX1mdW5jdGlvbiBlKCl7dmFyIGM9W10sZD0hMDtuKHAuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbihlLGcpe3ZhciBoPWUoYSxcbmIpO2lmKCFofHwhRChoLnRoZW4pKXRocm93IG5iKFwibm9wcm9taXNlXCIsaCk7ZihnLHYpO2MucHVzaChoLnRoZW4oZnVuY3Rpb24oKXtmKGcsITApfSxmdW5jdGlvbihhKXtkPSExO2YoZywhMSl9KSl9KTtjLmxlbmd0aD9rLmFsbChjKS50aGVuKGZ1bmN0aW9uKCl7ZyhkKX0sQik6ZyghMCl9ZnVuY3Rpb24gZihhLGIpe2g9PT13JiZwLiRzZXRWYWxpZGl0eShhLGIpfWZ1bmN0aW9uIGcoYSl7aD09PXcmJmMoYSl9dysrO3ZhciBoPXc7KGZ1bmN0aW9uKCl7dmFyIGE9cC4kJHBhcnNlck5hbWV8fFwicGFyc2VcIjtpZih4KHQpKWYoYSxudWxsKTtlbHNlIHJldHVybiB0fHwobihwLiR2YWxpZGF0b3JzLGZ1bmN0aW9uKGEsYil7ZihiLG51bGwpfSksbihwLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24oYSxiKXtmKGIsbnVsbCl9KSksZihhLHQpLHQ7cmV0dXJuITB9KSgpP2QoKT9lKCk6ZyghMSk6ZyghMSl9O3RoaXMuJGNvbW1pdFZpZXdWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPXAuJHZpZXdWYWx1ZTtcbmcuY2FuY2VsKEspO2lmKHAuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlIT09YXx8XCJcIj09PWEmJnAuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKXAuJCR1cGRhdGVFbXB0eUNsYXNzZXMoYSkscC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU9YSxwLiRwcmlzdGluZSYmdGhpcy4kc2V0RGlydHkoKSx0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSgpfTt0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZT1mdW5jdGlvbigpe3ZhciBiPXAuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO2lmKHQ9eChiKT92OiEwKWZvcih2YXIgYz0wO2M8cC4kcGFyc2Vycy5sZW5ndGg7YysrKWlmKGI9cC4kcGFyc2Vyc1tjXShiKSx4KGIpKXt0PSExO2JyZWFrfU4ocC4kbW9kZWxWYWx1ZSkmJmlzTmFOKHAuJG1vZGVsVmFsdWUpJiYocC4kbW9kZWxWYWx1ZT1xKGEpKTt2YXIgZD1wLiRtb2RlbFZhbHVlLGU9cC4kb3B0aW9ucyYmcC4kb3B0aW9ucy5hbGxvd0ludmFsaWQ7cC4kJHJhd01vZGVsVmFsdWU9YjtlJiYocC4kbW9kZWxWYWx1ZT1cbmIscC4kbW9kZWxWYWx1ZSE9PWQmJnAuJCR3cml0ZU1vZGVsVG9TY29wZSgpKTtwLiQkcnVuVmFsaWRhdG9ycyhiLHAuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLGZ1bmN0aW9uKGEpe2V8fChwLiRtb2RlbFZhbHVlPWE/Yjp2LHAuJG1vZGVsVmFsdWUhPT1kJiZwLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSl9KX07dGhpcy4kJHdyaXRlTW9kZWxUb1Njb3BlPWZ1bmN0aW9uKCl7SShhLHAuJG1vZGVsVmFsdWUpO24ocC4kdmlld0NoYW5nZUxpc3RlbmVycyxmdW5jdGlvbihhKXt0cnl7YSgpfWNhdGNoKGMpe2IoYyl9fSl9O3RoaXMuJHNldFZpZXdWYWx1ZT1mdW5jdGlvbihhLGIpe3AuJHZpZXdWYWx1ZT1hO3AuJG9wdGlvbnMmJiFwLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdHx8cC4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGIpfTt0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQ9ZnVuY3Rpb24oYil7dmFyIGM9MCxkPXAuJG9wdGlvbnM7ZCYmeShkLmRlYm91bmNlKSYmKGQ9ZC5kZWJvdW5jZSxcbk4oZCk/Yz1kOk4oZFtiXSk/Yz1kW2JdOk4oZFtcImRlZmF1bHRcIl0pJiYoYz1kW1wiZGVmYXVsdFwiXSkpO2cuY2FuY2VsKEspO2M/Sz1nKGZ1bmN0aW9uKCl7cC4kY29tbWl0Vmlld1ZhbHVlKCl9LGMpOmguJCRwaGFzZT9wLiRjb21taXRWaWV3VmFsdWUoKTphLiRhcHBseShmdW5jdGlvbigpe3AuJGNvbW1pdFZpZXdWYWx1ZSgpfSl9O2EuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIGI9cShhKTtpZihiIT09cC4kbW9kZWxWYWx1ZSYmKHAuJG1vZGVsVmFsdWU9PT1wLiRtb2RlbFZhbHVlfHxiPT09Yikpe3AuJG1vZGVsVmFsdWU9cC4kJHJhd01vZGVsVmFsdWU9Yjt0PXY7Zm9yKHZhciBjPXAuJGZvcm1hdHRlcnMsZD1jLmxlbmd0aCxlPWI7ZC0tOyllPWNbZF0oZSk7cC4kdmlld1ZhbHVlIT09ZSYmKHAuJCR1cGRhdGVFbXB0eUNsYXNzZXMoZSkscC4kdmlld1ZhbHVlPXAuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlPWUscC4kcmVuZGVyKCkscC4kJHJ1blZhbGlkYXRvcnMoYixlLEIpKX1yZXR1cm4gYn0pfV0sXG5SZT1bXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6W1wibmdNb2RlbFwiLFwiXj9mb3JtXCIsXCJeP25nTW9kZWxPcHRpb25zXCJdLGNvbnRyb2xsZXI6TmcscHJpb3JpdHk6MSxjb21waWxlOmZ1bmN0aW9uKGIpe2IuYWRkQ2xhc3MoWWEpLmFkZENsYXNzKFwibmctdW50b3VjaGVkXCIpLmFkZENsYXNzKG9iKTtyZXR1cm57cHJlOmZ1bmN0aW9uKGEsYixlLGYpe3ZhciBnPWZbMF07Yj1mWzFdfHxnLiQkcGFyZW50Rm9ybTtnLiQkc2V0T3B0aW9ucyhmWzJdJiZmWzJdLiRvcHRpb25zKTtiLiRhZGRDb250cm9sKGcpO2UuJG9ic2VydmUoXCJuYW1lXCIsZnVuY3Rpb24oYSl7Zy4kbmFtZSE9PWEmJmcuJCRwYXJlbnRGb3JtLiQkcmVuYW1lQ29udHJvbChnLGEpfSk7YS4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7Zy4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2woZyl9KX0scG9zdDpmdW5jdGlvbihiLGMsZSxmKXt2YXIgZz1mWzBdO2lmKGcuJG9wdGlvbnMmJlxuZy4kb3B0aW9ucy51cGRhdGVPbiljLm9uKGcuJG9wdGlvbnMudXBkYXRlT24sZnVuY3Rpb24oYSl7Zy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGEmJmEudHlwZSl9KTtjLm9uKFwiYmx1clwiLGZ1bmN0aW9uKGMpe2cuJHRvdWNoZWR8fChhLiQkcGhhc2U/Yi4kZXZhbEFzeW5jKGcuJHNldFRvdWNoZWQpOmIuJGFwcGx5KGcuJHNldFRvdWNoZWQpKX0pfX19fX1dLE9nPS8oXFxzK3xeKWRlZmF1bHQoXFxzK3wkKS8sVmU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixcIiRhdHRyc1wiLGZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpczt0aGlzLiRvcHRpb25zPU9hKGEuJGV2YWwoYi5uZ01vZGVsT3B0aW9ucykpO3kodGhpcy4kb3B0aW9ucy51cGRhdGVPbik/KHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0PSExLHRoaXMuJG9wdGlvbnMudXBkYXRlT249WCh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uLnJlcGxhY2UoT2csZnVuY3Rpb24oKXtkLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD1cbiEwO3JldHVyblwiIFwifSkpKTp0aGlzLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMH1dfX0sSGU9TWEoe3Rlcm1pbmFsOiEwLHByaW9yaXR5OjFFM30pLFBnPUgoXCJuZ09wdGlvbnNcIiksUWc9L15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2dyb3VwXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2Rpc2FibGVcXHMrd2hlblxccysoW1xcc1xcU10rPykpP1xccytmb3JcXHMrKD86KFtcXCRcXHddW1xcJFxcd10qKXwoPzpcXChcXHMqKFtcXCRcXHddW1xcJFxcd10qKVxccyosXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqXFwpKSlcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/JC8sUGU9W1wiJGNvbXBpbGVcIixcIiRwYXJzZVwiLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChhLGMsZCl7ZnVuY3Rpb24gZShhLGIsYyxkLGYpe3RoaXMuc2VsZWN0VmFsdWU9YTt0aGlzLnZpZXdWYWx1ZT1iO3RoaXMubGFiZWw9Yzt0aGlzLmdyb3VwPWQ7dGhpcy5kaXNhYmxlZD1mfVxuZnVuY3Rpb24gbChhKXt2YXIgYjtpZighcSYmQ2EoYSkpYj1hO2Vsc2V7Yj1bXTtmb3IodmFyIGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZcIiRcIiE9PWMuY2hhckF0KDApJiZiLnB1c2goYyl9cmV0dXJuIGJ9dmFyIG09YS5tYXRjaChRZyk7aWYoIW0pdGhyb3cgUGcoXCJpZXhwXCIsYSx0YShjKSk7dmFyIG49bVs1XXx8bVs3XSxxPW1bNl07YT0vIGFzIC8udGVzdChtWzBdKSYmbVsxXTt2YXIgdj1tWzldO2M9YihtWzJdP21bMV06bik7dmFyIHk9YSYmYihhKXx8Yyx0PXYmJmIodikscD12P2Z1bmN0aW9uKGEsYil7cmV0dXJuIHQoZCxiKX06ZnVuY3Rpb24oYSl7cmV0dXJuIEZhKGEpfSx3PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHAoYSxCKGEsYikpfSx1PWIobVsyXXx8bVsxXSkseD1iKG1bM118fFwiXCIpLHo9YihtWzRdfHxcIlwiKSxBPWIobVs4XSksQz17fSxCPXE/ZnVuY3Rpb24oYSxiKXtDW3FdPWI7Q1tuXT1hO3JldHVybiBDfTpmdW5jdGlvbihhKXtDW25dPWE7cmV0dXJuIEN9O3JldHVybnt0cmFja0J5OnYsXG5nZXRUcmFja0J5VmFsdWU6dyxnZXRXYXRjaGFibGVzOmIoQSxmdW5jdGlvbihhKXt2YXIgYj1bXTthPWF8fFtdO2Zvcih2YXIgYz1sKGEpLGU9Yy5sZW5ndGgsZj0wO2Y8ZTtmKyspe3ZhciBnPWE9PT1jP2Y6Y1tmXSxrPUIoYVtnXSxnKSxnPXAoYVtnXSxrKTtiLnB1c2goZyk7aWYobVsyXXx8bVsxXSlnPXUoZCxrKSxiLnB1c2goZyk7bVs0XSYmKGs9eihkLGspLGIucHVzaChrKSl9cmV0dXJuIGJ9KSxnZXRPcHRpb25zOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9e30sYz1BKGQpfHxbXSxmPWwoYyksZz1mLmxlbmd0aCxtPTA7bTxnO20rKyl7dmFyIG49Yz09PWY/bTpmW21dLHI9QihjW25dLG4pLHE9eShkLHIpLG49cChxLHIpLHM9dShkLHIpLHQ9eChkLHIpLHI9eihkLHIpLHE9bmV3IGUobixxLHMsdCxyKTthLnB1c2gocSk7YltuXT1xfXJldHVybntpdGVtczphLHNlbGVjdFZhbHVlTWFwOmIsZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYlt3KGEpXX0sXG5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiB2P2lhLmNvcHkoYS52aWV3VmFsdWUpOmEudmlld1ZhbHVlfX19fX12YXIgYz1XLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksZT1XLmNyZWF0ZUVsZW1lbnQoXCJvcHRncm91cFwiKTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsdGVybWluYWw6ITAscmVxdWlyZTpbXCJzZWxlY3RcIixcIm5nTW9kZWxcIl0sbGluazp7cHJlOmZ1bmN0aW9uKGEsYixjLGQpe2RbMF0ucmVnaXN0ZXJPcHRpb249Qn0scG9zdDpmdW5jdGlvbihiLGcsaCxrKXtmdW5jdGlvbiBsKGEsYil7YS5lbGVtZW50PWI7Yi5kaXNhYmxlZD1hLmRpc2FibGVkO2EubGFiZWwhPT1iLmxhYmVsJiYoYi5sYWJlbD1hLmxhYmVsLGIudGV4dENvbnRlbnQ9YS5sYWJlbCk7YS52YWx1ZSE9PWIudmFsdWUmJihiLnZhbHVlPWEuc2VsZWN0VmFsdWUpfWZ1bmN0aW9uIG0oYSxiLGMsZCl7YiYmRyhiLm5vZGVOYW1lKT09PWM/Yz1iOihjPWQuY2xvbmVOb2RlKCExKSxiP2EuaW5zZXJ0QmVmb3JlKGMsXG5iKTphLmFwcGVuZENoaWxkKGMpKTtyZXR1cm4gY31mdW5jdGlvbiByKGEpe2Zvcih2YXIgYjthOyliPWEubmV4dFNpYmxpbmcsJGIoYSksYT1ifWZ1bmN0aW9uIHEoYSl7dmFyIGI9dyYmd1swXSxjPUEmJkFbMF07aWYoYnx8Yylmb3IoO2EmJihhPT09Ynx8YT09PWN8fDg9PT1hLm5vZGVUeXBlfHxcIm9wdGlvblwiPT09cmEoYSkmJlwiXCI9PT1hLnZhbHVlKTspYT1hLm5leHRTaWJsaW5nO3JldHVybiBhfWZ1bmN0aW9uIHYoKXt2YXIgYT1EJiZ4LnJlYWRWYWx1ZSgpO0Q9RS5nZXRPcHRpb25zKCk7dmFyIGI9e30sZD1nWzBdLmZpcnN0Q2hpbGQ7eiYmZy5wcmVwZW5kKHcpO2Q9cShkKTtELml0ZW1zLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGYsaDt5KGEuZ3JvdXApPyhmPWJbYS5ncm91cF0sZnx8KGY9bShnWzBdLGQsXCJvcHRncm91cFwiLGUpLGQ9Zi5uZXh0U2libGluZyxmLmxhYmVsPWEuZ3JvdXAsZj1iW2EuZ3JvdXBdPXtncm91cEVsZW1lbnQ6ZixjdXJyZW50T3B0aW9uRWxlbWVudDpmLmZpcnN0Q2hpbGR9KSxcbmg9bShmLmdyb3VwRWxlbWVudCxmLmN1cnJlbnRPcHRpb25FbGVtZW50LFwib3B0aW9uXCIsYyksbChhLGgpLGYuY3VycmVudE9wdGlvbkVsZW1lbnQ9aC5uZXh0U2libGluZyk6KGg9bShnWzBdLGQsXCJvcHRpb25cIixjKSxsKGEsaCksZD1oLm5leHRTaWJsaW5nKX0pO09iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYSl7cihiW2FdLmN1cnJlbnRPcHRpb25FbGVtZW50KX0pO3IoZCk7dC4kcmVuZGVyKCk7aWYoIXQuJGlzRW1wdHkoYSkpe3ZhciBmPXgucmVhZFZhbHVlKCk7KEUudHJhY2tCeXx8cD9vYShhLGYpOmE9PT1mKXx8KHQuJHNldFZpZXdWYWx1ZShmKSx0LiRyZW5kZXIoKSl9fXZhciB4PWtbMF0sdD1rWzFdLHA9aC5tdWx0aXBsZSx3O2s9MDtmb3IodmFyIHU9Zy5jaGlsZHJlbigpLEI9dS5sZW5ndGg7azxCO2srKylpZihcIlwiPT09dVtrXS52YWx1ZSl7dz11LmVxKGspO2JyZWFrfXZhciB6PSEhdyxBPUMoYy5jbG9uZU5vZGUoITEpKTtBLnZhbChcIj9cIik7dmFyIEQsRT1kKGgubmdPcHRpb25zLFxuZyxiKTtwPyh0LiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHwwPT09YS5sZW5ndGh9LHgud3JpdGVWYWx1ZT1mdW5jdGlvbihhKXtELml0ZW1zLmZvckVhY2goZnVuY3Rpb24oYSl7YS5lbGVtZW50LnNlbGVjdGVkPSExfSk7YSYmYS5mb3JFYWNoKGZ1bmN0aW9uKGEpeyhhPUQuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZShhKSkmJiFhLmRpc2FibGVkJiYoYS5lbGVtZW50LnNlbGVjdGVkPSEwKX0pfSx4LnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPWcudmFsKCl8fFtdLGI9W107bihhLGZ1bmN0aW9uKGEpeyhhPUQuc2VsZWN0VmFsdWVNYXBbYV0pJiYhYS5kaXNhYmxlZCYmYi5wdXNoKEQuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihhKSl9KTtyZXR1cm4gYn0sRS50cmFja0J5JiZiLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKXtpZihMKHQuJHZpZXdWYWx1ZSkpcmV0dXJuIHQuJHZpZXdWYWx1ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIEUuZ2V0VHJhY2tCeVZhbHVlKGEpfSl9LFxuZnVuY3Rpb24oKXt0LiRyZW5kZXIoKX0pKTooeC53cml0ZVZhbHVlPWZ1bmN0aW9uKGEpe3ZhciBiPUQuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZShhKTtiJiYhYi5kaXNhYmxlZD9nWzBdLnZhbHVlIT09Yi5zZWxlY3RWYWx1ZSYmKEEucmVtb3ZlKCksenx8dy5yZW1vdmUoKSxnWzBdLnZhbHVlPWIuc2VsZWN0VmFsdWUsYi5lbGVtZW50LnNlbGVjdGVkPSEwLGIuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiLFwic2VsZWN0ZWRcIikpOm51bGw9PT1hfHx6PyhBLnJlbW92ZSgpLHp8fGcucHJlcGVuZCh3KSxnLnZhbChcIlwiKSx3LnByb3AoXCJzZWxlY3RlZFwiLCEwKSx3LmF0dHIoXCJzZWxlY3RlZFwiLCEwKSk6KHp8fHcucmVtb3ZlKCksZy5wcmVwZW5kKEEpLGcudmFsKFwiP1wiKSxBLnByb3AoXCJzZWxlY3RlZFwiLCEwKSxBLmF0dHIoXCJzZWxlY3RlZFwiLCEwKSl9LHgucmVhZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9RC5zZWxlY3RWYWx1ZU1hcFtnLnZhbCgpXTtyZXR1cm4gYSYmIWEuZGlzYWJsZWQ/XG4oenx8dy5yZW1vdmUoKSxBLnJlbW92ZSgpLEQuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihhKSk6bnVsbH0sRS50cmFja0J5JiZiLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBFLmdldFRyYWNrQnlWYWx1ZSh0LiR2aWV3VmFsdWUpfSxmdW5jdGlvbigpe3QuJHJlbmRlcigpfSkpO3o/KHcucmVtb3ZlKCksYSh3KShiKSx3LnJlbW92ZUNsYXNzKFwibmctc2NvcGVcIikpOnc9QyhjLmNsb25lTm9kZSghMSkpO3YoKTtiLiR3YXRjaENvbGxlY3Rpb24oRS5nZXRXYXRjaGFibGVzLHYpfX19fV0sSWU9W1wiJGxvY2FsZVwiLFwiJGludGVycG9sYXRlXCIsXCIkbG9nXCIsZnVuY3Rpb24oYSxiLGQpe3ZhciBjPS97fS9nLGU9L153aGVuKE1pbnVzKT8oLispJC87cmV0dXJue2xpbms6ZnVuY3Rpb24oZixnLGgpe2Z1bmN0aW9uIGsoYSl7Zy50ZXh0KGF8fFwiXCIpfXZhciBsPWguY291bnQsbT1oLiRhdHRyLndoZW4mJmcuYXR0cihoLiRhdHRyLndoZW4pLHI9aC5vZmZzZXR8fDAscT1mLiRldmFsKG0pfHx7fSx2PVxue30seT1iLnN0YXJ0U3ltYm9sKCksdD1iLmVuZFN5bWJvbCgpLHA9eStsK1wiLVwiK3IrdCx3PWlhLm5vb3AsdTtuKGgsZnVuY3Rpb24oYSxiKXt2YXIgYz1lLmV4ZWMoYik7YyYmKGM9KGNbMV0/XCItXCI6XCJcIikrRyhjWzJdKSxxW2NdPWcuYXR0cihoLiRhdHRyW2JdKSl9KTtuKHEsZnVuY3Rpb24oYSxkKXt2W2RdPWIoYS5yZXBsYWNlKGMscCkpfSk7Zi4kd2F0Y2gobCxmdW5jdGlvbihiKXt2YXIgYz1wYXJzZUZsb2F0KGIpLGU9aXNOYU4oYyk7ZXx8YyBpbiBxfHwoYz1hLnBsdXJhbENhdChjLXIpKTtjPT09dXx8ZSYmTih1KSYmaXNOYU4odSl8fCh3KCksZT12W2NdLHgoZSk/KG51bGwhPWImJmQuZGVidWcoXCJuZ1BsdXJhbGl6ZTogbm8gcnVsZSBkZWZpbmVkIGZvciAnXCIrYytcIicgaW4gXCIrbSksdz1CLGsoKSk6dz1mLiR3YXRjaChlLGspLHU9Yyl9KX19fV0sSmU9W1wiJHBhcnNlXCIsXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGEsYil7dmFyIGQ9SChcIm5nUmVwZWF0XCIpLGM9ZnVuY3Rpb24oYSxiLFxuYyxkLGssbCxtKXthW2NdPWQ7ayYmKGFba109bCk7YS4kaW5kZXg9YjthLiRmaXJzdD0wPT09YjthLiRsYXN0PWI9PT1tLTE7YS4kbWlkZGxlPSEoYS4kZmlyc3R8fGEuJGxhc3QpO2EuJG9kZD0hKGEuJGV2ZW49MD09PShiJjEpKX07cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjFFMyx0ZXJtaW5hbDohMCwkJHRsYjohMCxjb21waWxlOmZ1bmN0aW9uKGUsZil7dmFyIGc9Zi5uZ1JlcGVhdCxoPVcuY3JlYXRlQ29tbWVudChcIiBlbmQgbmdSZXBlYXQ6IFwiK2crXCIgXCIpLGs9Zy5tYXRjaCgvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzKiQvKTtpZighayl0aHJvdyBkKFwiaWV4cFwiLGcpO3ZhciBsPWtbMV0sbT1rWzJdLHI9a1szXSxxPWtbNF0saz1sLm1hdGNoKC9eKD86KFxccypbXFwkXFx3XSspfFxcKFxccyooW1xcJFxcd10rKVxccyosXFxzKihbXFwkXFx3XSspXFxzKlxcKSkkLyk7XG5pZighayl0aHJvdyBkKFwiaWlkZXhwXCIsbCk7dmFyIHg9a1szXXx8a1sxXSx5PWtbMl07aWYociYmKCEvXlskYS16QS1aX11bJGEtekEtWjAtOV9dKiQvLnRlc3Qocil8fC9eKG51bGx8dW5kZWZpbmVkfHRoaXN8XFwkaW5kZXh8XFwkZmlyc3R8XFwkbWlkZGxlfFxcJGxhc3R8XFwkZXZlbnxcXCRvZGR8XFwkcGFyZW50fFxcJHJvb3R8XFwkaWQpJC8udGVzdChyKSkpdGhyb3cgZChcImJhZGlkZW50XCIscik7dmFyIHQscCx3LHUsQj17JGlkOkZhfTtxP3Q9YShxKToodz1mdW5jdGlvbihhLGIpe3JldHVybiBGYShiKX0sdT1mdW5jdGlvbihhKXtyZXR1cm4gYX0pO3JldHVybiBmdW5jdGlvbihhLGUsZixrLGwpe3QmJihwPWZ1bmN0aW9uKGIsYyxkKXt5JiYoQlt5XT1iKTtCW3hdPWM7Qi4kaW5kZXg9ZDtyZXR1cm4gdChhLEIpfSk7dmFyIHE9WigpO2EuJHdhdGNoQ29sbGVjdGlvbihtLGZ1bmN0aW9uKGYpe3ZhciBrLG0scz1lWzBdLHQsQj1aKCksRCxFLEgsRixMLEcsTjtyJiYoYVtyXT1mKTtpZihDYShmKSlMPVxuZixtPXB8fHc7ZWxzZSBmb3IoTiBpbiBtPXB8fHUsTD1bXSxmKXNhLmNhbGwoZixOKSYmXCIkXCIhPT1OLmNoYXJBdCgwKSYmTC5wdXNoKE4pO0Q9TC5sZW5ndGg7Tj1BcnJheShEKTtmb3Ioaz0wO2s8RDtrKyspaWYoRT1mPT09TD9rOkxba10sSD1mW0VdLEY9bShFLEgsaykscVtGXSlHPXFbRl0sZGVsZXRlIHFbRl0sQltGXT1HLE5ba109RztlbHNle2lmKEJbRl0pdGhyb3cgbihOLGZ1bmN0aW9uKGEpe2EmJmEuc2NvcGUmJihxW2EuaWRdPWEpfSksZChcImR1cGVzXCIsZyxGLEgpO05ba109e2lkOkYsc2NvcGU6dixjbG9uZTp2fTtCW0ZdPSEwfWZvcih0IGluIHEpe0c9cVt0XTtGPXRiKEcuY2xvbmUpO2IubGVhdmUoRik7aWYoRlswXS5wYXJlbnROb2RlKWZvcihrPTAsbT1GLmxlbmd0aDtrPG07aysrKUZba10uJCROR19SRU1PVkVEPSEwO0cuc2NvcGUuJGRlc3Ryb3koKX1mb3Ioaz0wO2s8RDtrKyspaWYoRT1mPT09TD9rOkxba10sSD1mW0VdLEc9TltrXSxHLnNjb3BlKXt0PXM7ZG8gdD1cbnQubmV4dFNpYmxpbmc7d2hpbGUodCYmdC4kJE5HX1JFTU9WRUQpO0cuY2xvbmVbMF0hPXQmJmIubW92ZSh0YihHLmNsb25lKSxudWxsLEMocykpO3M9Ry5jbG9uZVtHLmNsb25lLmxlbmd0aC0xXTtjKEcuc2NvcGUsayx4LEgseSxFLEQpfWVsc2UgbChmdW5jdGlvbihhLGQpe0cuc2NvcGU9ZDt2YXIgZT1oLmNsb25lTm9kZSghMSk7YVthLmxlbmd0aCsrXT1lO2IuZW50ZXIoYSxudWxsLEMocykpO3M9ZTtHLmNsb25lPWE7QltHLmlkXT1HO2MoRy5zY29wZSxrLHgsSCx5LEUsRCl9KTtxPUJ9KX19fX1dLEtlPVtcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGIsZCxjKXtiLiR3YXRjaChjLm5nU2hvdyxmdW5jdGlvbihiKXthW2I/XCJyZW1vdmVDbGFzc1wiOlwiYWRkQ2xhc3NcIl0oZCxcIm5nLWhpZGVcIix7dGVtcENsYXNzZXM6XCJuZy1oaWRlLWFuaW1hdGVcIn0pfSl9fX1dLERlPVtcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLFxubXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYixkLGMpe2IuJHdhdGNoKGMubmdIaWRlLGZ1bmN0aW9uKGIpe2FbYj9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShkLFwibmctaGlkZVwiLHt0ZW1wQ2xhc3NlczpcIm5nLWhpZGUtYW5pbWF0ZVwifSl9KX19fV0sTGU9TWEoZnVuY3Rpb24oYSxiLGQpe2EuJHdhdGNoKGQubmdTdHlsZSxmdW5jdGlvbihhLGQpe2QmJmEhPT1kJiZuKGQsZnVuY3Rpb24oYSxjKXtiLmNzcyhjLFwiXCIpfSk7YSYmYi5jc3MoYSl9LCEwKX0pLE1lPVtcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3JlcXVpcmU6XCJuZ1N3aXRjaFwiLGNvbnRyb2xsZXI6W1wiJHNjb3BlXCIsZnVuY3Rpb24oKXt0aGlzLmNhc2VzPXt9fV0sbGluazpmdW5jdGlvbihiLGQsYyxlKXt2YXIgZj1bXSxnPVtdLGg9W10saz1bXSxsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7YS5zcGxpY2UoYiwxKX19O2IuJHdhdGNoKGMubmdTd2l0Y2h8fGMub24sZnVuY3Rpb24oYil7dmFyIGMsXG5kO2M9MDtmb3IoZD1oLmxlbmd0aDtjPGQ7KytjKWEuY2FuY2VsKGhbY10pO2M9aC5sZW5ndGg9MDtmb3IoZD1rLmxlbmd0aDtjPGQ7KytjKXt2YXIgcT10YihnW2NdLmNsb25lKTtrW2NdLiRkZXN0cm95KCk7KGhbY109YS5sZWF2ZShxKSkudGhlbihsKGgsYykpfWcubGVuZ3RoPTA7ay5sZW5ndGg9MDsoZj1lLmNhc2VzW1wiIVwiK2JdfHxlLmNhc2VzW1wiP1wiXSkmJm4oZixmdW5jdGlvbihiKXtiLnRyYW5zY2x1ZGUoZnVuY3Rpb24oYyxkKXtrLnB1c2goZCk7dmFyIGU9Yi5lbGVtZW50O2NbYy5sZW5ndGgrK109Vy5jcmVhdGVDb21tZW50KFwiIGVuZCBuZ1N3aXRjaFdoZW46IFwiKTtnLnB1c2goe2Nsb25lOmN9KTthLmVudGVyKGMsZS5wYXJlbnQoKSxlKX0pfSl9KX19fV0sTmU9TWEoe3RyYW5zY2x1ZGU6XCJlbGVtZW50XCIscHJpb3JpdHk6MTIwMCxyZXF1aXJlOlwiXm5nU3dpdGNoXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyxlKXtjLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXT1cbmMuY2FzZXNbXCIhXCIrZC5uZ1N3aXRjaFdoZW5dfHxbXTtjLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXS5wdXNoKHt0cmFuc2NsdWRlOmUsZWxlbWVudDpifSl9fSksT2U9TWEoe3RyYW5zY2x1ZGU6XCJlbGVtZW50XCIscHJpb3JpdHk6MTIwMCxyZXF1aXJlOlwiXm5nU3dpdGNoXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyxlKXtjLmNhc2VzW1wiP1wiXT1jLmNhc2VzW1wiP1wiXXx8W107Yy5jYXNlc1tcIj9cIl0ucHVzaCh7dHJhbnNjbHVkZTplLGVsZW1lbnQ6Yn0pfX0pLFJnPUgoXCJuZ1RyYW5zY2x1ZGVcIiksUWU9TWEoe3Jlc3RyaWN0OlwiRUFDXCIsbGluazpmdW5jdGlvbihhLGIsZCxjLGUpe2QubmdUcmFuc2NsdWRlPT09ZC4kYXR0ci5uZ1RyYW5zY2x1ZGUmJihkLm5nVHJhbnNjbHVkZT1cIlwiKTtpZighZSl0aHJvdyBSZyhcIm9ycGhhblwiLHRhKGIpKTtlKGZ1bmN0aW9uKGEpe2EubGVuZ3RoJiYoYi5lbXB0eSgpLGIuYXBwZW5kKGEpKX0sbnVsbCxkLm5nVHJhbnNjbHVkZXx8XG5kLm5nVHJhbnNjbHVkZVNsb3QpfX0pLHFlPVtcIiR0ZW1wbGF0ZUNhY2hlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHRlcm1pbmFsOiEwLGNvbXBpbGU6ZnVuY3Rpb24oYixkKXtcInRleHQvbmctdGVtcGxhdGVcIj09ZC50eXBlJiZhLnB1dChkLmlkLGJbMF0udGV4dCl9fX1dLFNnPXskc2V0Vmlld1ZhbHVlOkIsJHJlbmRlcjpCfSxUZz1bXCIkZWxlbWVudFwiLFwiJHNjb3BlXCIsXCIkYXR0cnNcIixmdW5jdGlvbihhLGIsZCl7dmFyIGM9dGhpcyxlPW5ldyBVYTtjLm5nTW9kZWxDdHJsPVNnO2MudW5rbm93bk9wdGlvbj1DKFcuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSk7Yy5yZW5kZXJVbmtub3duT3B0aW9uPWZ1bmN0aW9uKGIpe2I9XCI/IFwiK0ZhKGIpK1wiID9cIjtjLnVua25vd25PcHRpb24udmFsKGIpO2EucHJlcGVuZChjLnVua25vd25PcHRpb24pO2EudmFsKGIpfTtiLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtjLnJlbmRlclVua25vd25PcHRpb249Qn0pO2MucmVtb3ZlVW5rbm93bk9wdGlvbj1cbmZ1bmN0aW9uKCl7Yy51bmtub3duT3B0aW9uLnBhcmVudCgpJiZjLnVua25vd25PcHRpb24ucmVtb3ZlKCl9O2MucmVhZFZhbHVlPWZ1bmN0aW9uKCl7Yy5yZW1vdmVVbmtub3duT3B0aW9uKCk7cmV0dXJuIGEudmFsKCl9O2Mud3JpdGVWYWx1ZT1mdW5jdGlvbihiKXtjLmhhc09wdGlvbihiKT8oYy5yZW1vdmVVbmtub3duT3B0aW9uKCksYS52YWwoYiksXCJcIj09PWImJmMuZW1wdHlPcHRpb24ucHJvcChcInNlbGVjdGVkXCIsITApKTpudWxsPT1iJiZjLmVtcHR5T3B0aW9uPyhjLnJlbW92ZVVua25vd25PcHRpb24oKSxhLnZhbChcIlwiKSk6Yy5yZW5kZXJVbmtub3duT3B0aW9uKGIpfTtjLmFkZE9wdGlvbj1mdW5jdGlvbihhLGIpe2lmKDghPT1iWzBdLm5vZGVUeXBlKXtUYShhLCdcIm9wdGlvbiB2YWx1ZVwiJyk7XCJcIj09PWEmJihjLmVtcHR5T3B0aW9uPWIpO3ZhciBkPWUuZ2V0KGEpfHwwO2UucHV0KGEsZCsxKTtjLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtiWzBdLmhhc0F0dHJpYnV0ZShcInNlbGVjdGVkXCIpJiZcbihiWzBdLnNlbGVjdGVkPSEwKX19O2MucmVtb3ZlT3B0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPWUuZ2V0KGEpO2ImJigxPT09Yj8oZS5yZW1vdmUoYSksXCJcIj09PWEmJihjLmVtcHR5T3B0aW9uPXYpKTplLnB1dChhLGItMSkpfTtjLmhhc09wdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4hIWUuZ2V0KGEpfTtjLnJlZ2lzdGVyT3B0aW9uPWZ1bmN0aW9uKGEsYixkLGUsbCl7aWYoZSl7dmFyIG07ZC4kb2JzZXJ2ZShcInZhbHVlXCIsZnVuY3Rpb24oYSl7eShtKSYmYy5yZW1vdmVPcHRpb24obSk7bT1hO2MuYWRkT3B0aW9uKGEsYil9KX1lbHNlIGw/YS4kd2F0Y2gobCxmdW5jdGlvbihhLGUpe2QuJHNldChcInZhbHVlXCIsYSk7ZSE9PWEmJmMucmVtb3ZlT3B0aW9uKGUpO2MuYWRkT3B0aW9uKGEsYil9KTpjLmFkZE9wdGlvbihkLnZhbHVlLGIpO2Iub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7Yy5yZW1vdmVPcHRpb24oZC52YWx1ZSk7Yy5uZ01vZGVsQ3RybC4kcmVuZGVyKCl9KX19XSxyZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkVcIixcbnJlcXVpcmU6W1wic2VsZWN0XCIsXCI/bmdNb2RlbFwiXSxjb250cm9sbGVyOlRnLHByaW9yaXR5OjEsbGluazp7cHJlOmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPWNbMV07aWYoZSl7dmFyIGY9Y1swXTtmLm5nTW9kZWxDdHJsPWU7Yi5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7YS4kYXBwbHkoZnVuY3Rpb24oKXtlLiRzZXRWaWV3VmFsdWUoZi5yZWFkVmFsdWUoKSl9KX0pO2lmKGQubXVsdGlwbGUpe2YucmVhZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9W107bihiLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oYil7Yi5zZWxlY3RlZCYmYS5wdXNoKGIudmFsdWUpfSk7cmV0dXJuIGF9O2Yud3JpdGVWYWx1ZT1mdW5jdGlvbihhKXt2YXIgYz1uZXcgVWEoYSk7bihiLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oYSl7YS5zZWxlY3RlZD15KGMuZ2V0KGEudmFsdWUpKX0pfTt2YXIgZyxoPU5hTjthLiR3YXRjaChmdW5jdGlvbigpe2ghPT1lLiR2aWV3VmFsdWV8fG9hKGcsZS4kdmlld1ZhbHVlKXx8KGc9XG5uYShlLiR2aWV3VmFsdWUpLGUuJHJlbmRlcigpKTtoPWUuJHZpZXdWYWx1ZX0pO2UuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fDA9PT1hLmxlbmd0aH19fX0scG9zdDpmdW5jdGlvbihhLGIsZCxjKXt2YXIgZT1jWzFdO2lmKGUpe3ZhciBmPWNbMF07ZS4kcmVuZGVyPWZ1bmN0aW9uKCl7Zi53cml0ZVZhbHVlKGUuJHZpZXdWYWx1ZSl9fX19fX0sdGU9W1wiJGludGVycG9sYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKGIsZCl7aWYoeShkLnZhbHVlKSl2YXIgYz1hKGQudmFsdWUsITApO2Vsc2V7dmFyIGU9YShiLnRleHQoKSwhMCk7ZXx8ZC4kc2V0KFwidmFsdWVcIixiLnRleHQoKSl9cmV0dXJuIGZ1bmN0aW9uKGEsYixkKXt2YXIgaz1iLnBhcmVudCgpOyhrPWsuZGF0YShcIiRzZWxlY3RDb250cm9sbGVyXCIpfHxrLnBhcmVudCgpLmRhdGEoXCIkc2VsZWN0Q29udHJvbGxlclwiKSkmJmsucmVnaXN0ZXJPcHRpb24oYSxcbmIsZCxjLGUpfX19fV0sc2U9YmEoe3Jlc3RyaWN0OlwiRVwiLHRlcm1pbmFsOiExfSksSGM9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtjJiYoZC5yZXF1aXJlZD0hMCxjLiR2YWxpZGF0b3JzLnJlcXVpcmVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWQucmVxdWlyZWR8fCFjLiRpc0VtcHR5KGIpfSxkLiRvYnNlcnZlKFwicmVxdWlyZWRcIixmdW5jdGlvbigpe2MuJHZhbGlkYXRlKCl9KSl9fX0sR2M9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtpZihjKXt2YXIgZSxmPWQubmdQYXR0ZXJufHxkLnBhdHRlcm47ZC4kb2JzZXJ2ZShcInBhdHRlcm5cIixmdW5jdGlvbihhKXtGKGEpJiYwPGEubGVuZ3RoJiYoYT1uZXcgUmVnRXhwKFwiXlwiK2ErXCIkXCIpKTtpZihhJiYhYS50ZXN0KXRocm93IEgoXCJuZ1BhdHRlcm5cIikoXCJub3JlZ2V4cFwiLFxuZixhLHRhKGIpKTtlPWF8fHY7Yy4kdmFsaWRhdGUoKX0pO2MuJHZhbGlkYXRvcnMucGF0dGVybj1mdW5jdGlvbihhLGIpe3JldHVybiBjLiRpc0VtcHR5KGIpfHx4KGUpfHxlLnRlc3QoYil9fX19fSxKYz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe2lmKGMpe3ZhciBlPS0xO2QuJG9ic2VydmUoXCJtYXhsZW5ndGhcIixmdW5jdGlvbihhKXthPWNhKGEpO2U9aXNOYU4oYSk/LTE6YTtjLiR2YWxpZGF0ZSgpfSk7Yy4kdmFsaWRhdG9ycy5tYXhsZW5ndGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMD5lfHxjLiRpc0VtcHR5KGIpfHxiLmxlbmd0aDw9ZX19fX19LEljPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7aWYoYyl7dmFyIGU9MDtkLiRvYnNlcnZlKFwibWlubGVuZ3RoXCIsZnVuY3Rpb24oYSl7ZT1jYShhKXx8MDtjLiR2YWxpZGF0ZSgpfSk7XG5jLiR2YWxpZGF0b3JzLm1pbmxlbmd0aD1mdW5jdGlvbihhLGIpe3JldHVybiBjLiRpc0VtcHR5KGIpfHxiLmxlbmd0aD49ZX19fX19O08uYW5ndWxhci5ib290c3RyYXA/Y29uc29sZS5sb2coXCJXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuXCIpOihqZSgpLGxlKGlhKSxpYS5tb2R1bGUoXCJuZ0xvY2FsZVwiLFtdLFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthKz1cIlwiO3ZhciBiPWEuaW5kZXhPZihcIi5cIik7cmV0dXJuLTE9PWI/MDphLmxlbmd0aC1iLTF9YS52YWx1ZShcIiRsb2NhbGVcIix7REFURVRJTUVfRk9STUFUUzp7QU1QTVM6W1wiQU1cIixcIlBNXCJdLERBWTpcIlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5XCIuc3BsaXQoXCIgXCIpLEVSQU5BTUVTOltcIkJlZm9yZSBDaHJpc3RcIixcIkFubm8gRG9taW5pXCJdLEVSQVM6W1wiQkNcIixcIkFEXCJdLEZJUlNUREFZT0ZXRUVLOjYsTU9OVEg6XCJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyXCIuc3BsaXQoXCIgXCIpLFxuU0hPUlREQVk6XCJTdW4gTW9uIFR1ZSBXZWQgVGh1IEZyaSBTYXRcIi5zcGxpdChcIiBcIiksU0hPUlRNT05USDpcIkphbiBGZWIgTWFyIEFwciBNYXkgSnVuIEp1bCBBdWcgU2VwIE9jdCBOb3YgRGVjXCIuc3BsaXQoXCIgXCIpLFNUQU5EQUxPTkVNT05USDpcIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXJcIi5zcGxpdChcIiBcIiksV0VFS0VORFJBTkdFOls1LDZdLGZ1bGxEYXRlOlwiRUVFRSwgTU1NTSBkLCB5XCIsbG9uZ0RhdGU6XCJNTU1NIGQsIHlcIixtZWRpdW06XCJNTU0gZCwgeSBoOm1tOnNzIGFcIixtZWRpdW1EYXRlOlwiTU1NIGQsIHlcIixtZWRpdW1UaW1lOlwiaDptbTpzcyBhXCIsXCJzaG9ydFwiOlwiTS9kL3l5IGg6bW0gYVwiLHNob3J0RGF0ZTpcIk0vZC95eVwiLHNob3J0VGltZTpcImg6bW0gYVwifSxOVU1CRVJfRk9STUFUUzp7Q1VSUkVOQ1lfU1lNOlwiJFwiLERFQ0lNQUxfU0VQOlwiLlwiLEdST1VQX1NFUDpcIixcIixcblBBVFRFUk5TOlt7Z1NpemU6MyxsZ1NpemU6MyxtYXhGcmFjOjMsbWluRnJhYzowLG1pbkludDoxLG5lZ1ByZTpcIi1cIixuZWdTdWY6XCJcIixwb3NQcmU6XCJcIixwb3NTdWY6XCJcIn0se2dTaXplOjMsbGdTaXplOjMsbWF4RnJhYzoyLG1pbkZyYWM6MixtaW5JbnQ6MSxuZWdQcmU6XCItXFx1MDBhNFwiLG5lZ1N1ZjpcIlwiLHBvc1ByZTpcIlxcdTAwYTRcIixwb3NTdWY6XCJcIn1dfSxpZDpcImVuLXVzXCIsbG9jYWxlSUQ6XCJlbl9VU1wiLHBsdXJhbENhdDpmdW5jdGlvbihhLGMpe3ZhciBlPWF8MCxmPWM7dj09PWYmJihmPU1hdGgubWluKGIoYSksMykpO01hdGgucG93KDEwLGYpO3JldHVybiAxPT1lJiYwPT1mP1wib25lXCI6XCJvdGhlclwifX0pfV0pLEMoVykucmVhZHkoZnVuY3Rpb24oKXtmZShXLEFjKX0pKX0pKHdpbmRvdyxkb2N1bWVudCk7IXdpbmRvdy5hbmd1bGFyLiQkY3NwKCkubm9JbmxpbmVTdHlsZSYmd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+QGNoYXJzZXQgXCJVVEYtOFwiO1tuZ1xcXFw6Y2xvYWtdLFtuZy1jbG9ha10sW2RhdGEtbmctY2xvYWtdLFt4LW5nLWNsb2FrXSwubmctY2xvYWssLngtbmctY2xvYWssLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O31uZ1xcXFw6Zm9ybXtkaXNwbGF5OmJsb2NrO30ubmctYW5pbWF0ZS1zaGlte3Zpc2liaWxpdHk6aGlkZGVuO30ubmctYW5jaG9ye3Bvc2l0aW9uOmFic29sdXRlO308L3N0eWxlPicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci5taW4uanMubWFwXG4iLCJ2YXIgd2FuYWthbmEsXG4gIF9faW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9O1xuXG53YW5ha2FuYSA9IHdhbmFrYW5hIHx8IHt9O1xuXG53YW5ha2FuYS52ZXJzaW9uID0gXCIxLjMuN1wiO1xuXG5pZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKFwid2FuYWthbmFcIiwgW10sIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB3YW5ha2FuYTtcbiAgfSk7XG59XG5cbndhbmFrYW5hLkxPV0VSQ0FTRV9TVEFSVCA9IDB4NjE7XG5cbndhbmFrYW5hLkxPV0VSQ0FTRV9FTkQgPSAweDdBO1xuXG53YW5ha2FuYS5VUFBFUkNBU0VfU1RBUlQgPSAweDQxO1xuXG53YW5ha2FuYS5VUFBFUkNBU0VfRU5EID0gMHg1QTtcblxud2FuYWthbmEuSElSQUdBTkFfU1RBUlQgPSAweDMwNDE7XG5cbndhbmFrYW5hLkhJUkFHQU5BX0VORCA9IDB4MzA5Njtcblxud2FuYWthbmEuS0FUQUtBTkFfU1RBUlQgPSAweDMwQTE7XG5cbndhbmFrYW5hLktBVEFLQU5BX0VORCA9IDB4MzBGQTtcblxud2FuYWthbmEuTE9XRVJDQVNFX0ZVTExXSURUSF9TVEFSVCA9IDB4RkY0MTtcblxud2FuYWthbmEuTE9XRVJDQVNFX0ZVTExXSURUSF9FTkQgPSAweEZGNUE7XG5cbndhbmFrYW5hLlVQUEVSQ0FTRV9GVUxMV0lEVEhfU1RBUlQgPSAweEZGMjE7XG5cbndhbmFrYW5hLlVQUEVSQ0FTRV9GVUxMV0lEVEhfRU5EID0gMHhGRjNBO1xuXG53YW5ha2FuYS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgdXNlT2JzZWxldGVLYW5hOiBmYWxzZSxcbiAgSU1FTW9kZTogZmFsc2Vcbn07XG5cbi8qKlxuICogQXV0b21hdGljYWxseSBzZXRzIHVwIGFuIGlucHV0IGZpZWxkIHRvIGJlIGFuIElNRS5cbiovXG5cblxud2FuYWthbmEuYmluZCA9IGZ1bmN0aW9uKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHdhbmFrYW5hLl9vbklucHV0KTtcbn07XG5cbndhbmFrYW5hLnVuYmluZCA9IGZ1bmN0aW9uKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHdhbmFrYW5hLl9vbklucHV0KTtcbn07XG5cbndhbmFrYW5hLl9vbklucHV0ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdmFyIGlucHV0LCBuZXdUZXh0LCBub3JtYWxpemVkSW5wdXRTdHJpbmcsIHJhbmdlLCBzdGFydGluZ0N1cnNvciwgc3RhcnRpbmdMZW5ndGg7XG4gIGlucHV0ID0gZXZlbnQudGFyZ2V0O1xuICBzdGFydGluZ0N1cnNvciA9IGlucHV0LnNlbGVjdGlvblN0YXJ0O1xuICBzdGFydGluZ0xlbmd0aCA9IGlucHV0LnZhbHVlLmxlbmd0aDtcbiAgbm9ybWFsaXplZElucHV0U3RyaW5nID0gd2FuYWthbmEuX2NvbnZlcnRGdWxsd2lkdGhDaGFyc1RvQVNDSUkoaW5wdXQudmFsdWUpO1xuICBuZXdUZXh0ID0gd2FuYWthbmEudG9LYW5hKG5vcm1hbGl6ZWRJbnB1dFN0cmluZywge1xuICAgIElNRU1vZGU6IHRydWVcbiAgfSk7XG4gIGlmIChub3JtYWxpemVkSW5wdXRTdHJpbmcgIT09IG5ld1RleHQpIHtcbiAgICBpbnB1dC52YWx1ZSA9IG5ld1RleHQ7XG4gICAgaWYgKHR5cGVvZiBpbnB1dC5zZWxlY3Rpb25TdGFydCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIGlucHV0LnNlbGVjdGlvblN0YXJ0ID0gaW5wdXQuc2VsZWN0aW9uRW5kID0gaW5wdXQudmFsdWUubGVuZ3RoO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0LmNyZWF0ZVRleHRSYW5nZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgIHJhbmdlID0gaW5wdXQuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7XG4gICAgICByZXR1cm4gcmFuZ2Uuc2VsZWN0KCk7XG4gICAgfVxuICB9XG59O1xuXG53YW5ha2FuYS5fZXh0ZW5kID0gZnVuY3Rpb24odGFyZ2V0LCBzb3VyY2UpIHtcbiAgdmFyIHByb3A7XG4gIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cbiAgZm9yIChwcm9wIGluIHNvdXJjZSkge1xuICAgIGlmICgodGFyZ2V0W3Byb3BdID09IG51bGwpICYmIChzb3VyY2VbcHJvcF0gIT0gbnVsbCkpIHtcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbi8qKlxuICogVGFrZXMgYSBjaGFyYWN0ZXIgYW5kIGEgdW5pY29kZSByYW5nZS4gUmV0dXJucyB0cnVlIGlmIHRoZSBjaGFyIGlzIGluIHRoZSByYW5nZS5cbiovXG5cblxud2FuYWthbmEuX2lzQ2hhckluUmFuZ2UgPSBmdW5jdGlvbihjaGFyLCBzdGFydCwgZW5kKSB7XG4gIHZhciBjb2RlO1xuICBjb2RlID0gY2hhci5jaGFyQ29kZUF0KDApO1xuICByZXR1cm4gKHN0YXJ0IDw9IGNvZGUgJiYgY29kZSA8PSBlbmQpO1xufTtcblxud2FuYWthbmEuX2lzQ2hhclZvd2VsID0gZnVuY3Rpb24oY2hhciwgaW5jbHVkZVkpIHtcbiAgdmFyIHJlZ2V4cDtcbiAgaWYgKGluY2x1ZGVZID09IG51bGwpIHtcbiAgICBpbmNsdWRlWSA9IHRydWU7XG4gIH1cbiAgcmVnZXhwID0gaW5jbHVkZVkgPyAvW2FlaW91eV0vIDogL1thZWlvdV0vO1xuICByZXR1cm4gY2hhci50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKS5zZWFyY2gocmVnZXhwKSAhPT0gLTE7XG59O1xuXG53YW5ha2FuYS5faXNDaGFyQ29uc29uYW50ID0gZnVuY3Rpb24oY2hhciwgaW5jbHVkZVkpIHtcbiAgdmFyIHJlZ2V4cDtcbiAgaWYgKGluY2x1ZGVZID09IG51bGwpIHtcbiAgICBpbmNsdWRlWSA9IHRydWU7XG4gIH1cbiAgcmVnZXhwID0gaW5jbHVkZVkgPyAvW2JjZGZnaGprbG1ucHFyc3R2d3h5el0vIDogL1tiY2RmZ2hqa2xtbnBxcnN0dnd4el0vO1xuICByZXR1cm4gY2hhci50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKS5zZWFyY2gocmVnZXhwKSAhPT0gLTE7XG59O1xuXG53YW5ha2FuYS5faXNDaGFyS2F0YWthbmEgPSBmdW5jdGlvbihjaGFyKSB7XG4gIHJldHVybiB3YW5ha2FuYS5faXNDaGFySW5SYW5nZShjaGFyLCB3YW5ha2FuYS5LQVRBS0FOQV9TVEFSVCwgd2FuYWthbmEuS0FUQUtBTkFfRU5EKTtcbn07XG5cbndhbmFrYW5hLl9pc0NoYXJIaXJhZ2FuYSA9IGZ1bmN0aW9uKGNoYXIpIHtcbiAgcmV0dXJuIHdhbmFrYW5hLl9pc0NoYXJJblJhbmdlKGNoYXIsIHdhbmFrYW5hLkhJUkFHQU5BX1NUQVJULCB3YW5ha2FuYS5ISVJBR0FOQV9FTkQpO1xufTtcblxud2FuYWthbmEuX2lzQ2hhckthbmEgPSBmdW5jdGlvbihjaGFyKSB7XG4gIHJldHVybiB3YW5ha2FuYS5faXNDaGFySGlyYWdhbmEoY2hhcikgfHwgd2FuYWthbmEuX2lzQ2hhckthdGFrYW5hKGNoYXIpO1xufTtcblxud2FuYWthbmEuX2lzQ2hhck5vdEthbmEgPSBmdW5jdGlvbihjaGFyKSB7XG4gIHJldHVybiAhd2FuYWthbmEuX2lzQ2hhckhpcmFnYW5hKGNoYXIpICYmICF3YW5ha2FuYS5faXNDaGFyS2F0YWthbmEoY2hhcik7XG59O1xuXG53YW5ha2FuYS5fY29udmVydEZ1bGx3aWR0aENoYXJzVG9BU0NJSSA9IGZ1bmN0aW9uKHN0cmluZykge1xuICB2YXIgY2hhciwgY2hhcnMsIGNvZGUsIGksIF9pLCBfbGVuO1xuICBjaGFycyA9IHN0cmluZy5zcGxpdChcIlwiKTtcbiAgZm9yIChpID0gX2kgPSAwLCBfbGVuID0gY2hhcnMubGVuZ3RoOyBfaSA8IF9sZW47IGkgPSArK19pKSB7XG4gICAgY2hhciA9IGNoYXJzW2ldO1xuICAgIGNvZGUgPSBjaGFyLmNoYXJDb2RlQXQoMCk7XG4gICAgaWYgKHdhbmFrYW5hLl9pc0NoYXJJblJhbmdlKGNoYXIsIHdhbmFrYW5hLkxPV0VSQ0FTRV9GVUxMV0lEVEhfU1RBUlQsIHdhbmFrYW5hLkxPV0VSQ0FTRV9GVUxMV0lEVEhfRU5EKSkge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUgLSB3YW5ha2FuYS5MT1dFUkNBU0VfRlVMTFdJRFRIX1NUQVJUICsgd2FuYWthbmEuTE9XRVJDQVNFX1NUQVJUKTtcbiAgICB9XG4gICAgaWYgKHdhbmFrYW5hLl9pc0NoYXJJblJhbmdlKGNoYXIsIHdhbmFrYW5hLlVQUEVSQ0FTRV9GVUxMV0lEVEhfU1RBUlQsIHdhbmFrYW5hLlVQUEVSQ0FTRV9GVUxMV0lEVEhfRU5EKSkge1xuICAgICAgY2hhcnNbaV0oU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlIC0gd2FuYWthbmEuVVBQRVJDQVNFX0ZVTExXSURUSF9TVEFSVCArIHdhbmFrYW5hLlVQUEVSQ0FTRV9TVEFSVCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hhcnMuam9pbihcIlwiKTtcbn07XG5cbndhbmFrYW5hLl9rYXRha2FuYVRvSGlyYWdhbmEgPSBmdW5jdGlvbihrYXRhKSB7XG4gIHZhciBjb2RlLCBoaXJhLCBoaXJhQ2hhciwga2F0YUNoYXIsIF9pLCBfbGVuLCBfcmVmO1xuICBoaXJhID0gW107XG4gIF9yZWYgPSBrYXRhLnNwbGl0KFwiXCIpO1xuICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICBrYXRhQ2hhciA9IF9yZWZbX2ldO1xuICAgIGlmICh3YW5ha2FuYS5faXNDaGFyS2F0YWthbmEoa2F0YUNoYXIpKSB7XG4gICAgICBjb2RlID0ga2F0YUNoYXIuY2hhckNvZGVBdCgwKTtcbiAgICAgIGNvZGUgKz0gd2FuYWthbmEuSElSQUdBTkFfU1RBUlQgLSB3YW5ha2FuYS5LQVRBS0FOQV9TVEFSVDtcbiAgICAgIGhpcmFDaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgIGhpcmEucHVzaChoaXJhQ2hhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpcmEucHVzaChrYXRhQ2hhcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBoaXJhLmpvaW4oXCJcIik7XG59O1xuXG53YW5ha2FuYS5faGlyYWdhbmFUb0thdGFrYW5hID0gZnVuY3Rpb24oaGlyYSkge1xuICB2YXIgY29kZSwgaGlyYUNoYXIsIGthdGEsIGthdGFDaGFyLCBfaSwgX2xlbiwgX3JlZjtcbiAga2F0YSA9IFtdO1xuICBfcmVmID0gaGlyYS5zcGxpdChcIlwiKTtcbiAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgaGlyYUNoYXIgPSBfcmVmW19pXTtcbiAgICBpZiAod2FuYWthbmEuX2lzQ2hhckhpcmFnYW5hKGhpcmFDaGFyKSkge1xuICAgICAgY29kZSA9IGhpcmFDaGFyLmNoYXJDb2RlQXQoMCk7XG4gICAgICBjb2RlICs9IHdhbmFrYW5hLktBVEFLQU5BX1NUQVJUIC0gd2FuYWthbmEuSElSQUdBTkFfU1RBUlQ7XG4gICAgICBrYXRhQ2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICBrYXRhLnB1c2goa2F0YUNoYXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrYXRhLnB1c2goaGlyYUNoYXIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ga2F0YS5qb2luKFwiXCIpO1xufTtcblxud2FuYWthbmEuX2hpcmFnYW5hVG9Sb21hamkgPSBmdW5jdGlvbihoaXJhLCBvcHRpb25zKSB7XG4gIHZhciBjaHVuaywgY2h1bmtTaXplLCBjdXJzb3IsIGdldENodW5rLCBsZW4sIG1heENodW5rLCBuZXh0Q2hhcklzRG91YmxlQ29uc29uYW50LCByZXNldENodW5rU2l6ZSwgcm9tYSwgcm9tYUNoYXI7XG4gIG9wdGlvbnMgPSB3YW5ha2FuYS5fZXh0ZW5kKG9wdGlvbnMsIHdhbmFrYW5hLmRlZmF1bHRPcHRpb25zKTtcbiAgbGVuID0gaGlyYS5sZW5ndGg7XG4gIHJvbWEgPSBbXTtcbiAgY3Vyc29yID0gMDtcbiAgY2h1bmtTaXplID0gMDtcbiAgbWF4Q2h1bmsgPSAyO1xuICBnZXRDaHVuayA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoaXJhLnN1YnN0cihjdXJzb3IsIGNodW5rU2l6ZSk7XG4gIH07XG4gIHJlc2V0Q2h1bmtTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGNodW5rU2l6ZSA9IE1hdGgubWluKG1heENodW5rLCBsZW4gLSBjdXJzb3IpO1xuICB9O1xuICB3aGlsZSAoY3Vyc29yIDwgbGVuKSB7XG4gICAgcmVzZXRDaHVua1NpemUoKTtcbiAgICB3aGlsZSAoY2h1bmtTaXplID4gMCkge1xuICAgICAgY2h1bmsgPSBnZXRDaHVuaygpO1xuICAgICAgaWYgKHdhbmFrYW5hLmlzS2F0YWthbmEoY2h1bmspKSB7XG4gICAgICAgIGNodW5rID0gd2FuYWthbmEuX2thdGFrYW5hVG9IaXJhZ2FuYShjaHVuayk7XG4gICAgICB9XG4gICAgICBpZiAoY2h1bmsuY2hhckF0KDApID09PSBcIuOBo1wiICYmIGNodW5rU2l6ZSA9PT0gMSAmJiBjdXJzb3IgPCAobGVuIC0gMSkpIHtcbiAgICAgICAgbmV4dENoYXJJc0RvdWJsZUNvbnNvbmFudCA9IHRydWU7XG4gICAgICAgIHJvbWFDaGFyID0gXCJcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByb21hQ2hhciA9IHdhbmFrYW5hLkpfdG9fUltjaHVua107XG4gICAgICBpZiAoKHJvbWFDaGFyICE9IG51bGwpICYmIG5leHRDaGFySXNEb3VibGVDb25zb25hbnQpIHtcbiAgICAgICAgcm9tYUNoYXIgPSByb21hQ2hhci5jaGFyQXQoMCkuY29uY2F0KHJvbWFDaGFyKTtcbiAgICAgICAgbmV4dENoYXJJc0RvdWJsZUNvbnNvbmFudCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHJvbWFDaGFyICE9IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjaHVua1NpemUtLTtcbiAgICB9XG4gICAgaWYgKHJvbWFDaGFyID09IG51bGwpIHtcbiAgICAgIHJvbWFDaGFyID0gY2h1bms7XG4gICAgfVxuICAgIHJvbWEucHVzaChyb21hQ2hhcik7XG4gICAgY3Vyc29yICs9IGNodW5rU2l6ZSB8fCAxO1xuICB9XG4gIHJldHVybiByb21hLmpvaW4oXCJcIik7XG59O1xuXG53YW5ha2FuYS5fcm9tYWppVG9IaXJhZ2FuYSA9IGZ1bmN0aW9uKHJvbWEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHdhbmFrYW5hLl9yb21hamlUb0thbmEocm9tYSwgb3B0aW9ucywgdHJ1ZSk7XG59O1xuXG53YW5ha2FuYS5fcm9tYWppVG9LYW5hID0gZnVuY3Rpb24ocm9tYSwgb3B0aW9ucywgaWdub3JlQ2FzZSkge1xuICB2YXIgY2h1bmssIGNodW5rTEMsIGNodW5rU2l6ZSwgY3Vyc29yLCBnZXRDaHVuaywgaXNDaGFyVXBwZXJDYXNlLCBrYW5hLCBrYW5hQ2hhciwgbGVuLCBtYXhDaHVuaztcbiAgaWYgKGlnbm9yZUNhc2UgPT0gbnVsbCkge1xuICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgfVxuICBvcHRpb25zID0gd2FuYWthbmEuX2V4dGVuZChvcHRpb25zLCB3YW5ha2FuYS5kZWZhdWx0T3B0aW9ucyk7XG4gIGxlbiA9IHJvbWEubGVuZ3RoO1xuICBrYW5hID0gW107XG4gIGN1cnNvciA9IDA7XG4gIG1heENodW5rID0gMztcbiAgZ2V0Q2h1bmsgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcm9tYS5zdWJzdHIoY3Vyc29yLCBjaHVua1NpemUpO1xuICB9O1xuICBpc0NoYXJVcHBlckNhc2UgPSBmdW5jdGlvbihjaGFyKSB7XG4gICAgcmV0dXJuIHdhbmFrYW5hLl9pc0NoYXJJblJhbmdlKGNoYXIsIHdhbmFrYW5hLlVQUEVSQ0FTRV9TVEFSVCwgd2FuYWthbmEuVVBQRVJDQVNFX0VORCk7XG4gIH07XG4gIHdoaWxlIChjdXJzb3IgPCBsZW4pIHtcbiAgICBjaHVua1NpemUgPSBNYXRoLm1pbihtYXhDaHVuaywgbGVuIC0gY3Vyc29yKTtcbiAgICB3aGlsZSAoY2h1bmtTaXplID4gMCkge1xuICAgICAgY2h1bmsgPSBnZXRDaHVuaygpO1xuICAgICAgY2h1bmtMQyA9IGNodW5rLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoX19pbmRleE9mLmNhbGwod2FuYWthbmEuRk9VUl9DSEFSQUNURVJfRURHRV9DQVNFUywgY2h1bmtMQykgPj0gMCAmJiAobGVuIC0gY3Vyc29yKSA+PSA0KSB7XG4gICAgICAgIGNodW5rU2l6ZSsrO1xuICAgICAgICBjaHVuayA9IGdldENodW5rKCk7XG4gICAgICAgIGNodW5rTEMgPSBjaHVuay50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNodW5rTEMuY2hhckF0KDApID09PSBcIm5cIikge1xuICAgICAgICAgIGlmIChvcHRpb25zLklNRU1vZGUgJiYgY2h1bmtMQy5jaGFyQXQoMSkgPT09IFwiJ1wiICYmIGNodW5rU2l6ZSA9PT0gMikge1xuICAgICAgICAgICAga2FuYUNoYXIgPSBcIuOCk1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh3YW5ha2FuYS5faXNDaGFyQ29uc29uYW50KGNodW5rTEMuY2hhckF0KDEpLCBmYWxzZSkgJiYgd2FuYWthbmEuX2lzQ2hhclZvd2VsKGNodW5rTEMuY2hhckF0KDIpKSkge1xuICAgICAgICAgICAgY2h1bmtTaXplID0gMTtcbiAgICAgICAgICAgIGNodW5rID0gZ2V0Q2h1bmsoKTtcbiAgICAgICAgICAgIGNodW5rTEMgPSBjaHVuay50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2h1bmtMQy5jaGFyQXQoMCkgIT09IFwiblwiICYmIHdhbmFrYW5hLl9pc0NoYXJDb25zb25hbnQoY2h1bmtMQy5jaGFyQXQoMCkpICYmIGNodW5rLmNoYXJBdCgwKSA9PT0gY2h1bmsuY2hhckF0KDEpKSB7XG4gICAgICAgICAgY2h1bmtTaXplID0gMTtcbiAgICAgICAgICBpZiAod2FuYWthbmEuX2lzQ2hhckluUmFuZ2UoY2h1bmsuY2hhckF0KDApLCB3YW5ha2FuYS5VUFBFUkNBU0VfU1RBUlQsIHdhbmFrYW5hLlVQUEVSQ0FTRV9FTkQpKSB7XG4gICAgICAgICAgICBjaHVua0xDID0gY2h1bmsgPSBcIuODg1wiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaHVua0xDID0gY2h1bmsgPSBcIuOBo1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAga2FuYUNoYXIgPSB3YW5ha2FuYS5SX3RvX0pbY2h1bmtMQ107XG4gICAgICBpZiAoa2FuYUNoYXIgIT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChjaHVua1NpemUgPT09IDQpIHtcbiAgICAgICAgY2h1bmtTaXplIC09IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaHVua1NpemUtLTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGthbmFDaGFyID09IG51bGwpIHtcbiAgICAgIGNodW5rID0gd2FuYWthbmEuX2NvbnZlcnRQdW5jdHVhdGlvbihjaHVuayk7XG4gICAgICBrYW5hQ2hhciA9IGNodW5rO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy51c2VPYnNlbGV0ZUthbmEgOiB2b2lkIDApIHtcbiAgICAgIGlmIChjaHVua0xDID09PSBcIndpXCIpIHtcbiAgICAgICAga2FuYUNoYXIgPSBcIuOCkFwiO1xuICAgICAgfVxuICAgICAgaWYgKGNodW5rTEMgPT09IFwid2VcIikge1xuICAgICAgICBrYW5hQ2hhciA9IFwi44KRXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zLklNRU1vZGUgJiYgY2h1bmtMQy5jaGFyQXQoMCkgPT09IFwiblwiKSB7XG4gICAgICBpZiAocm9tYS5jaGFyQXQoY3Vyc29yICsgMSkudG9Mb3dlckNhc2UoKSA9PT0gXCJ5XCIgJiYgd2FuYWthbmEuX2lzQ2hhclZvd2VsKHJvbWEuY2hhckF0KGN1cnNvciArIDIpKSA9PT0gZmFsc2UgfHwgY3Vyc29yID09PSAobGVuIC0gMSkgfHwgd2FuYWthbmEuaXNLYW5hKHJvbWEuY2hhckF0KGN1cnNvciArIDEpKSkge1xuICAgICAgICBrYW5hQ2hhciA9IGNodW5rLmNoYXJBdCgwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoaXNDaGFyVXBwZXJDYXNlKGNodW5rLmNoYXJBdCgwKSkpIHtcbiAgICAgICAga2FuYUNoYXIgPSB3YW5ha2FuYS5faGlyYWdhbmFUb0thdGFrYW5hKGthbmFDaGFyKTtcbiAgICAgIH1cbiAgICB9XG4gICAga2FuYS5wdXNoKGthbmFDaGFyKTtcbiAgICBjdXJzb3IgKz0gY2h1bmtTaXplIHx8IDE7XG4gIH1cbiAgcmV0dXJuIGthbmEuam9pbihcIlwiKTtcbn07XG5cbndhbmFrYW5hLl9jb252ZXJ0UHVuY3R1YXRpb24gPSBmdW5jdGlvbihpbnB1dCwgb3B0aW9ucykge1xuICBpZiAoaW5wdXQgPT09ICfjgIAnKSB7XG4gICAgcmV0dXJuICcgJztcbiAgfVxuICBpZiAoaW5wdXQgPT09ICctJykge1xuICAgIHJldHVybiAn44O8JztcbiAgfVxuICByZXR1cm4gaW5wdXQ7XG59O1xuXG4vKipcbiogUmV0dXJucyB0cnVlIGlmIGlucHV0IGlzIGVudGlyZWx5IGhpcmFnYW5hLlxuKi9cblxuXG53YW5ha2FuYS5pc0hpcmFnYW5hID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgdmFyIGNoYXJzO1xuICBjaGFycyA9IGlucHV0LnNwbGl0KFwiXCIpO1xuICByZXR1cm4gY2hhcnMuZXZlcnkod2FuYWthbmEuX2lzQ2hhckhpcmFnYW5hKTtcbn07XG5cbndhbmFrYW5hLmlzS2F0YWthbmEgPSBmdW5jdGlvbihpbnB1dCkge1xuICB2YXIgY2hhcnM7XG4gIGNoYXJzID0gaW5wdXQuc3BsaXQoXCJcIik7XG4gIHJldHVybiBjaGFycy5ldmVyeSh3YW5ha2FuYS5faXNDaGFyS2F0YWthbmEpO1xufTtcblxud2FuYWthbmEuaXNLYW5hID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgdmFyIGNoYXJzO1xuICBjaGFycyA9IGlucHV0LnNwbGl0KFwiXCIpO1xuICByZXR1cm4gY2hhcnMuZXZlcnkoZnVuY3Rpb24oY2hhcikge1xuICAgIHJldHVybiAod2FuYWthbmEuaXNIaXJhZ2FuYShjaGFyKSkgfHwgKHdhbmFrYW5hLmlzS2F0YWthbmEoY2hhcikpO1xuICB9KTtcbn07XG5cbndhbmFrYW5hLmlzUm9tYWppID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgdmFyIGNoYXJzO1xuICBjaGFycyA9IGlucHV0LnNwbGl0KFwiXCIpO1xuICByZXR1cm4gY2hhcnMuZXZlcnkoZnVuY3Rpb24oY2hhcikge1xuICAgIHJldHVybiAoIXdhbmFrYW5hLmlzSGlyYWdhbmEoY2hhcikpICYmICghd2FuYWthbmEuaXNLYXRha2FuYShjaGFyKSk7XG4gIH0pO1xufTtcblxud2FuYWthbmEudG9IaXJhZ2FuYSA9IGZ1bmN0aW9uKGlucHV0LCBvcHRpb25zKSB7XG4gIGlmICh3YW5ha2FuYS5pc1JvbWFqaShpbnB1dCkpIHtcbiAgICByZXR1cm4gaW5wdXQgPSB3YW5ha2FuYS5fcm9tYWppVG9IaXJhZ2FuYShpbnB1dCwgb3B0aW9ucyk7XG4gIH1cbiAgaWYgKHdhbmFrYW5hLmlzS2F0YWthbmEoaW5wdXQpKSB7XG4gICAgcmV0dXJuIGlucHV0ID0gd2FuYWthbmEuX2thdGFrYW5hVG9IaXJhZ2FuYShpbnB1dCwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIGlucHV0O1xufTtcblxud2FuYWthbmEudG9LYXRha2FuYSA9IGZ1bmN0aW9uKGlucHV0LCBvcHRpb25zKSB7XG4gIGlmICh3YW5ha2FuYS5pc0hpcmFnYW5hKGlucHV0KSkge1xuICAgIHJldHVybiBpbnB1dCA9IHdhbmFrYW5hLl9oaXJhZ2FuYVRvS2F0YWthbmEoaW5wdXQsIG9wdGlvbnMpO1xuICB9XG4gIGlmICh3YW5ha2FuYS5pc1JvbWFqaShpbnB1dCkpIHtcbiAgICBpbnB1dCA9IHdhbmFrYW5hLl9yb21hamlUb0hpcmFnYW5hKGlucHV0LCBvcHRpb25zKTtcbiAgICByZXR1cm4gaW5wdXQgPSB3YW5ha2FuYS5faGlyYWdhbmFUb0thdGFrYW5hKGlucHV0LCBvcHRpb25zKTtcbiAgfVxuICByZXR1cm4gaW5wdXQ7XG59O1xuXG53YW5ha2FuYS50b0thbmEgPSBmdW5jdGlvbihpbnB1dCwgb3B0aW9ucykge1xuICByZXR1cm4gaW5wdXQgPSB3YW5ha2FuYS5fcm9tYWppVG9LYW5hKGlucHV0LCBvcHRpb25zKTtcbn07XG5cbndhbmFrYW5hLnRvUm9tYWppID0gZnVuY3Rpb24oaW5wdXQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGlucHV0ID0gd2FuYWthbmEuX2hpcmFnYW5hVG9Sb21hamkoaW5wdXQpO1xufTtcblxud2FuYWthbmEuUl90b19KID0ge1xuICBhOiAn44GCJyxcbiAgaTogJ+OBhCcsXG4gIHU6ICfjgYYnLFxuICBlOiAn44GIJyxcbiAgbzogJ+OBiicsXG4gIHlpOiAn44GEJyxcbiAgd3U6ICfjgYYnLFxuICB3aHU6ICfjgYYnLFxuICB4YTogJ+OBgScsXG4gIHhpOiAn44GDJyxcbiAgeHU6ICfjgYUnLFxuICB4ZTogJ+OBhycsXG4gIHhvOiAn44GJJyxcbiAgeHlpOiAn44GDJyxcbiAgeHllOiAn44GHJyxcbiAgeWU6ICfjgYTjgYcnLFxuICB3aGE6ICfjgYbjgYEnLFxuICB3aGk6ICfjgYbjgYMnLFxuICB3aGU6ICfjgYbjgYcnLFxuICB3aG86ICfjgYbjgYknLFxuICB3aTogJ+OBhuOBgycsXG4gIHdlOiAn44GG44GHJyxcbiAgdmE6ICfjgpTjgYEnLFxuICB2aTogJ+OClOOBgycsXG4gIHZ1OiAn44KUJyxcbiAgdmU6ICfjgpTjgYcnLFxuICB2bzogJ+OClOOBiScsXG4gIHZ5YTogJ+OClOOCgycsXG4gIHZ5aTogJ+OClOOBgycsXG4gIHZ5dTogJ+OClOOChScsXG4gIHZ5ZTogJ+OClOOBhycsXG4gIHZ5bzogJ+OClOOChycsXG4gIGthOiAn44GLJyxcbiAga2k6ICfjgY0nLFxuICBrdTogJ+OBjycsXG4gIGtlOiAn44GRJyxcbiAga286ICfjgZMnLFxuICBsa2E6ICfjg7UnLFxuICBsa2U6ICfjg7YnLFxuICB4a2E6ICfjg7UnLFxuICB4a2U6ICfjg7YnLFxuICBreWE6ICfjgY3jgoMnLFxuICBreWk6ICfjgY3jgYMnLFxuICBreXU6ICfjgY3jgoUnLFxuICBreWU6ICfjgY3jgYcnLFxuICBreW86ICfjgY3jgocnLFxuICBjYTogJ+OBiycsXG4gIGNpOiAn44GNJyxcbiAgY3U6ICfjgY8nLFxuICBjZTogJ+OBkScsXG4gIGNvOiAn44GTJyxcbiAgbGNhOiAn44O1JyxcbiAgbGNlOiAn44O2JyxcbiAgeGNhOiAn44O1JyxcbiAgeGNlOiAn44O2JyxcbiAgcXlhOiAn44GP44KDJyxcbiAgcXl1OiAn44GP44KFJyxcbiAgcXlvOiAn44GP44KHJyxcbiAgcXdhOiAn44GP44GBJyxcbiAgcXdpOiAn44GP44GDJyxcbiAgcXd1OiAn44GP44GFJyxcbiAgcXdlOiAn44GP44GHJyxcbiAgcXdvOiAn44GP44GJJyxcbiAgcWE6ICfjgY/jgYEnLFxuICBxaTogJ+OBj+OBgycsXG4gIHFlOiAn44GP44GHJyxcbiAgcW86ICfjgY/jgYknLFxuICBrd2E6ICfjgY/jgYEnLFxuICBxeWk6ICfjgY/jgYMnLFxuICBxeWU6ICfjgY/jgYcnLFxuICBnYTogJ+OBjCcsXG4gIGdpOiAn44GOJyxcbiAgZ3U6ICfjgZAnLFxuICBnZTogJ+OBkicsXG4gIGdvOiAn44GUJyxcbiAgZ3lhOiAn44GO44KDJyxcbiAgZ3lpOiAn44GO44GDJyxcbiAgZ3l1OiAn44GO44KFJyxcbiAgZ3llOiAn44GO44GHJyxcbiAgZ3lvOiAn44GO44KHJyxcbiAgZ3dhOiAn44GQ44GBJyxcbiAgZ3dpOiAn44GQ44GDJyxcbiAgZ3d1OiAn44GQ44GFJyxcbiAgZ3dlOiAn44GQ44GHJyxcbiAgZ3dvOiAn44GQ44GJJyxcbiAgc2E6ICfjgZUnLFxuICBzaTogJ+OBlycsXG4gIHNoaTogJ+OBlycsXG4gIHN1OiAn44GZJyxcbiAgc2U6ICfjgZsnLFxuICBzbzogJ+OBnScsXG4gIHphOiAn44GWJyxcbiAgemk6ICfjgZgnLFxuICB6dTogJ+OBmicsXG4gIHplOiAn44GcJyxcbiAgem86ICfjgZ4nLFxuICBqaTogJ+OBmCcsXG4gIHN5YTogJ+OBl+OCgycsXG4gIHN5aTogJ+OBl+OBgycsXG4gIHN5dTogJ+OBl+OChScsXG4gIHN5ZTogJ+OBl+OBhycsXG4gIHN5bzogJ+OBl+OChycsXG4gIHNoYTogJ+OBl+OCgycsXG4gIHNodTogJ+OBl+OChScsXG4gIHNoZTogJ+OBl+OBhycsXG4gIHNobzogJ+OBl+OChycsXG4gIHNoeWE6ICfjgZfjgoMnLFxuICBzaHl1OiAn44GX44KFJyxcbiAgc2h5ZTogJ+OBl+OBhycsXG4gIHNoeW86ICfjgZfjgocnLFxuICBzd2E6ICfjgZnjgYEnLFxuICBzd2k6ICfjgZnjgYMnLFxuICBzd3U6ICfjgZnjgYUnLFxuICBzd2U6ICfjgZnjgYcnLFxuICBzd286ICfjgZnjgYknLFxuICB6eWE6ICfjgZjjgoMnLFxuICB6eWk6ICfjgZjjgYMnLFxuICB6eXU6ICfjgZjjgoUnLFxuICB6eWU6ICfjgZjjgYcnLFxuICB6eW86ICfjgZjjgocnLFxuICBqYTogJ+OBmOOCgycsXG4gIGp1OiAn44GY44KFJyxcbiAgamU6ICfjgZjjgYcnLFxuICBqbzogJ+OBmOOChycsXG4gIGp5YTogJ+OBmOOCgycsXG4gIGp5aTogJ+OBmOOBgycsXG4gIGp5dTogJ+OBmOOChScsXG4gIGp5ZTogJ+OBmOOBhycsXG4gIGp5bzogJ+OBmOOChycsXG4gIHRhOiAn44GfJyxcbiAgdGk6ICfjgaEnLFxuICB0dTogJ+OBpCcsXG4gIHRlOiAn44GmJyxcbiAgdG86ICfjgagnLFxuICBjaGk6ICfjgaEnLFxuICB0c3U6ICfjgaQnLFxuICBsdHU6ICfjgaMnLFxuICB4dHU6ICfjgaMnLFxuICB0eWE6ICfjgaHjgoMnLFxuICB0eWk6ICfjgaHjgYMnLFxuICB0eXU6ICfjgaHjgoUnLFxuICB0eWU6ICfjgaHjgYcnLFxuICB0eW86ICfjgaHjgocnLFxuICBjaGE6ICfjgaHjgoMnLFxuICBjaHU6ICfjgaHjgoUnLFxuICBjaGU6ICfjgaHjgYcnLFxuICBjaG86ICfjgaHjgocnLFxuICBjeWE6ICfjgaHjgoMnLFxuICBjeWk6ICfjgaHjgYMnLFxuICBjeXU6ICfjgaHjgoUnLFxuICBjeWU6ICfjgaHjgYcnLFxuICBjeW86ICfjgaHjgocnLFxuICBjaHlhOiAn44Gh44KDJyxcbiAgY2h5dTogJ+OBoeOChScsXG4gIGNoeWU6ICfjgaHjgYcnLFxuICBjaHlvOiAn44Gh44KHJyxcbiAgdHNhOiAn44Gk44GBJyxcbiAgdHNpOiAn44Gk44GDJyxcbiAgdHNlOiAn44Gk44GHJyxcbiAgdHNvOiAn44Gk44GJJyxcbiAgdGhhOiAn44Gm44KDJyxcbiAgdGhpOiAn44Gm44GDJyxcbiAgdGh1OiAn44Gm44KFJyxcbiAgdGhlOiAn44Gm44GHJyxcbiAgdGhvOiAn44Gm44KHJyxcbiAgdHdhOiAn44Go44GBJyxcbiAgdHdpOiAn44Go44GDJyxcbiAgdHd1OiAn44Go44GFJyxcbiAgdHdlOiAn44Go44GHJyxcbiAgdHdvOiAn44Go44GJJyxcbiAgZGE6ICfjgaAnLFxuICBkaTogJ+OBoicsXG4gIGR1OiAn44GlJyxcbiAgZGU6ICfjgacnLFxuICBcImRvXCI6ICfjgaknLFxuICBkeWE6ICfjgaLjgoMnLFxuICBkeWk6ICfjgaLjgYMnLFxuICBkeXU6ICfjgaLjgoUnLFxuICBkeWU6ICfjgaLjgYcnLFxuICBkeW86ICfjgaLjgocnLFxuICBkaGE6ICfjgafjgoMnLFxuICBkaGk6ICfjgafjgYMnLFxuICBkaHU6ICfjgafjgoUnLFxuICBkaGU6ICfjgafjgYcnLFxuICBkaG86ICfjgafjgocnLFxuICBkd2E6ICfjganjgYEnLFxuICBkd2k6ICfjganjgYMnLFxuICBkd3U6ICfjganjgYUnLFxuICBkd2U6ICfjganjgYcnLFxuICBkd286ICfjganjgYknLFxuICBuYTogJ+OBqicsXG4gIG5pOiAn44GrJyxcbiAgbnU6ICfjgawnLFxuICBuZTogJ+OBrScsXG4gIG5vOiAn44GuJyxcbiAgbnlhOiAn44Gr44KDJyxcbiAgbnlpOiAn44Gr44GDJyxcbiAgbnl1OiAn44Gr44KFJyxcbiAgbnllOiAn44Gr44GHJyxcbiAgbnlvOiAn44Gr44KHJyxcbiAgaGE6ICfjga8nLFxuICBoaTogJ+OBsicsXG4gIGh1OiAn44G1JyxcbiAgaGU6ICfjgbgnLFxuICBobzogJ+OBuycsXG4gIGZ1OiAn44G1JyxcbiAgaHlhOiAn44Gy44KDJyxcbiAgaHlpOiAn44Gy44GDJyxcbiAgaHl1OiAn44Gy44KFJyxcbiAgaHllOiAn44Gy44GHJyxcbiAgaHlvOiAn44Gy44KHJyxcbiAgZnlhOiAn44G144KDJyxcbiAgZnl1OiAn44G144KFJyxcbiAgZnlvOiAn44G144KHJyxcbiAgZndhOiAn44G144GBJyxcbiAgZndpOiAn44G144GDJyxcbiAgZnd1OiAn44G144GFJyxcbiAgZndlOiAn44G144GHJyxcbiAgZndvOiAn44G144GJJyxcbiAgZmE6ICfjgbXjgYEnLFxuICBmaTogJ+OBteOBgycsXG4gIGZlOiAn44G144GHJyxcbiAgZm86ICfjgbXjgYknLFxuICBmeWk6ICfjgbXjgYMnLFxuICBmeWU6ICfjgbXjgYcnLFxuICBiYTogJ+OBsCcsXG4gIGJpOiAn44GzJyxcbiAgYnU6ICfjgbYnLFxuICBiZTogJ+OBuScsXG4gIGJvOiAn44G8JyxcbiAgYnlhOiAn44Gz44KDJyxcbiAgYnlpOiAn44Gz44GDJyxcbiAgYnl1OiAn44Gz44KFJyxcbiAgYnllOiAn44Gz44GHJyxcbiAgYnlvOiAn44Gz44KHJyxcbiAgcGE6ICfjgbEnLFxuICBwaTogJ+OBtCcsXG4gIHB1OiAn44G3JyxcbiAgcGU6ICfjgbonLFxuICBwbzogJ+OBvScsXG4gIHB5YTogJ+OBtOOCgycsXG4gIHB5aTogJ+OBtOOBgycsXG4gIHB5dTogJ+OBtOOChScsXG4gIHB5ZTogJ+OBtOOBhycsXG4gIHB5bzogJ+OBtOOChycsXG4gIG1hOiAn44G+JyxcbiAgbWk6ICfjgb8nLFxuICBtdTogJ+OCgCcsXG4gIG1lOiAn44KBJyxcbiAgbW86ICfjgoInLFxuICBteWE6ICfjgb/jgoMnLFxuICBteWk6ICfjgb/jgYMnLFxuICBteXU6ICfjgb/jgoUnLFxuICBteWU6ICfjgb/jgYcnLFxuICBteW86ICfjgb/jgocnLFxuICB5YTogJ+OChCcsXG4gIHl1OiAn44KGJyxcbiAgeW86ICfjgognLFxuICB4eWE6ICfjgoMnLFxuICB4eXU6ICfjgoUnLFxuICB4eW86ICfjgocnLFxuICByYTogJ+OCiScsXG4gIHJpOiAn44KKJyxcbiAgcnU6ICfjgosnLFxuICByZTogJ+OCjCcsXG4gIHJvOiAn44KNJyxcbiAgcnlhOiAn44KK44KDJyxcbiAgcnlpOiAn44KK44GDJyxcbiAgcnl1OiAn44KK44KFJyxcbiAgcnllOiAn44KK44GHJyxcbiAgcnlvOiAn44KK44KHJyxcbiAgbGE6ICfjgoknLFxuICBsaTogJ+OCiicsXG4gIGx1OiAn44KLJyxcbiAgbGU6ICfjgownLFxuICBsbzogJ+OCjScsXG4gIGx5YTogJ+OCiuOCgycsXG4gIGx5aTogJ+OCiuOBgycsXG4gIGx5dTogJ+OCiuOChScsXG4gIGx5ZTogJ+OCiuOBhycsXG4gIGx5bzogJ+OCiuOChycsXG4gIHdhOiAn44KPJyxcbiAgd286ICfjgpInLFxuICBsd2U6ICfjgo4nLFxuICB4d2E6ICfjgo4nLFxuICBuOiAn44KTJyxcbiAgbm46ICfjgpMnLFxuICAnbiAnOiAn44KTJyxcbiAgeG46ICfjgpMnLFxuICBsdHN1OiAn44GjJ1xufTtcblxud2FuYWthbmEuRk9VUl9DSEFSQUNURVJfRURHRV9DQVNFUyA9IFsnbHRzJywgJ2NoeScsICdzaHknXTtcblxud2FuYWthbmEuSl90b19SID0ge1xuICDjgYI6ICdhJyxcbiAg44GEOiAnaScsXG4gIOOBhjogJ3UnLFxuICDjgYg6ICdlJyxcbiAg44GKOiAnbycsXG4gIOOClOOBgTogJ3ZhJyxcbiAg44KU44GDOiAndmknLFxuICDjgpQ6ICd2dScsXG4gIOOClOOBhzogJ3ZlJyxcbiAg44KU44GJOiAndm8nLFxuICDjgYs6ICdrYScsXG4gIOOBjTogJ2tpJyxcbiAg44GN44KDOiAna3lhJyxcbiAg44GN44GDOiAna3lpJyxcbiAg44GN44KFOiAna3l1JyxcbiAg44GPOiAna3UnLFxuICDjgZE6ICdrZScsXG4gIOOBkzogJ2tvJyxcbiAg44GMOiAnZ2EnLFxuICDjgY46ICdnaScsXG4gIOOBkDogJ2d1JyxcbiAg44GSOiAnZ2UnLFxuICDjgZQ6ICdnbycsXG4gIOOBjuOCgzogJ2d5YScsXG4gIOOBjuOBgzogJ2d5aScsXG4gIOOBjuOChTogJ2d5dScsXG4gIOOBjuOBhzogJ2d5ZScsXG4gIOOBjuOChzogJ2d5bycsXG4gIOOBlTogJ3NhJyxcbiAg44GZOiAnc3UnLFxuICDjgZs6ICdzZScsXG4gIOOBnTogJ3NvJyxcbiAg44GWOiAnemEnLFxuICDjgZo6ICd6dScsXG4gIOOBnDogJ3plJyxcbiAg44GeOiAnem8nLFxuICDjgZc6ICdzaGknLFxuICDjgZfjgoM6ICdzaGEnLFxuICDjgZfjgoU6ICdzaHUnLFxuICDjgZfjgoc6ICdzaG8nLFxuICDjgZg6ICdqaScsXG4gIOOBmOOCgzogJ2phJyxcbiAg44GY44KFOiAnanUnLFxuICDjgZjjgoc6ICdqbycsXG4gIOOBnzogJ3RhJyxcbiAg44GhOiAnY2hpJyxcbiAg44Gh44KDOiAnY2hhJyxcbiAg44Gh44KFOiAnY2h1JyxcbiAg44Gh44KHOiAnY2hvJyxcbiAg44GkOiAndHN1JyxcbiAg44GmOiAndGUnLFxuICDjgag6ICd0bycsXG4gIOOBoDogJ2RhJyxcbiAg44GiOiAnZGknLFxuICDjgaU6ICdkdScsXG4gIOOBpzogJ2RlJyxcbiAg44GpOiAnZG8nLFxuICDjgao6ICduYScsXG4gIOOBqzogJ25pJyxcbiAg44Gr44KDOiAnbnlhJyxcbiAg44Gr44KFOiAnbnl1JyxcbiAg44Gr44KHOiAnbnlvJyxcbiAg44GsOiAnbnUnLFxuICDjga06ICduZScsXG4gIOOBrjogJ25vJyxcbiAg44GvOiAnaGEnLFxuICDjgbI6ICdoaScsXG4gIOOBtTogJ2Z1JyxcbiAg44G4OiAnaGUnLFxuICDjgbs6ICdobycsXG4gIOOBsuOCgzogJ2h5YScsXG4gIOOBsuOChTogJ2h5dScsXG4gIOOBsuOChzogJ2h5bycsXG4gIOOBteOBgTogJ2ZhJyxcbiAg44G144GDOiAnZmknLFxuICDjgbXjgYc6ICdmZScsXG4gIOOBteOBiTogJ2ZvJyxcbiAg44GwOiAnYmEnLFxuICDjgbM6ICdiaScsXG4gIOOBtjogJ2J1JyxcbiAg44G5OiAnYmUnLFxuICDjgbw6ICdibycsXG4gIOOBs+OCgzogJ2J5YScsXG4gIOOBs+OChTogJ2J5dScsXG4gIOOBs+OChzogJ2J5bycsXG4gIOOBsTogJ3BhJyxcbiAg44G0OiAncGknLFxuICDjgbc6ICdwdScsXG4gIOOBujogJ3BlJyxcbiAg44G9OiAncG8nLFxuICDjgbTjgoM6ICdweWEnLFxuICDjgbTjgoU6ICdweXUnLFxuICDjgbTjgoc6ICdweW8nLFxuICDjgb46ICdtYScsXG4gIOOBvzogJ21pJyxcbiAg44KAOiAnbXUnLFxuICDjgoE6ICdtZScsXG4gIOOCgjogJ21vJyxcbiAg44G/44KDOiAnbXlhJyxcbiAg44G/44KFOiAnbXl1JyxcbiAg44G/44KHOiAnbXlvJyxcbiAg44KEOiAneWEnLFxuICDjgoY6ICd5dScsXG4gIOOCiDogJ3lvJyxcbiAg44KJOiAncmEnLFxuICDjgoo6ICdyaScsXG4gIOOCizogJ3J1JyxcbiAg44KMOiAncmUnLFxuICDjgo06ICdybycsXG4gIOOCiuOCgzogJ3J5YScsXG4gIOOCiuOChTogJ3J5dScsXG4gIOOCiuOChzogJ3J5bycsXG4gIOOCjzogJ3dhJyxcbiAg44KSOiAnd28nLFxuICDjgpM6ICduJyxcbiAg44KQOiAnd2knLFxuICDjgpE6ICd3ZScsXG4gIOOBjeOBhzogJ2t5ZScsXG4gIOOBjeOChzogJ2t5bycsXG4gIOOBmOOBgzogJ2p5aScsXG4gIOOBmOOBhzogJ2p5ZScsXG4gIOOBoeOBgzogJ2N5aScsXG4gIOOBoeOBhzogJ2NoZScsXG4gIOOBsuOBgzogJ2h5aScsXG4gIOOBsuOBhzogJ2h5ZScsXG4gIOOBs+OBgzogJ2J5aScsXG4gIOOBs+OBhzogJ2J5ZScsXG4gIOOBtOOBgzogJ3B5aScsXG4gIOOBtOOBhzogJ3B5ZScsXG4gIOOBv+OBhzogJ215ZScsXG4gIOOBv+OBgzogJ215aScsXG4gIOOCiuOBgzogJ3J5aScsXG4gIOOCiuOBhzogJ3J5ZScsXG4gIOOBq+OBgzogJ255aScsXG4gIOOBq+OBhzogJ255ZScsXG4gIOOBl+OBgzogJ3N5aScsXG4gIOOBl+OBhzogJ3NoZScsXG4gIOOBhOOBhzogJ3llJyxcbiAg44GG44GBOiAnd2hhJyxcbiAg44GG44GJOiAnd2hvJyxcbiAg44GG44GDOiAnd2knLFxuICDjgYbjgYc6ICd3ZScsXG4gIOOClOOCgzogJ3Z5YScsXG4gIOOClOOChTogJ3Z5dScsXG4gIOOClOOChzogJ3Z5bycsXG4gIOOBmeOBgTogJ3N3YScsXG4gIOOBmeOBgzogJ3N3aScsXG4gIOOBmeOBhTogJ3N3dScsXG4gIOOBmeOBhzogJ3N3ZScsXG4gIOOBmeOBiTogJ3N3bycsXG4gIOOBj+OCgzogJ3F5YScsXG4gIOOBj+OChTogJ3F5dScsXG4gIOOBj+OChzogJ3F5bycsXG4gIOOBj+OBgTogJ3F3YScsXG4gIOOBj+OBgzogJ3F3aScsXG4gIOOBj+OBhTogJ3F3dScsXG4gIOOBj+OBhzogJ3F3ZScsXG4gIOOBj+OBiTogJ3F3bycsXG4gIOOBkOOBgTogJ2d3YScsXG4gIOOBkOOBgzogJ2d3aScsXG4gIOOBkOOBhTogJ2d3dScsXG4gIOOBkOOBhzogJ2d3ZScsXG4gIOOBkOOBiTogJ2d3bycsXG4gIOOBpOOBgTogJ3RzYScsXG4gIOOBpOOBgzogJ3RzaScsXG4gIOOBpOOBhzogJ3RzZScsXG4gIOOBpOOBiTogJ3RzbycsXG4gIOOBpuOCgzogJ3RoYScsXG4gIOOBpuOBgzogJ3RoaScsXG4gIOOBpuOChTogJ3RodScsXG4gIOOBpuOBhzogJ3RoZScsXG4gIOOBpuOChzogJ3RobycsXG4gIOOBqOOBgTogJ3R3YScsXG4gIOOBqOOBgzogJ3R3aScsXG4gIOOBqOOBhTogJ3R3dScsXG4gIOOBqOOBhzogJ3R3ZScsXG4gIOOBqOOBiTogJ3R3bycsXG4gIOOBouOCgzogJ2R5YScsXG4gIOOBouOBgzogJ2R5aScsXG4gIOOBouOChTogJ2R5dScsXG4gIOOBouOBhzogJ2R5ZScsXG4gIOOBouOChzogJ2R5bycsXG4gIOOBp+OCgzogJ2RoYScsXG4gIOOBp+OBgzogJ2RoaScsXG4gIOOBp+OChTogJ2RodScsXG4gIOOBp+OBhzogJ2RoZScsXG4gIOOBp+OChzogJ2RobycsXG4gIOOBqeOBgTogJ2R3YScsXG4gIOOBqeOBgzogJ2R3aScsXG4gIOOBqeOBhTogJ2R3dScsXG4gIOOBqeOBhzogJ2R3ZScsXG4gIOOBqeOBiTogJ2R3bycsXG4gIOOBteOBhTogJ2Z3dScsXG4gIOOBteOCgzogJ2Z5YScsXG4gIOOBteOChTogJ2Z5dScsXG4gIOOBteOChzogJ2Z5bycsXG4gIOOBgTogJ2EnLFxuICDjgYM6ICdpJyxcbiAg44GHOiAnZScsXG4gIOOBhTogJ3UnLFxuICDjgYk6ICdvJyxcbiAg44KDOiAneWEnLFxuICDjgoU6ICd5dScsXG4gIOOChzogJ3lvJyxcbiAg44GjOiAnJyxcbiAg44KVOiAna2EnLFxuICDjgpY6ICdrYScsXG4gIOOCjjogJ3dhJyxcbiAgJ+OAgCc6ICcgJyxcbiAg44KT44GCOiAnblxcJ2EnLFxuICDjgpPjgYQ6ICduXFwnaScsXG4gIOOCk+OBhjogJ25cXCd1JyxcbiAg44KT44GIOiAnblxcJ2UnLFxuICDjgpPjgYo6ICduXFwnbycsXG4gIOOCk+OChDogJ25cXCd5YScsXG4gIOOCk+OChjogJ25cXCd5dScsXG4gIOOCk+OCiDogJ25cXCd5bydcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gd2FuYWthbmE7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHdhbmFrYW5hID0gcmVxdWlyZShcIi4uL2xpYi93YW5ha2FuYS5qc1wiKTtcblxudmFyIFF1aXpDb250cm9sbGVyID0gZnVuY3Rpb24oJHJvb3RTY29wZSwgUHJvZ3Jlc3Npb24sIENvbmp1Z2F0aW9uU2VydmljZSkge1xuXHRcblx0dmFyIHZtID0gdGhpcztcblxuICAgIHZhciBwcm9ncmVzc2lvbiA9IG5ldyBQcm9ncmVzc2lvbi5TZXF1ZW5jZShDb25qdWdhdGlvblNlcnZpY2UuYWxsKCksIDMpO1xuXG5cdGFuZ3VsYXIuZXh0ZW5kKHZtLCB7XG5cbiAgICAgICAgcXVlc3Rpb25zIDogcHJvZ3Jlc3Npb24sXG4gICAgICAgIGFuc3dlcmVkIDogZmFsc2UsXG4gICAgICAgIHN0YXRlIDogXCJcIixcbiAgICAgICAgdXNlcklucHV0IDogXCJcIixcblxuICAgICAgICBhdHRlbXB0IDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIGlmKHZtLnF1ZXN0aW9ucy5nZXRDdXJyZW50KCkuaW1lKSB7XG4gICAgICAgICAgICAgICAgdm0udXNlcklucHV0ID0gd2FuYWthbmEudG9LYW5hKHZtLnVzZXJJbnB1dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHZtLmNoZWNrQW5zd2VyKHZtLnVzZXJJbnB1dCkpe1xuICAgICAgICAgICAgICAgIHZtLnN0YXRlID0gXCJoYXMtc3VjY2Vzc1wiO1xuICAgICAgICAgICAgICAgIHZtLmFuc3dlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdm0uc3RhdGUgPSBcImhhcy1lcnJvclwiO1xuICAgICAgICAgICAgICAgIHZtLmFuc3dlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIG5leHQgOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgaWYodm0ucXVlc3Rpb25zLm5leHQoKSl7XG5cbiAgICAgICAgICAgICAgICB2bS5hbnN3ZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZtLnN0YXRlID0gXCJcIjtcbiAgICAgICAgICAgICAgICB2bS51c2VySW5wdXQgPSBcIlwiO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdm0ucXVpekZpbmlzaGVkKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGNoZWNrQW5zd2VyIDogZnVuY3Rpb24oYW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29uanVnYXRpb25TZXJ2aWNlLmNoZWNrQW5zd2VyKFxuICAgICAgICAgICAgICAgIHZtLnF1ZXN0aW9ucy5nZXRDdXJyZW50KCksIFxuICAgICAgICAgICAgICAgIHZtLnVzZXJJbnB1dFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRDdXJyZW50IDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdm0ucXVlc3Rpb25zLmdldEN1cnJlbnQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBxdWl6RmluaXNoZWQgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoXCJzbGlkZS1maW5pc2hlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICAkcm9vdFNjb3BlLmZpbmlzaGVkID0gdHJ1ZTtcblxufTtcblxuYW5ndWxhci5tb2R1bGUoXCJhcHAucXVpelwiKS5jb250cm9sbGVyKFwiUXVpekNvbnRyb2xsZXJcIiwgUXVpekNvbnRyb2xsZXIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFF1aXpDb250cm9sbGVyOyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgUXVpekRpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiQUNcIixcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3BhcnRpYWxzL3F1aXouaHRtbCdcbiAgICB9XG5cbn07XG5cbmFuZ3VsYXIubW9kdWxlKFwiYXBwLnF1aXpcIikuZGlyZWN0aXZlKFwibmdRdWl6XCIsIFF1aXpEaXJlY3RpdmUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFF1aXpEaXJlY3RpdmU7IiwiYW5ndWxhci5tb2R1bGUoXCJhcHAucXVpelwiLCBbXSk7XG5cbm1vZHVsZS5leHBvcnRzLlF1aXpDb250cm9sbGVyID0gcmVxdWlyZShcIi4vY29udHJvbGxlclwiKTtcbm1vZHVsZS5leHBvcnRzLlF1aXpEaXJlY3RpdmUgPSByZXF1aXJlKFwiLi9kaXJlY3RpdmVcIik7XG5tb2R1bGUuZXhwb3J0cy5Qcm9ncmVzc2lvbiA9IHJlcXVpcmUoXCIuL3Byb2dyZXNzaW9uXCIpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBQcm9ncmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5TZXF1ZW5jZSA9IGZ1bmN0aW9uKGFycmF5LCBtYXhRdWVzdGlvbnMpIHtcblxuICAgICAgICB0aGlzLmluZCA9IGFycmF5Lmxlbmd0aC0xO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBhcnJheVthcnJheS5sZW5ndGgtMV07XG4gICAgICAgIHRoaXMuaXRlbXMgPSBhcnJheTtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMubWF4ID0gdHlwZW9mIG1heFF1ZXN0aW9ucyAhPT0gJ3VuZGVmaW5lZCcgPyBtYXhRdWVzdGlvbnMgOiAtMTtcblxuICAgICAgICB0aGlzLmdldEN1cnJlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5leHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgLy8gaWYgd2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBwcm9ncmVzc2lvbiwgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgICAgIGlmKHRoaXMuY291bnQgPT0gdGhpcy5tYXgpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgb25seSBvbmUgcXVlc3Rpb24gdGhlbiB3ZVxuICAgICAgICAgICAgLy8gY2FuJ3QgZ2V0IGFub3RoZXIgb25lLlxuXG4gICAgICAgICAgICBpZih0aGlzLml0ZW1zLmxlbmd0aCA9PSAxKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGl0ZW1zIGF0IGVuZCBvZiBhcnJheSBtb3JlIGxpa2VseSB0byBiZSBwaWNrZWRcbiAgICAgICAgICAgIC8vIHRoYW4gdGhvc2UgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGluZCA9IHRoaXMuaW5kO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBsb29wIHVudGlsIHdlIHBpY2sgYSBxdWVzdGlvbiBkaWZmZXJlbnQgdGhhbiBvdXIgY3VycmVudCBvbmVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgd2hpbGUoaW5kID09IHRoaXMuaW5kKSB7XG4gICAgICAgICAgICAgICAgdmFyIHkgPSBNYXRoLnJhbmRvbSgpKihNYXRoLnBvdyh0aGlzLml0ZW1zLmxlbmd0aCwgMikpO1xuICAgICAgICAgICAgICAgIHZhciB4ID0gTWF0aC5zcXJ0KHkpO1xuICAgICAgICAgICAgICAgIGluZCAgID0gTWF0aC50cnVuYyh4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5leHQgID0gdGhpcy5pdGVtc1tpbmRdO1xuXG4gICAgICAgICAgICB0aGlzLmluZCA9IGluZDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IG5leHQ7XG4gICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgXG4gICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgdGhpcy51cCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvLyB1c2VyIGFuc3dlcmVkIHRoZSBxdWVzdGlvbiBjb3JyZWN0bHksXG4gICAgICAgICAgICAvLyBzaGlmdCBpdGVtIGxlZnQuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKHRoaXMuaW5kID09IDApe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLml0ZW1zW3RoaXMuaW5kLTFdO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1t0aGlzLmluZC0xXSA9IHRoaXMuaXRlbXNbdGhpcy5pbmRdO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1t0aGlzLmluZF0gPSB0O1xuICAgICAgICAgICAgXG4gICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgdGhpcy5kb3duID0gZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyB1c2VyIGFuc3dlcmVkIHRoZSBxdWVzdGlvbiBpbmNvcnJlY3RseSxcbiAgICAgICAgICAgIC8vIHNoaWZ0IGl0ZW0gcmlnaHQuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKHRoaXMuaW5kID09IHRoaXMuaXRlbXMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy5pdGVtc1t0aGlzLmluZCsxXTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbdGhpcy5pbmQrMV0gPSB0aGlzLml0ZW1zW3RoaXMuaW5kXTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbdGhpcy5pbmRdID0gdDtcbiAgICAgICAgICAgIFxuICAgICAgICB9O1xuXG4gICAgfVxuXG59O1xuXG5hbmd1bGFyLm1vZHVsZShcImFwcC5xdWl6XCIpLnNlcnZpY2UoXCJQcm9ncmVzc2lvblwiLCBQcm9ncmVzc2lvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvZ3Jlc3Npb247XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIFNsaWRlQ29udHJvbGxlciA9IGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcblxuICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCh2bSwge1xuXG4gICAgICAgIGN1cnJlbnRTbGlkZSA6IDEsXG5cbiAgICAgICAgaXNTaG93biA6IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBuID09IHZtLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgfSxcblxuICAgICAgICBtb3ZlVG9OZXh0U2xpZGUgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZtLmN1cnJlbnRTbGlkZSArPSAxO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICRyb290U2NvcGUuJG9uKFwic2xpZGUtZmluaXNoZWRcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgdm0ubW92ZVRvTmV4dFNsaWRlKCk7XG4gICAgfSlcblxuICAgICRyb290U2NvcGUuZmluaXNoZWQgPSB0cnVlO1xuXG59O1xuXG5hbmd1bGFyLm1vZHVsZShcImFwcC5zbGlkZXNcIikuY29udHJvbGxlcihcIlNsaWRlQ29udHJvbGxlclwiLCBTbGlkZUNvbnRyb2xsZXIpOyIsImFuZ3VsYXIubW9kdWxlKFwiYXBwLnNsaWRlc1wiLCBbXSk7XG5cbm1vZHVsZS5leHBvcnRzLlNsaWRlQ29udHJvbGxlciA9IHJlcXVpcmUoXCIuL2NvbnRyb2xsZXJcIik7XG4iXX0=
